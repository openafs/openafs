<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="relnotes_files/filelist.xml">
<link rel=Edit-Time-Data href="relnotes_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>OpenAFS for Windows 1.5.32 Release Notes</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PostalCode"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="Street"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="address"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="country-region"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:LastAuthor>Jeffrey Altman</o:LastAuthor>
  <o:Revision>4</o:Revision>
  <o:TotalTime>1619</o:TotalTime>
  <o:Created>2006-11-29T17:26:00Z</o:Created>
  <o:LastSaved>2008-01-08T16:12:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>18828</o:Words>
  <o:Characters>107322</o:Characters>
  <o:Company>Secure Endpoints Inc.</o:Company>
  <o:Lines>894</o:Lines>
  <o:Paragraphs>251</o:Paragraphs>
  <o:CharactersWithSpaces>125899</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"\FF2D\FF33 \660E\671D";
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-charset:128;
	mso-generic-font-family:auto;
	mso-font-pitch:auto;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Albany;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:StarSymbol;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 268468224 0 0 1 0;}
@font-face
	{font-family:Thorndale;
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:Cumberland;
	panose-1:2 7 3 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:"Andale Sans UI";
	panose-1:2 11 5 2 0 0 0 0 0 1;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
h1
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Albany;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Albany;
	font-style:italic;}
h3
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:14.0pt;
	font-family:Albany;}
h4
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:3.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Times New Roman";}
h5
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:3.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:Thorndale;
	font-style:italic;}
h6
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:3.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	mso-outline-level:6;
	font-size:11.0pt;
	font-family:"Times New Roman";}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:14.15pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:28.3pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoEnvelopeAddress, li.MsoEnvelopeAddress, div.MsoEnvelopeAddress
	{margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:144.0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"MS Mincho";}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:Albany;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin-top:0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:14.15pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:Albany;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";
	font-style:italic;}
a:link, span.MsoHyperlink
	{color:navy;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:maroon;
	text-decoration:underline;
	text-underline:single;}
pre
	{margin:0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"MS Mincho";}
p.heading, li.heading, div.heading
	{mso-style-name:heading;
	margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:Albany;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.caption1, li.caption1, div.caption1
	{mso-style-name:caption1;
	margin-top:6.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";
	font-style:italic;}
p.index, li.index, div.index
	{mso-style-name:index;
	margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.contentsheading, li.contentsheading, div.contentsheading
	{mso-style-name:contentsheading;
	margin-top:12.0pt;
	margin-right:0pt;
	margin-bottom:6.0pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:Albany;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
p.preformattedtext, li.preformattedtext, div.preformattedtext
	{mso-style-name:preformattedtext;
	margin:0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Cumberland;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.listcontents, li.listcontents, div.listcontents
	{mso-style-name:listcontents;
	margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:28.35pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.listheading, li.listheading, div.listheading
	{mso-style-name:listheading;
	margin-top:4.3pt;
	margin-right:0pt;
	margin-bottom:4.3pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.header5, li.header5, div.header5
	{mso-style-name:header5;
	margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.heading3, li.heading3, div.heading3
	{mso-style-name:heading3;
	margin-top:7.2pt;
	margin-right:0pt;
	margin-bottom:7.2pt;
	margin-left:0pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Thorndale;
	mso-fareast-font-family:"MS Mincho";
	mso-bidi-font-family:"Times New Roman";}
p.default, li.default, div.default
	{mso-style-name:default;
	margin:0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	text-autospace:none;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"MS Mincho";
	color:black;}
span.bullets
	{mso-style-name:bullets;
	font-family:StarSymbol;
	mso-ascii-font-family:StarSymbol;
	mso-hansi-font-family:StarSymbol;}
span.headingchar
	{mso-style-name:headingchar;
	font-family:Albany;
	mso-ascii-font-family:Albany;
	mso-hansi-font-family:Albany;}
span.heading3char
	{mso-style-name:heading3char;
	font-family:Albany;
	mso-ascii-font-family:Albany;
	mso-hansi-font-family:Albany;
	font-weight:bold;}
span.heading4char
	{mso-style-name:heading4char;
	font-family:"Andale Sans UI";
	mso-ascii-font-family:"Andale Sans UI";
	mso-hansi-font-family:"Andale Sans UI";
	font-weight:bold;}
span.bodytextchar
	{mso-style-name:bodytextchar;
	font-family:Thorndale;
	mso-ascii-font-family:Thorndale;
	mso-hansi-font-family:Thorndale;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-locked:yes;
	mso-style-link:"Heading 2";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:Albany;
	mso-ascii-font-family:Albany;
	mso-hansi-font-family:Albany;
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	mso-bidi-language:AR-SA;
	font-weight:bold;
	font-style:italic;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:770122590;
	mso-list-template-ids:-194212550;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:1266575792;
	mso-list-template-ids:-1777932230;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
ol
	{margin-bottom:0pt;}
ul
	{margin-bottom:0pt;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
	mso-para-margin:0pt;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="7170"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=navy vlink=maroon style='tab-interval:36.0pt;line-break:
strict'>

<div class=Section1>

<p class=MsoTitle>OpenAFS for Windows 1.5.32<br>
Release Notes</p>

<p class=MsoBodyText>The Andrew File System (AFS) is a location-independent
file system that uses a local cache to increase its performance.&nbsp; An AFS
client accesses files anonymously or via a Kerberos authentication.&nbsp; The
global AFS is partitioned into cells.&nbsp; The AFS cell is a collection of AFS
volumes that are administered by a common entity.&nbsp;&nbsp; AFS cells can be
administered by a department even when the Kerberos realm used for local
authentication is managed by a much larger organization.&nbsp; AFS clients and
servers take advantage of Kerberos cross realm authentication to enable
authenticated access by entities located outside the local realm.&nbsp;
Authorization is enforced by the use of directory level access control lists
which can consist of individual or group identities.&nbsp; </p>

<p class=MsoBodyText>The AFS volume is a tree of files and
sub-directories.&nbsp; AFS volumes are created by administrators and are joined
to an AFS cell via the use of a mount point.&nbsp;&nbsp; Once a volume is
created, users can create files and directories as well as mount points and
symlinks within the volume without regard for the physical location of the
volume.&nbsp; Administrators can move the volume to another server as necessary
without the need to notify users.&nbsp;&nbsp; In fact, the volume move can
occur while files in the volume are in use.&nbsp; </p>

<p class=MsoBodyText>AFS volumes can be replicated to read-only
copies.&nbsp;&nbsp; When accessing files from a read-only replica, clients will
read all of the data from a single replica.&nbsp;&nbsp; If that replica becomes
unavailable, the clients will failover to any replica that is reachable.&nbsp;
Users of the data are unaware of where the replicas are stored or which one is
being accessed.&nbsp;&nbsp; The contents of the replicas can be updated at any
time by <i>releasing</i> the current contents of the source volume.</p>

<p class=MsoBodyText>OpenAFS for Windows (OAFW) provides AFS client access
Microsoft Windows operating systems.&nbsp; It strives to maintain transparency
such that the user is unaware of the distinction between the use of AFS and
Microsoft Windows file shares.&nbsp;&nbsp; OAFW can be part of a single sign-on
solution by allowing credentials for a Kerberos principal to be obtained at
logon and for that principal to be used to obtain AFS tokens for one or more
cells.&nbsp;&nbsp; Although OAFW is implemented as a locally installed SMB to
AFS gateway, OAFW maintains the portability of file paths by its use of the <a
href="file:///\\AFS">\\AFS</a> UNC server name.</p>

<p class=MsoBodyText>OpenAFS is the product of an open source development
effort begun on October 31 2000.&nbsp; OpenAFS is maintained and developed by a
group of volunteers with the support of the user community.&nbsp;&nbsp; If you
use OpenAFS as part of your computing infrastructure please contribute to its
continued growth.</p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417109">1. Installer
Options<span style='color:windowtext;display:none;mso-hide:all;text-decoration:
none;text-underline:none'>. 1</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417110">2. System
Requirements<span style='color:windowtext;display:none;mso-hide:all;text-decoration:
none;text-underline:none'>. 2</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417111">3.
Operational Notes<span style='color:windowtext;display:none;mso-hide:all;
text-decoration:none;text-underline:none'>. 2</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc190064072">4. How to
Debug Problems with OpenAFS for Windows<span style='color:windowtext;
display:none;mso-hide:all;text-decoration:none;text-underline:none'> 11</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417113">5. Reporting
Bugs<span style='color:windowtext;display:none;mso-hide:all;text-decoration:
none;text-underline:none'> 13</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417114">6. How to
Contribute to the Development of OpenAFS for Windows<span style='color:windowtext;
display:none;mso-hide:all;text-decoration:none;text-underline:none'>. 14</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417115">7. MSI
Deployment Guide<span style='color:windowtext;display:none;mso-hide:all;
text-decoration:none;text-underline:none'>. 15</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc115417116">Appendix A:
Registry Values<span style='color:windowtext;display:none;mso-hide:all;
text-decoration:none;text-underline:none'>. 26</span></a></span></p>

<h1><a name="_Toc190064014"></a><a name="_Toc152605032"></a><a
name="_Toc115416098"></a><a name="_Toc139993082"></a><a name="_Toc126872163"></a><a
name="_Toc115417109"></a><a name="_Toc115417037"></a><span style='mso-bookmark:
_Toc190064014'><span style='mso-bookmark:_Toc152605032'><span style='mso-bookmark:
_Toc115416098'>1. Installer Options</span></span></span></h1>

<p class=MsoNormal>It can be installed either as a new installation or an
upgrade from previous versions of OpenAFS for Windows or IBM AFS for
Windows.&nbsp; Installers are provided in two forms:</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'><span
style='font-size:9.0pt'>1.</span><span style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>an</span> executable (.exe) that is built using the
Nullsoft Scriptable Installation System, or</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'><span
style='font-size:9.0pt'>2.</span><span style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>a</span> Windows Installer package (.msi) that is
built using WiX and can be customized for organizations via the use of MSI
Transforms (see <a href="#_MSI_Deployment_Guide">MSI Deployment Guide</a>)</p>

<h1><a name="_Toc190064015"></a><a name="_Toc152605033"></a><a
name="_Toc115416099"></a><a name="_Toc139993083"></a><a name="_Toc126872164"></a><a
name="_Toc115417110"></a><a name="_Toc115417038"></a><span style='mso-bookmark:
_Toc190064015'><span style='mso-bookmark:_Toc152605033'><span style='mso-bookmark:
_Toc115416099'>2. System Requirements</span></span></span></h1>

<h2><a name="_Toc190064016"></a><a name="_Toc152605034"></a><a
name="_Toc115416100"></a><a name="_Toc139993084"></a><a name="_Toc126872165"></a><a
name="_Toc115417039"></a><span style='mso-bookmark:_Toc190064016'><span
style='mso-bookmark:_Toc152605034'><span style='mso-bookmark:_Toc115416100'>2.1
Supported Operating Systems</span></span></span></h2>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 2000 Workstation</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 2000 Server </p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows XP Home</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows XP Professional</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows XP 64</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 2003 Server (32-bit and 64-bit Intel)</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 2003 R2 Server (32-bit and 64-bit Intel)</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows <st1:place w:st="on">Vista</st1:place> (32-bit and 64-bit Intel)</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 2008 Server (32-bit and 64-bit Intel)</p>

<h3><a name="_Toc190064017"></a><a name="_Toc152605035"></a><a
name="_Toc115416101"></a><a name="_Toc139993085"></a><a name="_Toc126872166"></a><span
style='mso-bookmark:_Toc190064017'><span style='mso-bookmark:_Toc152605035'><span
style='mso-bookmark:_Toc115416101'>2.1.1 Unsupported Operating Systems</span></span></span></h3>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 95</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 98</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows 98 OSR2</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
Windows ME</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Microsoft
NT</p>

<p class=MsoNormal>Older releases of OpenAFS are available for download if
unsupported operating systems must be used.&nbsp; The last version of OpenAFS
with support for Win9x is 1.2.2b.&nbsp; The last version with support for
Windows NT 4.0 is 1.2.10.</p>

<h2><a name="_Toc190064018"></a><a name="_Toc152605036"></a><a
name="_Toc115416102"></a><a name="_Toc139993086"></a><a name="_Toc126872167"></a><a
name="_Toc115417040"></a><span style='mso-bookmark:_Toc190064018'><span
style='mso-bookmark:_Toc152605036'><span style='mso-bookmark:_Toc115416102'>2.2
Disk Space</span></span></span></h2>

<p class=MsoNormal>Up to 60mb required for the OpenAFS binaries plus 100MB for
the default AFSCache file.&nbsp;&nbsp; (The size of the AFSCache file may be
adjusted via the Registry after installation.)</p>

<h2><a name="_Toc190064019"></a><a name="_Toc152605037"></a><a
name="_Toc115416103"></a><a name="_Toc139993087"></a><a name="_Toc126872168"></a><a
name="_Toc115417041"></a><span style='mso-bookmark:_Toc190064019'><span
style='mso-bookmark:_Toc152605037'><span style='mso-bookmark:_Toc115416103'>2.3
Additional Software</span> Packages</span></span></h2>

<p class=MsoNormal><a href="http://web.mit.edu/kerberos/dist/index.html">MIT
Kerberos for Windows</a> 2.6.x or 3.x.x if Kerberos v5 authentication support
is desired.<span style='mso-spacerun:yes'>  </span>The recommended release is
version 3.2.2.<span style='mso-spacerun:yes'>  </span></p>

<h1><a name="_Toc190064020"></a><a name="_Toc152605038"></a><a
name="_Toc115416104"></a><a name="_Toc139993088"></a><a name="_Toc126872169"></a><a
name="_Toc115417111"></a><a name="_Toc115417042"></a><span style='mso-bookmark:
_Toc190064020'><span style='mso-bookmark:_Toc152605038'><span style='mso-bookmark:
_Toc115416104'>3. Operational Notes</span></span></span></h1>

<h2><a name="_Toc190064021"></a><a name="_Toc152605039"></a><a
name="_Toc115416105"></a><a name="_Toc139993089"></a><a name="_Toc126872170"></a><a
name="_Toc115417043"></a><span style='mso-bookmark:_Toc190064021'><span
style='mso-bookmark:_Toc152605039'><span style='mso-bookmark:_Toc115416105'>3.1.
Requirements for Kerberos v5 Authentication</span></span></span></h2>

<p class=MsoNormal>The Kerberos v4 infrastructure on which the OpenAFS 1.2
series is reliant is no longer secure.&nbsp; Cross-realm Kerberos is very
important in the AFS context and most sites have or are migrating to Kerberos
v5 environments.&nbsp; The OpenAFS 1.4 series (and later) integrates with <a
href="http://web.mit.edu/kerberos/">MIT Kerberos for Windows</a> 2.6.5 and
above to support Kerberos v5 authentication including automatic renewal of AFS
tokens and single sign-on via the Microsoft Windows Kerberos Logon
Service.<span style='mso-spacerun:yes'>   </span></p>

<p class=MsoNormal>The recommended version of <a
href="http://web.mit.edu/kerberos/">MIT Kerberos for Windows</a> is 3.2.2.<span
style='mso-spacerun:yes'>  </span>KFW 3.2.2 includes Network Identity Manager
1.3.1 which integrates with the <a href="#_3.1.3._Network_Identity">AFS
Provider</a> installed as part of OpenAFS for Windows.<span
style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal>When KFW is installed, the OpenAFS for Windows client will
obtain Kerberos v5 tickets and use them as tokens without modification.&nbsp;
The OpenAFS client requires that all of the AFS Servers with which it
communicates support the use of Kerberos v5 tickets as tokens. If Kerberos v5
based tokens are presented to an AFS server that does not support them, the
server will be unable to communicate with the client when tokens are present. Kerberos
v5 based tokens are supported by OpenAFS release 1.2.8 or later.<span
style='mso-spacerun:yes'>  </span>IBM Transarc servers do not support Kerberos
v5.</p>

<h3><a name="_Toc190064022"></a><a name="_Toc152605040"></a><a
name="_Toc115416106"></a><a name="_Toc139993090"></a><a name="_Toc126872171"></a><span
style='mso-bookmark:_Toc190064022'><span style='mso-bookmark:_Toc152605040'><span
style='mso-bookmark:_Toc115416106'>3.1.1. Active Directory</span></span></span></h3>

<p class=MsoNormal>Microsoft Windows Active Directory can be used as a Kerberos
v5 KDC in conjunction with OpenAFS.<span style='mso-spacerun:yes'> 
</span>There are two things to consider when using an Active Directory as the
Kerberos realm that issues the AFS service ticket.&nbsp; First, the Kerberos v5
tickets issued by Active Directory can be quite large when compared to tickets
issued by a traditional KDC due to the incorporation of authorization data (the
Microsoft PAC).&nbsp; If the issued tickets are larger than 344 bytes, the
OpenAFS 1.2 servers will be unable to process them and will issue a
RXKADBADTICKET error.<span style='mso-spacerun:yes'>  </span>OpenAFS 1.4 (and
beyond) servers can support the largest tickets that Active Directory can
issue.&nbsp; Second, the Kerberos v5 tickets issued by Windows 2003 Active
Directory are encrypted with the DES-CBC-MD5 encryption type (enctype).&nbsp;
OpenAFS 1.2 servers only support the DES-CBC-CRC enctype.<span
style='mso-spacerun:yes'>  </span>As a result, OpenAFS 1.2 servers cannot
process the resulting Kerberos v5 tokens.<span style='mso-spacerun:yes'> 
</span>Windows 2000 Active Directory issues tickets with the DES-CBC-CRC
enctype.</p>

<p class=MsoNormal>Microsoft has documented in <a
href="http://support.microsoft.com/kb/832572/">Knowledge Base article 832572</a>
a new NO_AUTH_REQUIRED flag that can be set on the account mapped to the AFS
service principal.<span style='mso-spacerun:yes'>  </span>When this flag is
set, the PAC authorization data will not be included in the ticket.<span
style='mso-spacerun:yes'>  </span>Setting this flag is recommended for all
accounts that are associated with non-Windows services and that do not
understand the authorization data stored in the <st1:place w:st="on">PAC.</st1:place><span
style='mso-spacerun:yes'>  </span>This flag cannot be used if AFS service
tickets are obtained via cross-realm using an Active Directory user principal.</p>

<p class=MsoNormal>Note that an Active Directory computer object cannot be used
for the afs service principal.</p>

<h3><a name="_Toc190064023"></a><a name="_Toc152605041"></a><a
name="_Toc115416107"></a><a name="_Toc139993091"></a><a name="_Toc126872172"></a><span
style='mso-bookmark:_Toc190064023'><span style='mso-bookmark:_Toc152605041'><span
style='mso-bookmark:_Toc115416107'>3.1.2. Using the krb524 service</span></span></span></h3>

<p class=MsoNormal>Some organizations have AFS cell names and Kerberos realm
names which differ by more then just lower and upper case and rely on a
modification to krb524d which maps a Kerberos v5 ticket from realm FOO to a
Kerberos v4 ticket in realm BAR.&nbsp; This allows user@FOO to appear to be
user@bar for the purposes of accessing the AFS cell.&nbsp; As of OpenAFS 1.2.8,
support was added to allow the immediate use of Kerberos v5 tickets as AFS (2b)
tokens. This is the first building block necessary to break away from the
limitations of Kerberos v4 with AFS.&nbsp; By using Kerberos v5 directly we
avoid the security holes inherent in Kerberos v4 cross-realm.&nbsp; We also
gain access to cryptographically stronger algorithms for authentication and
encryption. </p>

<p class=MsoNormal>Another reason for using Kerberos v5 directly is because the
krb524 service runs on a port (4444/udp) which has increasingly been blocked by
ISPs.&nbsp; The port was used to spread a worm which attacked Microsoft Windows
in the summer of 2003.&nbsp; When the port is blocked users find that they are
unable to authenticate.</p>

<p class=MsoNormal>Replacing the Kerberos v4 ticket with a Kerberos v5 ticket
is a win in all situations except when the cell name does not match the realm
name and the principal names placed into the ACL’s are not the principal names
from the Kerberos v5 ticket.&nbsp; To support this transition, OpenAFS for
Windows 1.4 adds a new registry value, <i><a href="#_Value___:_Use524">Use524</a></i>,
to force the use of krb524d.&nbsp; However, the availability of this option
should only be used by individuals until such time as their organizations can
provide a more permanent solution.</p>

<p class=MsoNormal>Note that the OpenAFS 1.4.x servers permit the use of a
secondary realm name that can be treated as equivalent to the cell name for
authentication. </p>

<h3><a name="_Toc190064024"></a><a name="_Toc152605042"></a><a
name="_3.1.3._Network_Identity"></a><span style='mso-bookmark:_Toc190064024'><span
style='mso-bookmark:_Toc152605042'>3.1.3. Network Identity Manager P</span>rovider</span></h3>

<p class=MsoNormal>As of release 1.5.9, OpenAFS for Windows includes a Network
Identity Manager Provider for obtaining AFS tokens.<span
style='mso-spacerun:yes'>  </span>This plug-in is a contribution from <a
href="https://www.secure-endpoints.com/">Secure Endpoints Inc.</a><span
style='mso-spacerun:yes'>  </span>Network Identity Manager is a multiple
identity credential management tool that ships with <a
href="http://web.mit.edu/kerberos/">MIT Kerberos for Windows</a> version 3.0
and above.<span style='mso-spacerun:yes'>  </span>The OpenAFS plug-in requires <a
href="http://web.mit.edu/kerberos/">MIT Kerberos for Windows</a> version 3.1 or
above.<span style='mso-spacerun:yes'>  </span>Version 3.2.2 is recommended for
the best user experience.</p>

<p class=MsoNormal align=center style='text-align:center'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:417pt;
 height:509.25pt'>
 <v:imagedata src="relnotes_files/image001.png" o:title="netidmgr_main"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=556 height=679
src="relnotes_files/image002.jpg" v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoNormal>The Network Identity Manager replaces the former KFW ticket
manager, Leash”, and when combined with the OpenAFS Provider, it is intended to
be used as a replacement for the AFS System Tray Tool (afscreds.exe).<span
style='mso-spacerun:yes'>  </span>Unlike both Leash and the AFS System Tray
Tool, Network Identity Manager with the OpenAFS Provider can easily manage AFS
tokens for multiple cells from one or more Kerberos v5 identities.</p>

<p class=MsoNormal align=center style='text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" style='width:406.5pt;height:294.75pt'>
 <v:imagedata src="relnotes_files/image003.png" o:title="netidmgr_afs_opt"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=542 height=393
src="relnotes_files/image004.jpg" v:shapes="_x0000_i1026"><![endif]></p>

<p class=MsoNormal>The AFS configuration panel for each Kerberos v5 identity is
used to configure which cells credentials should be obtained for and how they
should be obtained.<span style='mso-spacerun:yes'>  </span>If the cell to realm
mapping cannot be automatically determined, it can be explicitly
specified.<span style='mso-spacerun:yes'>  </span>If the cell does not support
Kerberos v5 tickets as tokens, then a krb524 service can be configured.</p>

<p class=MsoNormal align=center style='text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:406.5pt;height:294.75pt'>
 <v:imagedata src="relnotes_files/image005.png" o:title="netidmgr_afs_cfg"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=542 height=393
src="relnotes_files/image006.jpg" v:shapes="_x0000_i1027"><![endif]></p>

<p class=MsoNormal>The OpenAFS Provider configuration panel can be used to
check the status of the AFS Client Service and its version.<span
style='mso-spacerun:yes'>  </span>An optional checkbox is provided that will
prevent the AFS System Tray Tool from being started by Windows after
login.<span style='mso-spacerun:yes'>   </span>A shortcut to the OpenAFS
Control Panel is also provided.</p>

<h2><a name="_Toc190064025"></a><a name="_Toc152605043"></a><a
name="_Toc115416108"></a><a name="_Toc139993092"></a><a name="_Toc126872173"></a><a
name="_Toc115417044"></a><span style='mso-bookmark:_Toc190064025'><span
style='mso-bookmark:_Toc152605043'><span style='mso-bookmark:_Toc115416108'>3.2.
Use of the Microsoft Loopback Adapter</span> by the AFS Client Service</span></span></h2>

<p class=MsoNormal>By itself the OpenAFS Client Service does not provide robust
behavior in a plug-n-play network environment.&nbsp; Changes to the number of
network adapters or their assigned IP addresses will cause the service to
terminate unexpectedly.&nbsp; To avoid this behavior OpenAFS for Windows
installs a single instance of the Microsoft Loopback Adapter (MLA) on the
machine.&nbsp; With the MLA installed, the OpenAFS Client Service will not be
affected by the configuration changes of other network adapters installed on
the system.&nbsp; </p>

<p class=MsoNormal>The MLA is installed with a name of &quot;AFS&quot; and a
pre-assigned IP address in the 10.x.x.x range.&nbsp; The MLA is bound to the
“Client for Microsoft Networks” service and not bound to the “File and Printer
Sharing for Microsoft Networks”.&nbsp; If the MLA is unbound to &quot;Client
Microsoft Networks&quot;, the OpenAFS Client Service will become inaccessible
when the machine is disconnected from the network.&nbsp; If the MLA is bound to
&quot;File and Printer Sharing ...&quot; there will be a service type collision
between the name &quot;AFS&quot; and the name of the machine on the MLA's IP Address
that will result in the OpenAFS client service becoming inaccessible and the
&quot;NET VIEW \\AFS&quot; command will return a &quot;System Error 52&quot;
message.&nbsp; To correct the problem:</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;stop
the AFS Client Service</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;bind
the &quot;Client for Microsoft Networks&quot; to the MLA</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;unbind
&quot;File and Printer Sharing for Microsoft Networks&quot; from the MLA</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;Disable
and then re-enable the MLA</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;start
the AFS Client Service</p>

<p class=MsoNormal>When the MLA is not installed the unique NETBIOS name
published by OpenAFS SMB server is &quot;<i>MACHINE</i>-AFS&quot;.&nbsp; One of
the benefits of using the MLA is that the NETBIOS name does not have to be
published on any adapter other than the MLA.&nbsp; Therefore the chosen name is
no longer required to be unique.&nbsp; Instead the NETBIOS name associated with
the AFS Client Service is simply &quot;AFS&quot; and portable UNC paths of the
form \\AFS\cellname\path can now be used on all machines.</p>

<h2><a name="_Toc190064026"></a><a name="_Toc152605044"></a><a
name="_Toc115416109"></a><a name="_Toc139993093"></a><a name="_Toc126872174"></a><a
name="_Toc115417045"></a><span style='mso-bookmark:_Toc190064026'><span
style='mso-bookmark:_Toc152605044'><span style='mso-bookmark:_Toc115416109'>3.3.
Using Freelance (Dynamic Root) Mode to Improve Mobility</span></span></span></h2>

<p class=MsoNormal>Traditionally, when the OpenAFS Client Service starts it
must be able to access the &quot;root.afs&quot; volume of the default
cell.&nbsp; The &quot;root.afs&quot; volume contains the set of mount points to
the &quot;root.cell&quot; volumes of various cells the administrator of the
default cell believes should be accessible.&nbsp; If the &quot;root.afs&quot;
volume is inaccessible when the client service is started, the service will
terminate unexpectedly.&nbsp; Since many users now use laptops or otherwise
operate in disconnected environments in which a VPN may be required to access
the cell's servers, it is often the case that the &quot;root.afs&quot; volume for
the default cell is not reachable and the OpenAFS Client Service will not
successfully start. </p>

<p class=MsoNormal>To allow the OpenAFS Client Service to operate in these
environments, Freelance mode dynamically constructs a fake &quot;root.afs&quot;
volume from mount points and symlinks stored in the local registry.</p>

<p class=MsoNormal>The content of the fake “root.afs” volume is dynamically
generated as cells are accessed.&nbsp; When the fake &quot;root.afs&quot;
volume is initially constructed it will only contain two mount points: a <i>regular
path </i>and <i>read-write path </i>mount point used to access the
&quot;root.cell&quot; volume of the default AFS cell.&nbsp; Any attempt to
access a valid cell name will result in a new mount point being created in the
fake &quot;root.afs&quot; volume.&nbsp; If the cellname begins with a
&quot;.&quot; the mount point will be a <i>read-write path</i>; otherwise the
mount point will be a <i>regular path</i>.&nbsp; These mount points are
preserved in the registry at key:</p>

<p class=preformattedtext style='margin-left:35.45pt'><a
href="#_Regkey:_[HKLMSOFTWAREOpenAFSClie">HKLM\SOFTWARE\OpenAFS\Client\Freelance</a></p>

<p class=MsoNormal>Additional mount points may be manually created using the
&quot;fs mkmount&quot; command.&nbsp; Mount points may be removed using the
&quot;fs rmmount&quot; command.</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;fs mkmount
\\AFS\athena.mit.edu root.cell athena.mit.edu</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;fs mkmount
\\AFS\.athena.mit.edu root.cell athena.mit.edu -rw</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;fs rmmount
\\AFS\athena.mit.edu</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;fs rmmount
\\AFS\.athena.mit.edu</p>

<p class=MsoNormal>Symlinks may also be created within the Freelance “root.afs”
volume.</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;symlink make
\\afs\link \\afs\athena.mit.edu\user\j\a\jaltman</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;symlink list
\\afs\link</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '\\afs\link' is a
symlink to 'athena.mit.edu\user\j\a\jaltman'</p>

<p class=preformattedtext style='margin-left:35.45pt'>&gt;symlink rm \\afs\link</p>

<p class=MsoNormal>The symlinks are stored in the registry at:</p>

<p class=preformattedtext style='margin-left:35.45pt'><a
href="#_Regkey:_[HKLMSOFTWAREOpenAFSClie_1">HKLM\SOFTWARE\OpenAFS\Client\Freelance\Symlinks</a>&nbsp;</p>

<h2><a name="_Toc190064027"></a><a name="_Toc152605045"></a><a
name="_Toc115416110"></a><a name="_Toc139993094"></a><a name="_Toc126872175"></a><a
name="_Toc115417046"></a><span style='mso-bookmark:_Toc190064027'><span
style='mso-bookmark:_Toc152605045'><span style='mso-bookmark:_Toc115416110'>3.4.
Locating AFS Volume Database Servers</span> via DNS</span></span> </h2>

<p class=MsoNormal>The OpenAFS for Windows client will use DNS AFSDB records to
discover the location of AFS Volume Database servers when entries for the cell
are not present in the client's CellServDB file
(\%PROGRAMFILES%\OpenAFS\Client\CellServDB).</p>

<h2><a name="_Toc190064028"></a><a name="_Toc152605046"></a><a
name="_Toc115416111"></a><a name="_Toc139993095"></a><a name="_Toc126872176"></a><a
name="_Toc115417047"></a><span style='mso-bookmark:_Toc190064028'><span
style='mso-bookmark:_Toc152605046'><span style='mso-bookmark:_Toc115416111'>3.5.
Obtaining AFS Tokens as a Integrated Part of Windows Logon</span></span></span></h2>

<p class=MsoNormal>OpenAFS for Windows installs a WinLogon Network Provider to
provide Single Sign-On functionality (aka Integrated Logon.)&nbsp; Integrated
Logon can be used when the Windows username and password match the username and
password associated with the default cell's Kerberos realm.&nbsp; For example,
if the Windows username is &quot;jaltman&quot; and the default cell is
&quot;athena.mit.edu&quot;, then Integrated Logon can be successfully used if
the windows password matches the password assigned to the Kerberos principal
&quot;<a href="mailto:jaltman@ATHENA.MIT.EDU">jaltman@ATHENA.MIT.EDU</a>&quot;.&nbsp;
The realm “ATHENA.MIT.EDU” is obtained by performing a domain name to realm
mapping on the hostname of one of the cell's Volume Database servers.</p>

<p class=MsoNormal>Integrated Logon is required if you desire the ability to
store roaming user profiles within the AFS file system.&nbsp; OpenAFS does not
provide tools for synchronizing the Windows and Kerberos user accounts and
passwords.</p>

<p class=MsoNormal>When KFW is configured, Integrated Logon will use it to
obtain tokens. Use of KFW for Integrated Logon can be disabled via the <a
href="#_Value:_EnableKFW">EnableKFW</a> registry value.<span
style='mso-spacerun:yes'>  </span>Use of the krb524 service can be configured
via the <a href="#_Value:_Use524">Use524</a> registry value.</p>

<p class=MsoNormal>Integrated Logon will not transfer Kerberos v5 tickets into
the user’s logon session credential cache. KFW 3.1 and above provides that
functionality on its own.</p>

<p class=MsoNormal>Integrated Logon does not have the ability to cache the
user's username and password for the purpose of obtaining tokens if the Kerberos
KDC is inaccessible at logon time.</p>

<p class=MsoNormal>Integrated Logon supports the ability to obtain tokens for
multiple cells.&nbsp; For further information on how to configure this feature
read about the <a href="#_Value:_TheseCells">TheseCells</a> value.</p>

<p class=MsoToc2 style='margin-left:0pt;tab-stops:right dotted 431.5pt'>Integrated
Logon can be configured based upon the domain of the Windows account used to
login to the machine. <span style='mso-spacerun:yes'> </span>See <span
class=MsoHyperlink><span style='mso-no-proof:yes'><a
href="relnotes.htm#_Toc187554205">A.2.1 Domain specific configuration keys for the
Network Provider</a>.</span></span><span style='mso-fareast-font-family:"Times New Roman";
mso-no-proof:yes'><o:p></o:p></span></p>

<h2><a name="_Toc190064029"></a><a name="_Toc152605047"></a><a
name="_Toc115416112"></a><a name="_Toc139993096"></a><a name="_Toc126872177"></a><a
name="_Toc115417048"></a><span style='mso-bookmark:_Toc190064029'><span
style='mso-bookmark:_Toc152605047'><span style='mso-bookmark:_Toc115416112'>3.6.
AFS System Tray Command Line Options</span></span></span></h2>

<p class=MsoNormal><span style='color:red'>The AFS System Tray Tool
(afscreds.exe) has been deprecated in favor of Network Identity Manager.<span
style='mso-spacerun:yes'>  </span>afscreds.exe will be removed from the OpenAFS
in a future release.<o:p></o:p></span></p>

<p class=MsoNormal>The AFS System Tray tool (afscreds.exe) supports several command
line options: </p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -A = autoinit </p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -E = force existing afscreds to
exit</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -I = install startup shortcut</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -M = renew drive maps </p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -N = IP address change detection </p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -Q = quiet mode.&nbsp; do not
display start service dialog</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if afsd_service
is not already running</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -S = show tokens dialog on startup</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -U = uninstall startup shortcut</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -X = test and do map share</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; -Z = unmap drives</p>

<p class=MsoNormal>autoinit will result in automated attempts to acquire AFS
tokens when afscreds.exe is started.&nbsp; afscreds.exe will attempt to utilize
tickets stored in the MSLSA credentials cache; any existing CCAPI credentials
cache; and finally display an Obtain Tokens dialog to the user.&nbsp; When used
in combination with IP address change detection, afscreds.exe will attempt to
acquire AFS tokens whenever the IP address list changes and the Kerberos KDC is
accessible.</p>

<p class=MsoNormal>The renew drive maps option is used to ensure that the user
drive maps constructed via the OpenAFS tools (not NET USE) are re-constructed
each time afscreds.exe is started.</p>

<p class=MsoNormal>By default afscreds.exe is configured by the OpenAFS.org
installers to use “-A -N -M -Q” as startup options.&nbsp; Currently, there is
no user interface to change this selection after install time although these
options may be altered via the registry on either per machine or per user
basis.&nbsp; See <a href="#_Value___:_AfscredsShortcutParams">AfscredsShortcutParams</a>
in <a href="#_Appendix_A:_Registry_Values">Appendix A</a>.</p>

<h2><a name="_Toc190064030"></a><a name="_Toc152605048"></a><a
name="_Toc115416113"></a><a name="_Toc139993097"></a><a name="_Toc126872178"></a><a
name="_Toc115417049"></a><span style='mso-bookmark:_Toc190064030'><span
style='mso-bookmark:_Toc152605048'><span style='mso-bookmark:_Toc115416113'>3.7.
The “AFS Client Admins” Authorization Group</span></span></span></h2>

<p class=MsoNormal>The OpenAFS for Windows client supports a local Windows
authorization group named &quot;AFS Client Admins&quot;.&nbsp; This group is
used in place of the &quot;Administrators&quot; group to determine which users
are allowed to modify the AFS Client Service configuration via the AFS Control
Panel (afs_config.exe) or fs.exe command line tool.&nbsp; The following fs.exe
commands are now restricted to members of the &quot;AFS Client Admins&quot;
group:</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>checkservers
with a non-zero timer value</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setcachesize</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>newcell</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sysname
with a new sysname list</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exportafs</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setcell</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setserverprefs</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>storebehind</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setcrypt</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>cscpolicy</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>trace</p>

<p class=preformattedtext style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>minidump</p>

<p class=MsoNormal>The creation or removal of mount points and symlinks in the
Freelance “root.afs” volume are also restricted to members of the “AFS Client
Admins” group.</p>

<p class=MsoNormal>The initial membership of the &quot;AFS Client Admins&quot;
group when created by the installer is equivalent to the local
&quot;Administrators&quot; group.&nbsp; If a user is added to the
&quot;Administrators&quot; group after the creation of the &quot;AFS Client
Admin&quot; group, that user will not be an AFS Client Administrator.&nbsp;
Only users that are members of the &quot;AFS Client Admins&quot; group are AFS
Client Administrators.&nbsp; The local &quot;SYSTEM&quot; account is an
implicit member of the &quot;AFS Client Admins&quot; group.</p>

<p class=MsoNormal>Setting the default sysname for a machine should be done via
the <a href="#_Value_:_SysName">registry</a> and not via &quot;fs
sysname&quot;.</p>

<h2><a name="_Toc190064031"></a><a name="_Toc152605049"></a><a
name="_Toc115416114"></a><a name="_Toc139993098"></a><a name="_Toc126872179"></a><a
name="_Toc115417050"></a><span style='mso-bookmark:_Toc190064031'><span
style='mso-bookmark:_Toc152605049'><span style='mso-bookmark:_Toc115416114'>3.8.
OpenAFS support for UNC paths</span></span></span> </h2>

<p class=MsoNormal>The OpenAFS client supports UNC paths everywhere.&nbsp; UNC
paths provide a canonical name for resources stored within AFS.&nbsp; UNC paths
should be used instead of drive letter mappings whenever possible.&nbsp;&nbsp;
This is especially true when specifying the location of roaming profiles and
redirected folders.&nbsp;&nbsp;</p>

<p class=MsoNormal>Power users that make extensive use of the command line
shell, cmd.exe, should consider using JP Software's 4NT or Take Command command
processors.&nbsp; Unlike cmd.exe, the JPSoftware shells fully support UNC paths
as the current directory.&nbsp; JPSoftware added special recognition for
OpenAFS to its command shells, 4NT 7.0 and Take Command 7.0.&nbsp; AFS paths
can be entered in UNIX notation (e.g., <a
href="file:///\\afs\openafs.org\software">/afs/openafs.org/software</a>), space
utilization reports the output of the volume status for the specified path, and
many AFS specific functions and variables have been added to the command
language.</p>

<p class=MsoNormal>JPSoftware's web site is <span class=MsoHyperlink><a
href="http://www.jpsoft.com/">http://www.jpsoft.com</a></span>.</p>

<h2><a name="_Toc190064032"></a><a name="_Toc152605050"></a><a
name="_Toc115416115"></a><a name="_Toc139993099"></a><a name="_Toc126872180"></a><a
name="_Toc115417051"></a><span style='mso-bookmark:_Toc190064032'><span
style='mso-bookmark:_Toc152605050'><span style='mso-bookmark:_Toc115416115'>3.9.
<span class=GramE>aklog.exe</span></span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client ships with its own version of aklog.exe
which should be used in preference to those obtained by other sources.&nbsp;
The OpenAFS aklog.exe supports Kerberos v5 as well as the ability to
auto-generate AFS IDs within foreign PTS databases.</p>

<p class=preformattedtext>Usage: aklog [-d] [[-cell | -c] cell [-k krb_realm]]</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[[-p | -path] pathname]</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[-noprdb] [-force]</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[-5 [-m]| -4]</p>

<p class=preformattedtext>&nbsp;</p>

<p class=preformattedtext>&nbsp;&nbsp; -d = output debugging information.</p>

<p class=preformattedtext>&nbsp;&nbsp; cell = zero or more cells for which
tokens will be obtained</p>

<p class=preformattedtext>&nbsp;&nbsp; krb_realm = the kerberos realm of the cell.</p>

<p class=preformattedtext>&nbsp;&nbsp; pathname = the directory for which
authentication is required</p>

<p class=preformattedtext>&nbsp;&nbsp; -noprdb = don't try to determine AFS ID.</p>

<p class=preformattedtext>&nbsp;&nbsp; -5 or -4 = use Kerberos V (default) or
Kerberos IV tickets</p>

<p class=preformattedtext>&nbsp;&nbsp; -m = use krb524d to convert Kerberos V
tickets to Kerberos IV</p>

<h2><a name="_Toc190064033"></a><a name="_Toc152605051"></a><a
name="_Toc115416116"></a><a name="_Toc139993100"></a><a name="_Toc126872181"></a><a
name="_Toc115417052"></a><span style='mso-bookmark:_Toc190064033'><span
style='mso-bookmark:_Toc152605051'><span style='mso-bookmark:_Toc115416116'>3.10.
OpenAFS Servers on Windows are Unsupported</span></span></span></h2>

<p class=MsoNormal>The AFS Server functionality provided as part of the OpenAFS
install package might work but should be considered highly experimental.&nbsp;
It has not been thoroughly tested.&nbsp; Any data which would cause pain if
lost should not be stored in an OpenAFS Server on Windows.</p>

<p class=MsoNormal>Known issues include lack of support for power management
and dynamic network configuration.<span style='mso-spacerun:yes'> 
</span>Salvager is also known to crash.</p>

<h3><a name="_Toc190064034">3.10.1. OpenAFS Server Installation</a></h3>

<p class=MsoNormal>When the OpenAFS Server is installed, the TransarcAFSServer
service (bosctlsvc.exe) will be installed and configured.<span
style='mso-spacerun:yes'>  </span>The TransarcAFSServer service will auto-start
the traditional AFS bos server.<span style='mso-spacerun:yes'>  </span>The
former AFS Server Configuration wizard makes assumptions that no longer hold
true and it has therefore been disabled.<span style='mso-spacerun:yes'> 
</span>However, following the instructions for installing the AFS Servers on
UNIX it is possible to properly configure the AFS Servers on Microsoft
Windows.<span style='mso-spacerun:yes'>  </span>The AFS Server binaries,
configuration files, and log files are installed under %Program Files%\OpenAFS\Server.<span
style='mso-spacerun:yes'>   </span><span style='color:red'><a
href="http://www.openafs.org/no-more-des.html"><span class=GramE><span
style='color:red'>kaserver</span></span><span style='color:red'> has been
deprecated and its use is strongly discouraged.</span></a></span><span
style='mso-spacerun:yes'>  </span>Instead, Active Directory or some other
Kerberos v5 KDC should be used in its place.</p>

<h3><a name="_Toc190064035">3.10.2. Using the AFS Client Service when the
Server is installed</a></h3>

<p class=MsoNormal>A few notes on the usage of the AFS Client Service if it is
going to be used with the OpenAFS AFS Server:</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Freelance
mode should be disabled when the AFS Client Service is installed on the same
machine as the AFS Server,.&nbsp; Otherwise, you will be unable to manipulate
the contents of the root.afs volume for the hosted cell without constructing an
explicit mountpoint to the root.afs volume from another volume.</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
AFS Server and related tools only support the built in kaserver (Kerberos
IV).&nbsp; If kaserver is being used, <a href="http://web.mit.edu/kerberos/">MIT
Kerberos for Windows</a> should not be installed or must be disabled via the <a
href="#_Toc126872361">EnableKFW</a> registry value.</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
AFS Servers are not aware of power management events nor are they aware of
network configuration changes.<span style='mso-spacerun:yes'>  </span>It is
strongly advised that the AFS servers be installed only on systems that will
not be shutdown or suspended unexpectedly.<span style='mso-spacerun:yes'>  
</span>An inadvertent shutdown will corrupt volume data.</p>

<h2><a name="_Toc190064036"></a><a name="_Toc152605052"></a><a
name="_Toc115416117"></a><a name="_Toc139993101"></a><a name="_Toc126872182"></a><a
name="_Toc115417053"></a><span style='mso-bookmark:_Toc190064036'><span
style='mso-bookmark:_Toc152605052'><span style='mso-bookmark:_Toc115416117'>3.11.
OpenAFS Debugging Symbol files</span></span></span></h2>

<p class=MsoNormal>The OpenAFS for Windows installers include Debugging Symbol
files which should be installed if you are experiencing problems and need to
send crash reports.&nbsp; This is true for both the release and the debug
versions of the installers.&nbsp; The difference between the release and debug
versions are:</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>whether
or not the binaries were compiled with optimization (release: yes, debug: no)</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>whether
or not the debug symbols are installed by default (release: no, debug: yes)</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>whether
or not <i style='mso-bidi-font-style:normal'>fs trace</i> logging is turned on
by default (release: no, debug: yes)<span style='font-size:9.0pt;font-family:
Symbol'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>whether
or not additional debug statements were compiled into the binaries (release:
no, debug: yes)</p>

<h2><a name="_Toc190064037"></a><a name="_Toc152605053"></a><a
name="_Toc115416118"></a><a name="_Toc139993102"></a><a name="_Toc126872183"></a><a
name="_Toc115417054"></a><span style='mso-bookmark:_Toc190064037'><span
style='mso-bookmark:_Toc152605053'><span style='mso-bookmark:_Toc115416118'>3.12.
</span>Large File (64-bit) Support</span></span></h2>

<p class=MsoNormal>As of release 1.5.3, OpenAFS for Windows supports files
larger than 2GB.&nbsp; The maximum file size is now 16777216 terabytes when the
AFS File Server supports large files.&nbsp;&nbsp; If the AFS File Server does
not support 64-bit file sizes, then the maximum file size remains 2GB.</p>

<h2><a name="_Toc190064038"></a><a name="_Toc152605054"></a><a
name="_Toc115416119"></a><a name="_Toc139993103"></a><a name="_Toc126872184"></a><a
name="_Toc115417055"></a><span style='mso-bookmark:_Toc190064038'><span
style='mso-bookmark:_Toc152605054'><span style='mso-bookmark:_Toc115416119'>3.13.
Encrypted AFS Network Communication</span></span></span></h2>

<p class=MsoNormal>The OpenAFS for Windows installer by default activates a
weak form of encrypted data transfer between the AFS client and the AFS
servers.&nbsp; This is often referred to as &quot;fcrypt&quot; mode.&nbsp;
Encrypted data transfer can be turned on or off with the “fs crypt”
command.&nbsp; Transitions between “crypt” and “non-crypt” modes are logged to
the Windows Application Event Log. </p>

<h2><a name="_Toc190064039"></a><a name="_Toc152605055"></a><a
name="_Toc115416120"></a><a name="_Toc139993104"></a><a name="_Toc126872185"></a><a
name="_Toc115417056"></a><span style='mso-bookmark:_Toc190064039'><span
style='mso-bookmark:_Toc152605055'><span style='mso-bookmark:_Toc115416120'>3.14.
Authenticated Access to the OpenAFS Client Service</span></span></span></h2>

<p class=MsoNormal>OpenAFS authenticates SMB connections using either NTLM or
GSS SPNEGO (NTLM).&nbsp; In previous versions of OpenAFS, the SMB connections
were unauthenticated which opened the door for several attacks which could be
used to obtain access to another user's tokens on shared machines.&nbsp;&nbsp;&nbsp;
</p>

<p class=MsoNormal>When GSS SPNEGO attempts a Kerberos v5 authentication, the
Windows SMB client will attempt to retrieve service tickets for
&quot;cifs/afs@REALM&quot; (if the loopback adapter is in use) or
&quot;cifs/machine-afs@REALM&quot; (if the loopback adapter is not being
used).&nbsp; It is extremely important that this service principal not exist in
the KDC database as the Kerberos authentication must fail allowing automatic
fallback to NTLM.&nbsp; When NTLM is used a special local authentication mode
will be used that does not require access to the user's password.&nbsp;
Instead, Windows will internally recognize the request as coming from a local
logon session.</p>

<h2><a name="_Toc190064040"></a><a name="_Toc152605056"></a><a
name="_Toc115416121"></a><a name="_Toc139993105"></a><a name="_Toc126872186"></a><a
name="_Toc115417057"></a><span style='mso-bookmark:_Toc190064040'><span
style='mso-bookmark:_Toc152605056'><span style='mso-bookmark:_Toc115416121'>3.15.
No More INI Files</span></span></span></h2>

<p class=MsoNormal>Previous AFS clients for Windows stored configuration data
in Windows .INI files. &nbsp;&nbsp;The OpenAFS client does not use Windows .INI
files for the storage of configuration data.&nbsp;&nbsp; All settings are
stored in the registry (see <a href="#_Appendix_A:_Registry_Values">Appendix A</a>).&nbsp;
The CellServDB file is now stored in either the %ALLUSERSPROFILE%\Application
Data\OpenAFS\Client directory or the %PROGRAMFILES%\OpenAFS\Client directory.&nbsp;&nbsp;
The <i><a href="#_Value___:_CellServDBDir">CellServDBDir</a></i> registry value
or the AFSCONF environment variable can be used to specify an alternative
location.</p>

<p class=MsoNormal>For users converting from IBM AFS clients, during
installation OpenAFS will relocate the contents of the “afsdcell.ini” file to
the new CellServDB file.&nbsp; OpenAFS will also import the contents of the
“afs_freelance.ini” file to the Windows registry.&nbsp;&nbsp; OpenAFS will not
process the contents of the “afsddbmt.ini”.</p>

<h2><a name="_Toc190064041"></a><a name="_Toc152605057"></a><a
name="_Toc115416122"></a><a name="_Toc139993106"></a><a name="_Toc126872187"></a><a
name="_Toc115417058"></a><span style='mso-bookmark:_Toc190064041'><span
style='mso-bookmark:_Toc152605057'><span style='mso-bookmark:_Toc115416122'>3.16.
Microsoft Windows Internet Connection Firewall</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client is compatible with the Internet
Connection Firewall that debuted with Windows XP SP2 and Windows 2003
SP1.&nbsp; The Internet Connection Firewall will be automatically adjusted to
allow the receipt of incoming callback messages from the AFS file server.&nbsp;
In addition, the appropriate <i>Back Connection</i> registry entries are added
to allow SMB authentication to be performed across the Microsoft Loopback
Adapter.</p>

<h2><a name="_Toc190064042"></a><a name="_Toc152605058"></a><a
name="_Toc115416123"></a><a name="_Toc139993107"></a><a name="_Toc126872188"></a><a
name="_Toc115417059"></a><span style='mso-bookmark:_Toc190064042'><span
style='mso-bookmark:_Toc152605058'><span style='mso-bookmark:_Toc115416123'>3.17.
Browsing AFS from the Explorer Shell and Office</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client Service implements the CIFS Remote Admin
Protocol which allows Explorer to browse server and share information. This
significantly enhances the interoperability of AFS volumes within the Explorer
Shell and Microsoft Office applications.</p>

<h2><a name="_Toc190064043"></a><a name="_Toc152605059"></a><a
name="_Toc115416124"></a><a name="_Toc139993108"></a><a name="_Toc126872189"></a><a
name="_Toc115417060"></a><span style='mso-bookmark:_Toc190064043'><span
style='mso-bookmark:_Toc152605059'><span style='mso-bookmark:_Toc115416124'>3.18.
</span><st1:place w:st="on"><st1:PlaceName w:st="on">Byte</st1:PlaceName> <st1:PlaceType
 w:st="on">Range</st1:PlaceType></st1:place> Locking</span></span></h2>

<p class=MsoNormal>Many applications on Windows (e.g. Microsoft Office) require
the use of byte range locks applied to a file either to protect against
simultaneous file access or as a signaling mechanism.&nbsp;&nbsp; OpenAFS for
Windows release 1.5 (or greater) implements byte range locking within the
CIFS-AFS gateway server.&nbsp;&nbsp; This support for byte range locking obtains
AFS’ advisory file server locks to simulate Microsoft Windows mandatory
locks.&nbsp;&nbsp; When an application opens a file, a lock will be obtained
from AFS indicating that the file is in use.&nbsp; If the lock is a write lock,
access to the file will be restricted to other applications running on the same
machine as the first application to request the lock.&nbsp;&nbsp; Applications
running on other machines will see the AFS full file lock and will be unable to
access the file.</p>

<p class=MsoNormal>Most Windows applications and Windows itself opens files in
shared read mode. When this is done, a read lock is applied to the
file.&nbsp;&nbsp; This does not prevent shared read access across multiple
machines but is used to ensure that no one writes to the file while it is in
use.</p>

<p class=MsoNormal>As the CIFS-AFS gateway server attempts to implement Windows
lock semantics on top of AFS lock semantics it is important to understand how
AFS file locks work.&nbsp; In Windows there are no special privileges
associated with obtaining file locks.&nbsp; If you can read or execute a file,
then you can obtain shared and exclusive locks.&nbsp; In general, a Windows
shared lock equates to an AFS read lock and a Windows exclusive lock equates to
an AFS write lock.&nbsp; In AFS if you can write to a file, then you can obtain
a write lock.&nbsp; However, in AFS if you can read a file it does not mean
that you can obtain a read lock on it.&nbsp;&nbsp; The ability to obtain read
locks is granted only if you have the lock (or ‘k’) privilege.&nbsp; This
behavior is required in order to allow anonymous users to read files while
preventing them from being able to deny access to the files to other
users.&nbsp; <i>OpenAFS 1.4.0 and earlier as well as all IBM AFS file servers
have an implementation bug that prevents users with write privileges from being
able to obtain locks without the lock privilege.</i>&nbsp; When AFS serves data
out of read-only volumes the file server will deny all requests for read and
write locks because the contents of the volume cannot be changed by the client.</p>

<p class=MsoNormal>Since Microsoft Windows applications almost always attempt
to obtain a temporary exclusive lock when accessing files the OpenAFS Client’s
CIFS-AFS gateway implements the following semantics in order to reduce the
inconvenience on end users.&nbsp; </p>

<ul style='margin-top:0pt' type=disc>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the file is located on a read-only volume and the application requests a
     shared lock, the CIFS-AFS server will grant the lock request without
     asking the AFS file server.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the file is located on a read-only volume and the application opens the
     file with write access and requests an exclusive lock, the CIFS-AFS server
     will refuse the lock request and return a read only error.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the file is located on a read-only volume and the application opens the
     file with only read access and requests an exclusive lock, the CIFS-AFS
     server will fulfill the lock request with a read lock.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the file is located on a read-write volume and the application requests an
     exclusive lock, the CIFS-AFS server will request a write lock from the AFS
     file server.&nbsp; If granted by the file server, then the CIFS-AFS server
     will grant the lock request.&nbsp; If the request is denied due to an
     access denied error and the user has the lookup, read and lock privileges
     and the file was opened for read only access, then the CIFS-AFS server
     will request a read lock from the file server.&nbsp; If the request is
     denied due to an access denied error and the user has the lookup and read
     privileges but not the lock privilege, then the CIFS-AFS server will grant
     the request even though the AFS file server said ‘no’.&nbsp; If the user
     does not have at least those permissions, the CIFS-AFS server will deny
     the request.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the file is located on a read-write volume and the application requests a
     shared lock, the CIFS-AFS server will request a read lock from the AFS
     file server.&nbsp; If granted by the file server, then the CIFS-AFS server
     grants the lock request.&nbsp; If the request is denied due to an access
     denied error and the user has the lookup and read privileges but not the
     lock privilege, then the CIFS-AFS server will grant the request even
     though the AFS file server said ‘no’.&nbsp; If the user does not have at
     least those permissions, the CIFS-AFS server will deny the request.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     multiple processes on the same machine attempt to access the same file
     simultaneously, the CIFS-AFS server will locally manage the granted locks
     and all processes will share a single lock on the AFS file server.</li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo3;tab-stops:list 36.0pt'>If
     the CIFS-AFS server is unable to renew the AFS file server locks, then it
     will invalidate the associated file handles.&nbsp; This is the same
     behavior that an application will experience if it was using a Windows
     File Share and the connection was broken.&nbsp;&nbsp; Invalidating the
     file handles prevents subsequent data corruption from taking place.</li>
</ul>

<p class=MsoNormal>If you wish to disable the acquisition of locks from the
file server, this can be performed using the <a
href="#_Value:_EnableServerLocks">EnableServerLocks</a> registry value.</p>

<h2><a name="_Toc190064044"></a><a name="_Toc152605060"></a><a
name="_Toc115416125"></a><a name="_Toc139993109"></a><a name="_Toc126872190"></a><a
name="_Toc115417061"></a><span style='mso-bookmark:_Toc190064044'><span
style='mso-bookmark:_Toc152605060'><span style='mso-bookmark:_Toc115416125'>3.19.
Automatic Discarding of AFS Tokens at Logoff</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client will automatically forget a user's tokens
upon Logoff unless the user's profile was loaded from an AFS volume.&nbsp; In
this situation there is no mechanism to determine when the profile has been
successfully written back to the network.&nbsp; It is therefore unsafe to
release the user's tokens.&nbsp; Whether or not the profile has been loaded
from the registry can be determined for Local Accounts, Active Directory
accounts and NT4 accounts.</p>

<p class=MsoNormal>If there is a need to disable this functionality, the <a
href="#_Value_:_LogoffPreserveTokens">LogoffPreserveTokens</a> registry value
can be used. (<span class=GramE>see</span> <a
href="#_Appendix_A:_Registry_Values">Appendix A</a>.)</p>

<h2><a name="_Toc190064045"></a><a name="_Toc152605061"></a><a
name="_Toc115416126"></a><a name="_Toc139993110"></a><a name="_Toc126872191"></a><a
name="_Toc115417062"></a><span style='mso-bookmark:_Toc190064045'><span
style='mso-bookmark:_Toc152605061'><span style='mso-bookmark:_Toc115416126'>3.20.
Windows Terminal Server installations</span></span></span></h2>

<p class=MsoNormal>When installing the NSIS (.exe) installer under Terminal
Server, you must execute it from within the Add/Remove Programs Control
Panel.&nbsp; Failure to do so will result in AFS not running properly.&nbsp;
The AFS Server should not be installed on a machine with Terminal Server
installed.</p>

<h2><a name="_Toc190064046"></a><a name="_Toc152605062"></a><a
name="_Toc115416127"></a><a name="_Toc139993111"></a><a name="_Toc126872192"></a><a
name="_Toc115417063"></a><span style='mso-bookmark:_Toc190064046'><span
style='mso-bookmark:_Toc152605062'><span style='mso-bookmark:_Toc115416127'>3.21.
Hidden Dot Files</span></span></span></h2>

<p class=MsoNormal>AFS is a UNIX native file system.&nbsp; The OpenAFS client
attempts to treat the files stored in AFS as they would be on UNIX.&nbsp; File
and directory names beginning with a &quot;.&quot; are automatically given the
Hidden attribute so they will not normally be displayed.<span
style='mso-spacerun:yes'>  </span>This behavior can be altered via the <a
href="#_Value:_HideDotFiles">HideDotFiles</a> registry value.</p>

<h2><a name="_Toc190064047"></a><a name="_Toc152605063"></a><a
name="_Toc115416128"></a><a name="_Toc139993112"></a><a name="_Toc126872193"></a><a
name="_Toc115417064"></a><span style='mso-bookmark:_Toc190064047'><span
style='mso-bookmark:_Toc152605063'><span style='mso-bookmark:_Toc115416128'>3.22.
Status Cache Limits</span></span></span></h2>

<p class=MsoNormal>The Status Cache (AFS Configuration Control Panel: Advanced
Page) is defined to have a maximum number of entries.&nbsp; Each entry
represents a single file or directory entry accessed within the AFS file
system.&nbsp; When the maximum number of entries are allocated, entries will
begin to be reused according to a least recently used (LRU) algorithm.&nbsp; If
the number of files or directories being accessed repeatedly by your
applications is greater then the maximum number of entries, your host will
begin to experience thrashing of the Status Cache and all requests will result
in network operations.</p>

<p class=MsoNormal>If you are experiencing poor performance try increasing the
maximum number of Status Cache entries.&nbsp; Each entry requires approximately
1.2K.&nbsp; The default number of Status Cache entries is 10,000.<span
style='mso-spacerun:yes'>  </span>This can be adjusted using the <a
href="#_Value:_Stats">Stats</a> registry value.</p>

<h2><a name="_Toc190064048"></a><a name="_Toc152605064"></a><a
name="_Toc115416129"></a><a name="_Toc139993113"></a><a name="_Toc126872194"></a><a
name="_Toc115417065"></a><span style='mso-bookmark:_Toc190064048'><span
style='mso-bookmark:_Toc152605064'><span style='mso-bookmark:_Toc115416129'>3.23.
NETBIOS over TCP/IP must be enabled</span></span></span></h2>

<p class=MsoNormal>&quot;Netbios over TCP/IP&quot; must be active on the
machine in order for communication with the AFS Client Service to succeed.&nbsp;
If &quot;Netbios over TCP/IP&quot; is disabled on the machine, then
communication with the AFS Client Service will be impossible.<span
style='mso-spacerun:yes'>  </span>If you are using the Microsoft Loopback
Adapter, configure the “Netbios over TCP/IP” setting for the adapter.</p>

<h2><a name="_Toc190064049"></a><a name="_Toc152605065"></a><a
name="_Toc115416130"></a><a name="_Toc139993114"></a><a name="_Toc126872195"></a><a
name="_Toc115417066"></a><span style='mso-bookmark:_Toc190064049'><span
style='mso-bookmark:_Toc152605065'><span style='mso-bookmark:_Toc115416130'>3.24.
OpenAFS binaries are digitally signed</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client Service and related binaries distributed
by OpenAFS.org are digitally signed by &quot;Secure Endpoints Inc.&quot;.&nbsp;
The OpenAFS Client Service will perform a run-time verification check to ensure
that all OpenAFS related DLLs loaded by the service match the same file version
number and were signed by the same entity.&nbsp; This check has been added to
prevent the stability problems caused by more than one AFS installation present
on a machine at the same time.&nbsp; Many hours of support time have been
wasted tracking down problems caused by the mixture of files from different
releases.&nbsp; </p>

<p class=MsoNormal><a href="#_Appendix_A:_Registry_Values">Appendix A</a>
documents the &quot;<a href="#_Value___:_VerifyServiceSignature">VerifyServiceSignature</a>&quot;
registry value which can be used to disable the signature check.&nbsp; The file
version check cannot be disabled.</p>

<h2><a name="_Toc190064050"></a><a name="_Toc152605066"></a><a
name="_Toc115416131"></a><a name="_Toc139993115"></a><a name="_Toc126872196"></a><a
name="_Toc115417067"></a><span style='mso-bookmark:_Toc190064050'><span
style='mso-bookmark:_Toc152605066'><span style='mso-bookmark:_Toc115416131'>3.25.
Maximum Size of the AFSCache File</span></span></span></h2>

<p class=MsoNormal>The maximum cache size on 32-bit Windows is approximately
1.3GB.&nbsp; This is the largest contiguous block of memory in the 2GB process
address space which can be used for constructing a memory mapped file.&nbsp;
Due to fragmentation of the process space caused by the loading of libraries
required by the digital signature verification code, any attempt to specify a
cache size greater then 700MB will result in the automatic disabling of the
signature check.<span style='mso-spacerun:yes'>  </span>Significantly larger
cache sizes can be used on 64-bit Windows.</p>

<h2><a name="_Toc190064051"></a><a name="_Toc152605067"></a><a
name="_Toc115416132"></a><a name="_Toc139993116"></a><a name="_Toc126872197"></a><a
name="_Toc115417068"></a><span style='mso-bookmark:_Toc190064051'><span
style='mso-bookmark:_Toc152605067'><span style='mso-bookmark:_Toc115416132'>3.26.
Filename Character Sets</span></span></span></h2>

<p class=MsoNormal>OpenAFS for Windows implements an SMB server which is used
as a gateway to the AFS filesystem.&nbsp; Because of limitations of the SMB
implementation, Windows stores all files into AFS using OEM code pages such as
CP437 (United States) or CP850 (Western Europe).&nbsp; These code pages are
incompatible with the ISO Latin-1 character set typically used as the default
on UNIX systems in both the <st1:country-region w:st="on">United States</st1:country-region>
and <st1:place w:st="on">Western Europe</st1:place>.&nbsp; Filenames stored by
OpenAFS for Windows are therefore unreadable on UNIX systems if they include
any of the following characters:</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:399.5pt'>
  <td width=590 valign=top style='width:442.8pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt;height:399.5pt'>
  <p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; <span lang=IT
  style='mso-ansi-language:IT'>[Ç]&nbsp; 128&nbsp; 08/00&nbsp; 200&nbsp;
  80&nbsp; C cedilla<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ü]&nbsp; 129&nbsp; 08/01&nbsp; 201&nbsp; 81&nbsp; u diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [é]&nbsp; 130&nbsp; 08/02&nbsp; 202&nbsp; 82&nbsp; e acute<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [â]&nbsp; 131&nbsp; 08/03&nbsp; 203&nbsp; 83&nbsp; a circumflex<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ä]&nbsp; 132&nbsp; 08/04&nbsp; 204&nbsp; 84&nbsp; a diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [à]&nbsp; 133&nbsp; 08/05&nbsp; 205&nbsp; 85&nbsp; a grave<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [å]&nbsp; 134&nbsp; 08/06&nbsp; 206&nbsp; 86&nbsp; a ring<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ç]&nbsp; 135&nbsp; 08/07&nbsp; 207&nbsp; 87&nbsp; c cedilla<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ê]&nbsp; 136&nbsp; 08/08&nbsp; 210&nbsp; 88&nbsp; e circumflex<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ë]&nbsp; 137&nbsp; 08/09&nbsp; 211&nbsp; 89&nbsp; e diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [è]&nbsp; 138&nbsp; 08/10&nbsp; 212&nbsp; 8A&nbsp; e grave<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ï]&nbsp; 139&nbsp; 08/11&nbsp; 213&nbsp; 8B&nbsp; i diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [î]&nbsp; 140&nbsp; 08/12&nbsp; 214&nbsp; 8C&nbsp; i circumflex<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ì]&nbsp; 141&nbsp; 08/13&nbsp; 215&nbsp; 8D&nbsp; i grave<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [Ä]&nbsp; 142&nbsp; 08/14&nbsp; 216&nbsp; 8E&nbsp; A diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [Å]&nbsp; 143&nbsp; 08/15&nbsp; 217&nbsp; 8F&nbsp; A ring<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [É]&nbsp; 144&nbsp; 09/00&nbsp; 220&nbsp; 90&nbsp; E acute<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [æ]&nbsp; 145&nbsp; 09/01&nbsp; 221&nbsp; 91&nbsp; ae diphthong<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [Æ]&nbsp; 146&nbsp; 09/02&nbsp; 222&nbsp; 92&nbsp; AE diphthong<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ô]&nbsp; 147&nbsp; 09/03&nbsp; 223&nbsp; 93&nbsp; o circumflex<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ö]&nbsp; 148&nbsp; 09/04&nbsp; 224&nbsp; 94&nbsp; o diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ò]&nbsp; 149&nbsp; 09/05&nbsp; 225&nbsp; 95&nbsp; o grave<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span><span lang=FR style='mso-ansi-language:FR'>[û]&nbsp; 150&nbsp;
  09/06&nbsp; 226&nbsp; 96&nbsp; u circumflex<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=FR style='mso-ansi-language:FR'>&nbsp;&nbsp;&nbsp;&nbsp;
  [ù]&nbsp; 151&nbsp; 09/07&nbsp; 227&nbsp; 97&nbsp; u grave<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=FR style='mso-ansi-language:FR'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span><span lang=IT style='mso-ansi-language:IT'>[ÿ]&nbsp; 152&nbsp;
  09/08&nbsp; 230&nbsp; 98&nbsp; y diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [Ö]&nbsp; 153&nbsp; 09/09&nbsp; 231&nbsp; 99&nbsp; O diaeresis<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span>[Ü]&nbsp; 154&nbsp; 09/10&nbsp; 232&nbsp; 9A&nbsp; U diaeresis</p>
  <p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; [ø]&nbsp; 155&nbsp;
  09/11&nbsp; 233&nbsp; 9B&nbsp; o slash</p>
  <p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; [£]&nbsp; 156&nbsp;
  09/12&nbsp; 234&nbsp; 9C&nbsp; Pound sterling sign</p>
  <p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; <span lang=IT
  style='mso-ansi-language:IT'>[Ø]&nbsp; 157&nbsp; 09/13&nbsp; 235&nbsp;
  9D&nbsp; O slash<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  [×]&nbsp; 158&nbsp; 09/14&nbsp; 236&nbsp; 9E&nbsp; Multiplication sign<o:p></o:p></span></p>
  <p class=preformattedtext><span lang=IT style='mso-ansi-language:IT'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span>[ƒ]&nbsp; 159&nbsp; 09/15&nbsp; 237&nbsp; 9F&nbsp; <st1:place w:st="on">Florin</st1:place>
  sign</p>
  </td>
 </tr>
</table>

<p class=preformattedtext>&nbsp;</p>

<p class=MsoNormal>The OpenAFS Client provides an optional registry value, <i><a
href="#_Value___:_StoreAnsiFilenames">StoreAnsiFilenames</a></i><span
class=GramE>, that</span> can be set to instruct OpenAFS to store filenames
using the ANSI Code Page instead of the OEM Code Page.&nbsp; The ANSI Code Page
is a compatible superset of Latin-1.&nbsp; This setting is not the default
setting because making this change would prevent OpenAFS for Windows from being
able to access filenames containing the above characters which were created
without this setting.</p>

<h2><a name="_Toc190064052"></a><a name="_Toc152605068"></a><a
name="_Toc115416133"></a><a name="_Toc139993117"></a><a name="_Toc126872198"></a><a
name="_Toc115417069"></a><span style='mso-bookmark:_Toc190064052'><span
style='mso-bookmark:_Toc152605068'><span style='mso-bookmark:_Toc115416133'>3.27.
Known Character Set Issues with Roaming Profiles</span></span></span></h2>

<p class=MsoNormal>There is a known issue with storing Windows Roaming Profiles
when the profile contains either directories or files with names which cannot
be represented in the local OEM character set.&nbsp; In this case, attempts to
write the profile back to AFS will fail during the character set
conversion.&nbsp; The OpenAFS Client’s CIFS gateway does not support
UNICODE.&nbsp; To avoid this problem some sites run custom logoff scripts (assigned
by group policy) which rename all files to use only the supported characters
for the locale.</p>

<h2><a name="_Toc190064053"></a><a name="_Toc152605069"></a><a
name="_Toc115416134"></a><a name="_Toc139993118"></a><a name="_Toc126872199"></a><a
name="_Toc115417070"></a><span style='mso-bookmark:_Toc190064053'><span
style='mso-bookmark:_Toc152605069'><span style='mso-bookmark:_Toc115416134'>3.28.
The AFSCache File</span></span></span></h2>

<p class=MsoNormal>The AFS Cache file is stored by default at %TEMP%\AFSCache
in a persistent file marked with the Hidden and System attributes.&nbsp; The
persistent nature of the data stored in the cache file improves the performance
of OpenAFS by reducing the number of times data must be read from the AFS file
servers.&nbsp; </p>

<p class=MsoNormal>The performance of the AFS Client Service is significantly
affected by the access times associated with the AFSCache paging
file.&nbsp;&nbsp; When given the choice, the AFSCache file should be placed on
a fast disk, preferably NTFS, the file should not be compressed and should
consist of as few fragments as possible.&nbsp;&nbsp; Significant performance
gains can be achieved by defragmenting the AFSCache file with Sysinternal's
Contig utility while the AFS Client Service is stopped.</p>

<h2><a name="_Toc190064054"></a><a name="_Toc152605070"></a><a
name="_Toc115416135"></a><a name="_Toc139993119"></a><a name="_Toc126872200"></a><a
name="_Toc115417071"></a><span style='mso-bookmark:_Toc190064054'><span
style='mso-bookmark:_Toc152605070'><span style='mso-bookmark:_Toc115416135'>3.29.
Restricting OpenAFS Client Service Start and Stop</span></span></span></h2>

<p class=MsoNormal>A new command line tool, afsdacl.exe, can be used to
restrict the ability to start and stop the OpenAFS Client Service.</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; afsdacl : Set or reset the DACL to
allow starting or stopping</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the
afsd service by any ordinary user.</p>

<p class=preformattedtext>&nbsp;</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp; Usage : afsdacl [-set | -reset]
[-show]</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-set&nbsp;&nbsp; : Sets the DACL</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-reset : Reset the DACL</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;-show&nbsp; : Show current DACL (SDSF)</p>

<h2><a name="_Toc190064055"></a><a name="_Toc152605071"></a><a
name="_Toc115416136"></a><a name="_Toc139993120"></a><a name="_Toc126872201"></a><a
name="_Toc115417072"></a><span style='mso-bookmark:_Toc190064055'><span
style='mso-bookmark:_Toc152605071'><span style='mso-bookmark:_Toc115416136'>3.30.
The @sys Name List</span></span></span></h2>

<p class=MsoNormal>The default @sys name list in the OpenAFS Client is set to
&quot;x86_win32 i386_w2k i386_nt40&quot; for 32-bit x86 systems.&nbsp; The
default is &quot;amd64_win64&quot; for amd 64-bit versions of Windows.</p>

<h2><a name="_Toc190064056"></a><a name="_Toc152605072"></a><a
name="_Toc115416137"></a><a name="_Toc139993121"></a><a name="_Toc126872202"></a><a
name="_Toc115417073"></a><span style='mso-bookmark:_Toc190064056'><span
style='mso-bookmark:_Toc152605072'><span style='mso-bookmark:_Toc115416137'>3.31.
Symlinks to AFS UNC paths</span></span></span></h2>

<p class=MsoNormal>In OpenAFS, symlinks to AFS UNC paths, \\AFS[\all]\..., are
treated the same as symlinks to /afs/...&nbsp; However, please use /afs/... as
the Windows UNC form will not work on UNIX client.</p>

<h2><a name="_Toc190064057"></a><a name="_Toc152605073"></a><a
name="_Toc115416138"></a><a name="_Toc139993122"></a><a name="_Toc126872203"></a><a
name="_Toc115417074"></a><span style='mso-bookmark:_Toc190064057'><span
style='mso-bookmark:_Toc152605073'><span style='mso-bookmark:_Toc115416138'>3.32.
Cache Manager Debugging</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client implements the Cache Manager Debugging
RPC Interface.&nbsp; The CM debugger can be queried with cmdebug.exe.<span
style='mso-spacerun:yes'>  </span></p>

<p class=preformattedtext>Usage: cmdebug -servers &lt;server machine&gt; [-port
&lt;IP port&gt;] [-long] [-refcounts]</p>

<p class=preformattedtext><span style='mso-spacerun:yes'>             </span><span
style='mso-spacerun:yes'> </span>[-callbacks] [-ctime] [-addrs] [-cache]
[-cellservdb] [-help]</p>

<p class=preformattedtext>Where: -long<span style='mso-spacerun:yes'>       
</span>print all info<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-refcounts<span style='mso-spacerun:yes'>   </span>print only cache
entries with positive reference counts<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-callbacks<span style='mso-spacerun:yes'>   </span>print only cache
entries with callbacks<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-ctime<span style='mso-spacerun:yes'>       </span>print human readable
expiration time<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-addrs<span style='mso-spacerun:yes'>       </span>print only host
interfaces<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-cache<span style='mso-spacerun:yes'>       </span>print only cache
configuration<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>-<span
class=GramE>cellservdb<span style='mso-spacerun:yes'>  </span>print</span> only
cellservdb info</p>

<h2><a name="_Toc190064058"></a><a name="_Toc152605074"></a><a
name="_Toc115416139"></a><a name="_Toc139993123"></a><a name="_Toc126872204"></a><a
name="_Toc115417075"></a><span style='mso-bookmark:_Toc190064058'><span
style='mso-bookmark:_Toc152605074'><span style='mso-bookmark:_Toc115416139'>3.33.
Windows Logon Caching vs. Kerberos Logons</span></span></span></h2>

<p class=MsoNormal>If you are a site which utilizes MIT/Heimdal Kerberos
principals to logon to Windows via a cross-realm relationship with a
multi-domain Windows forest, you must enable Windows logon caching unless the
workstation is Windows Vista.</p>

<h2><a name="_Toc190064059"></a><a name="_Toc152605075"></a><a
name="_Toc115416140"></a><a name="_Toc139993124"></a><a name="_Toc126872205"></a><a
name="_Toc115417076"></a><span style='mso-bookmark:_Toc190064059'><span
style='mso-bookmark:_Toc152605075'><span style='mso-bookmark:_Toc115416140'>3.34.
Initial Server Preferences</span></span></span></h2>

<p class=MsoNormal>VLDB and File Server Preferences can now be provided initial
values using registry keys.&nbsp; This is useful for managed machines in a
Windows domain which are centrally located (e.g., in a computing lab.)&nbsp;
See <a href="#_Appendix_A:_Registry_Values">Appendix A</a> for details on the
&quot;<a href="#_Regkey:_[HKLMSOFTWAREOpenAFSClie_2">Server Preferences</a>&quot;
keys.</p>

<h2><a name="_Toc190064060"></a><a name="_Toc152605076"></a><a
name="_Toc115416141"></a><a name="_Toc139993125"></a><a name="_Toc126872206"></a><a
name="_Toc115417077"></a><span style='mso-bookmark:_Toc190064060'><span
style='mso-bookmark:_Toc152605076'><span style='mso-bookmark:_Toc115416141'>3.35.
File Timestamps</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client reports timestamps on files stored in AFS
in UTC all year round.&nbsp; In locales with daylight savings time, previous
versions of AFS for Windows reported the time when DST is active as
UTC+1.&nbsp; This was done to preserve the relative local time for the
user.&nbsp; A file stored at 11:00am EST in January would be reported as having
been stored at 11:00am EDT in June.&nbsp; Unfortunately, this has the negative
side effect of changing the reported timestamp from 16:00UTC to 15:00UTC.&nbsp;
Since Windows treats all file times in UTC, data synchronization applications
which rely on the timestamp would believe that all files stored in AFS had
changed.</p>

<p class=MsoNormal>It should be noted that UNIX based operating systems (such
as Solaris) do not appear to report file times to applications in UTC.&nbsp;
They do preserve the relative local time.&nbsp; This may confuse some users who
are used to being able to compare the timestamp in an UNIX shell with the
timestamp from the Windows explorer.&nbsp; During DST, these two times will no
longer agree even though they are in fact representing the same moment in time.</p>

<h2><a name="_Toc190064061"></a><a name="_Toc152605077"></a><a
name="_Toc115416142"></a><a name="_Toc139993126"></a><a name="_Toc126872207"></a><a
name="_Toc115417078"></a><span style='mso-bookmark:_Toc190064061'><span
style='mso-bookmark:_Toc152605077'><span style='mso-bookmark:_Toc115416142'>3.36.
Windows RPC client support must be installed</span></span></span> </h2>

<p class=MsoNormal>If the installer refuses to install and complains about an
RPC configuration error, check to ensure that the following registry entries
are present and that they refer to the dll &quot;rpcrt4.dll&quot;:</p>

<p class=preformattedtext>&nbsp;&nbsp; HKLM
&quot;SOFTWARE\Microsoft\RPC\ClientProtocols&quot; &quot;ncacn_np&quot;</p>

<p class=preformattedtext>&nbsp;&nbsp; HKLM
&quot;SOFTWARE\Microsoft\RPC\ClientProtocols&quot; &quot;ncacn_ip_tcp&quot;</p>

<p class=preformattedtext>&nbsp;&nbsp; HKLM &quot;SOFTWARE\Microsoft\RPC\ClientProtocols&quot;
&quot;ncadg_ip_udp&quot;</p>

<p class=preformattedtext>&nbsp;&nbsp; HKLM
&quot;SOFTWARE\Microsoft\RPC\ClientProtocols&quot; &quot;ncacn_http&quot;</p>

<h2><a name="_Toc190064062"></a><a name="_Toc152605078"></a><a
name="_Toc115416143"></a><a name="_Toc139993127"></a><a name="_Toc126872208"></a><a
name="_Toc115417079"></a><span style='mso-bookmark:_Toc190064062'><span
style='mso-bookmark:_Toc152605078'><span style='mso-bookmark:_Toc115416143'>3.37.
Generating Minidumps of the OpenAFS Client Service</span></span></span></h2>

<p class=MsoNormal>OpenAFS 1.4 added a new command, &quot;fs
minidump&quot;.&nbsp; This command can be used at any time to generate a mini dump
file containing the current stack of the afsd_service.exe process.&nbsp;&nbsp;
This output can be very helpful when debugging the AFS Client Service when it
is unresponsive to SMB/CIFS requests.</p>

<h2><a name="_Toc190064063"></a><a name="_Toc152605079"></a><a
name="_Toc115416144"></a><a name="_Toc139993128"></a><a name="_Toc126872209"></a><a
name="_Toc115417080"></a><span style='mso-bookmark:_Toc190064063'><span
style='mso-bookmark:_Toc152605079'><span style='mso-bookmark:_Toc115416144'>3.38.
AFS Client Universally Unique Identifiers (UUIDs) vs. System Cloning</span></span></span></h2>

<p class=MsoNormal>The OpenAFS Client implements Universally Unique Identifiers
(UUIDs).&nbsp; They are used to provide the AFS file server with a method of
identifying the client that is independent of IP address.&nbsp; This permits
the AFS file server to track mobile clients or those behind Network Address
Translators when they move from address to address or port to port. Tracking
the client improves client performance by permitting callback state to be
maintained across location changes. The UUID is generated when the AFSCache
file is created and is maintained as long as the contents of the AFSCache file
are valid.&nbsp; The UUID is stored in the AFSCache file.&nbsp;</p>

<p class=MsoNormal>When cloning machines that have Windows AFS client installed
it is necessary to generate a new UUID for each client. This will be done
automatically if the Windows Machine SID is re-generated using Microsoft
SysPrep. If the SID is not being re-generated either the AFSCache file should
be deleted or the command <i>fs uuid -generate</i> must be executed after the
the clone is created. <b>Multiple AFS clients reporting the same UUID will not
only result in horrible AFS client performance and cache inconsistencies, but
they will also put a tremendous strain on the AFS file servers.</b></p>

<p class=MsoNormal>For lab environments that wish to erase all cached data on
each restart, the <a href="#_Toc170268938">NonPersistentCaching</a> option will
disable the use of the persistent cache file. As a side effect, a new UUID will
be generated for the AFS client service on each restart.</p>

<p class=MsoNormal>When a Windows system is cloned, the Microsoft Loopback
Adapter will be disabled in the cloned system.<span style='mso-spacerun:yes'> 
</span>Administrators must re-install the Microsoft Loopback Adapter within the
cloned environment.<span style='mso-spacerun:yes'>  </span>This can be
automated by using the OpenAFS “<i style='mso-bidi-font-style:normal'>instloop.exe</i>
–<i style='mso-bidi-font-style:normal'>i</i>” command.<span
style='mso-spacerun:yes'>  </span>Instloop.exe can be extracted from the MSI
installer by performing an administrative install via <i style='mso-bidi-font-style:
normal'>msiexec.exe /a</i>.</p>

<h2><a name="_Toc190064064"></a><a name="_Toc139993129"></a><a
name="_Toc152605080"><span style='mso-bookmark:_Toc139993129'><span
style='mso-bookmark:_Toc190064064'>3.39. Delayed Write Errors with Microsoft
Office Applications</span></span></a></h2>

<p class=MsoBodyText>Microsoft Office makes heavy use of asynchronous
input/output methods for reading and writing to file streams.&nbsp; This can
result in hundreds of requests being simultaneously queued for service by the
CIFS client with a fixed timeout period.&nbsp; As the AFS CIFS server is local
to the machine the Windows CIFS client believes that it can respond almost instantaneously
to write requests as the actual writing to the AFS file server is performed by
a background daemon thread.&nbsp; When the actual network bandwidth to the AFS
file server is slow and the file size is large it is possible for the CIFS
client to time out the connection.&nbsp; When this happens a “delayed write
error” will be reported to the user and the application may crash.&nbsp; The
only workaround at the current time is to save first to a local disk and
subsequently copy the file to AFS as copying a file with the explorer shell
does not use asynchronous i/o. </p>

<p class=MsoBodyText>The CIFS session timeout defaults to 45 seconds and can be
increased by modifying the <a href="#_Value:_ConnDeadTimeout">registry</a>.</p>

<h2><a name="_Toc190064065"></a><a name="_Toc152605081"></a><a
name="_Toc139993130"><span style='mso-bookmark:_Toc152605081'><span
style='mso-bookmark:_Toc190064065'>3.40. Global Drives (aka </span></span></a><st1:Street
w:st="on"><st1:address w:st="on"><span style='mso-bookmark:_Toc190064065'><span
  style='mso-bookmark:_Toc152605081'>Service Drive</span></span></st1:address></st1:Street><span
style='mso-bookmark:_Toc190064065'><span style='mso-bookmark:_Toc152605081'> Letters)
are no longer supported by Microsoft</span></span></h2>

<p class=MsoBodyText>The Global DriveAuto-mount feature has been deprecated due
to the following Microsoft KB article.</p>

<p class=MsoBodyText style='text-indent:35.45pt'><a
href="http://msdn.microsoft.com/library/en-us/dllproc/base/services_and_redirected_drives.asp">http://msdn.microsoft.com/library/en-us/dllproc/base/services_and_redirected_drives.asp</a></p>

<p class=MsoBodyText>It says that services mounting drive letters are no longer
supported by Microsoft and may act unpredictably.&nbsp; The experience other
users have had is that if the connection to the OpenAFS CIFS/SMB server is
terminated by the Windows CIFS client, the drive mapping may not be
re-established until the machine is rebooted.</p>

<p class=MsoBodyText>OpenAFS supports UNC paths and whenever possible
applications should be modified to use of \\AFS\&lt;cellname&gt;\&lt;path&gt;
instead of drive letters.</p>

<h2><a name="_Toc190064066"></a><a name="_Toc139993131"></a><a
name="_Toc152605082"><span style='mso-bookmark:_Toc139993131'><span
style='mso-bookmark:_Toc190064066'>3.41. 64-bit Microsoft Windows Installations</span></span></a></h2>

<p class=MsoBodyText>Although 64-bit Windows platforms support both 64-bit and
32-bit applications, the OpenAFS Service installed on the machine must be
64-bit.&nbsp; The 64-bit installer contains only 64-bit executables.&nbsp; In
order to support 32-bit applications that link against OpenAFS libraries it is
required that a separate 32-bit OpenAFS Tools set be installed.<span
style='mso-spacerun:yes'>  </span>For example, the 32-bit version of Kerberos
for Windows can be used with the 32-bit OpenAFS Tools to manage AFS tokens.</p>

<p class=MsoBodyText>OpenAFS on 64-bit Windows benefits from the lifting of the
2GB process memory restriction that is present in 32-bit Windows.&nbsp;&nbsp;
Without this restriction the AFS Cache File can become arbitrarily large
limited only by available disk space.</p>

<h2><a name="_Toc190064067"></a><a name="_Toc152605083"></a><a
name="_Toc139993132"><span style='mso-bookmark:_Toc152605083'><span
style='mso-bookmark:_Toc190064067'>3.42. Known Issues with Microsoft Windows </span></span></a><st1:place
w:st="on"><span style='mso-bookmark:_Toc190064067'><span style='mso-bookmark:
 _Toc152605083'>Vista</span></span></st1:place></h2>

<p class=MsoBodyText>OpenAFS for Windows works with Microsoft Windows Vista
from both the command prompt and the Explorer Shell.<span
style='mso-spacerun:yes'>  </span>When performing an upgrade from earlier
versions of Microsoft Windows the Microsoft Loopback Adapter (MSLA) will be
uninstalled.<span style='mso-spacerun:yes'>   </span>OpenAFS should be
re-installed after the Microsoft Vista installation to restore the MSLA
configuration.</p>

<p class=MsoBodyText>Due to a feature change in Windows Vista’s Plug-n-Play
network stack, during a standby/hibernate operation the MSLA is disabled just
as any other hardware device would be.<span style='mso-spacerun:yes'> 
</span>This causes the OpenAFS Client’s network binding to be lost.<span
style='mso-spacerun:yes'>  </span>As a result, it takes anywhere from 30 to 90
seconds after the operating system is resumed for access to the OpenAFS Client
and the AFS file space to become available.<span style='mso-spacerun:yes'> 
</span>Until the network bindings have been re-established, ticket managers and
other tools will report that the AFS Client Service may not have been started.</p>

<p class=MsoBodyText>Windows Vista implements <a
href="http://www.microsoft.com/technet/windowsvista/library/0d75f774-8514-4c9e-ac08-4c21f5c6c2d9.mspx">User
Account Control</a> (UAC), a new security feature that implements least user
privilege.<span style='mso-spacerun:yes'>  </span>With UAC, applications only
run with the minimum required privileges.<span style='mso-spacerun:yes'> 
</span>Even Administrator accounts run applications without the “Administrator”
access control credentials.<span style='mso-spacerun:yes'>  </span>One side
effect of this is that existing applications that mix user and system
configuration capabilities must be re-written to separate those functions that
require “Administrator” privileges into a separate process space.<span
style='mso-spacerun:yes'>  </span>Future updates to OpenAFS will incorporate
the necessary privilege separation, until that time some functions such as the
Start and Stop Service features of the AFS System Tray tool and the AFS Control
Panel will not work unless they are “Run as Administrator”.<span
style='mso-spacerun:yes'>  </span>When a <st1:place w:st="on">Vista</st1:place>
user account that is a member of the “Administrators” group is used to access
the AFS Control Panel (afs_config.exe), the process must be “Run as
Administrator”.<span style='mso-spacerun:yes'>   </span>Otherwise, attempts to
modify the OpenAFS configuration will appear to succeed but in reality will
have failed due to <st1:place w:st="on">Vista</st1:place>’s system file and
registry virtualization feature.</p>

<p class=MsoBodyText>The help files provided with OpenAFS are in .HLP format. <a
href="http://support.microsoft.com/kb/917607">Windows Vista does not include a
help engine for this format.</a> </p>

<h2><a name="_Toc115416145"></a><a name="_Toc190064068"></a><a
name="_Toc139993133"></a><a name="_Toc126872210"></a><a name="_Toc115417081"></a><span
style='mso-bookmark:_Toc115416145'><span style='mso-bookmark:_Toc190064068'>3.43.
New AFS Share Name Syntax Provides Direct Access to Volumes</span></span></h2>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>Starting with the
1.5.21 release of OpenAFS for Windows, the following syntax can be used to
access any volume in any cell without requiring the creation of a mount point.</span></p>

<p class=MsoBodyText style='margin-left:36.0pt'><span style='mso-bookmark:_Toc115416145'>\\AFS\&lt;cell&gt;&lt;mount
point type&gt;&lt;volume&gt;\</span></p>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>Where
&lt;cell&gt; can be either a full cell name or an unambiguous prefix, the
&lt;mount point type&gt; is ‘#’ for a normal mount point or ‘%’ to force the
use of a read-write volume, and &lt;volume&gt; is either a volume name or its
ID number.</span></p>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>Examples include:</span></p>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'><span
style='mso-tab-count:1'>            </span>\\AFS\athena.mit.edu#user.jaltman\</span></p>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'><span
style='mso-tab-count:1'>            </span>\\AFS\athena%user.jaltman\</span></p>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'><span
style='mso-tab-count:1'>            </span>\\AFS\athena.mit.edu# 537235559\</span></p>

<h2><span style='mso-bookmark:_Toc115416145'><a name="_Toc190064069">3.44.
Differences between Windows and UNIX “fs examine”</a></span></h2>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>The OpenAFS for
Windows version of “fs examine” provide two additional lines of output when
compared to the UNIX implementation.<span style='mso-spacerun:yes'> 
</span>These lines include the owner and group information for the file as well
as the volume status.<span style='mso-spacerun:yes'>  </span>The Windows output
will also indicate the type of object {File, Directory, Mountpoint, <span
class=GramE>Symlink, …}</span> that was examined.</span></p>

<pre><span style='mso-bookmark:_Toc115416145'>[C:\]fs examine \\afs\athena#user.jaltman</span></pre><pre><span
style='mso-bookmark:_Toc115416145'>Directory \\afs\athena#user.jaltman (537235559.1.1) contained in cell athena.mit.edu</span></pre><pre><span
style='mso-bookmark:_Toc115416145'><b style='mso-bidi-font-weight:normal'>Owner jaltman (28180) Group 0<o:p></o:p></b></span></pre><pre><span
style='mso-bookmark:_Toc115416145'>Volume status for vid = 537235559 named user.jaltman is</span></pre><pre><span
style='mso-bookmark:_Toc115416145'>Current disk quota is 1500000</span></pre><pre><span
style='mso-bookmark:_Toc115416145'>Current blocks used are 1244184</span></pre><pre><span
style='mso-bookmark:_Toc115416145'>The partition has 151945877 blocks available out of 511163724</span></pre><pre><span
style='mso-bookmark:_Toc115416145'>Volume is online <b style='mso-bidi-font-weight:
normal'><o:p></o:p></b></span></pre>

<h2><span style='mso-bookmark:_Toc115416145'><a name="_Toc190064070">3.45.
Literal evaluation of AFS objects via fs commands</a></span></h2>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>Beginning with
the 1.5.31 release, the fs commands <i style='mso-bidi-font-style:normal'>examine</i>,
<i style='mso-bidi-font-style:normal'>flush</i>, <i style='mso-bidi-font-style:
normal'>whereis</i>, and <i style='mso-bidi-font-style:normal'>whichcell</i>
provide a new command-line parameter, <i style='mso-bidi-font-style:normal'>-literal</i>.
<span style='mso-spacerun:yes'> </span>When specified, if the evaluated object
is a symlink or a mountpoint the resulting output will describe the specified
object and not the object that is the target of the symlink or mountpoint.</span></p>

<h2><span style='mso-bookmark:_Toc115416145'><a name="_Toc190064071">3.46. Out
of Quota errors</a></span></h2>

<p class=MsoBodyText><span style='mso-bookmark:_Toc115416145'>Prior to the
1.5.31 release, out of quota errors were reported to the calling application as
an out of space error. <span style='mso-spacerun:yes'> </span>As of 1.5.31, an
out of space error will indicate that the partition on which the volume is
located is in fact out of space. <span style='mso-spacerun:yes'> </span>Whereas
an out of quota error indicates that the user does not have permission to
allocate additional space.</span></p>

<h1><span style='mso-bookmark:_Toc115416145'><a name="_Toc190064072">4. How to
Debug Problems with OpenAFS for Windows</a></span></h1>

<p class=MsoNormal>OpenAFS for Windows provides a wide range of tools to assist
you in debugging problems.&nbsp; The techniques available to you are varied
because of the wide range of issues that have been discovered over the years.</p>

<h2><a name="_Toc190064073"></a><a name="_Toc139993134"></a><a
name="_Toc126872211"></a><a name="_Toc115417082"></a><span style='mso-bookmark:
_Toc190064073'>4.1. <span class=GramE>pioctl</span> debugging (</span><a
href="#_Value:_IoctlDebug"><span style='mso-bookmark:_Toc190064073'>IoctlDebug</span><span
style='mso-bookmark:_Toc190064073'></span></a><span style='mso-bookmark:_Toc190064073'>
registry key)</span></h2>

<p class=MsoNormal>pioctl (path-based ioctl) calls are used by various tools to
communicate with the AFS Client Service.&nbsp; Some of the operations performed
include:</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setting/querying
tokens&nbsp; (tokens.exe, aklog.exe, afscreds.exe)</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setting/querying
ACLs </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setting/querying
cache parameters</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>flushing
files or volumes</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setting/querying
server preferences</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>querying
path location</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>checking
the status of servers and volumes</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>setting/querying
the sysname list</p>

<p class=MsoNormal>pioctl calls are implemented by writing to a special UNC
path that is processed by the AFS Client Service.&nbsp;&nbsp; If there is a
failure to communicate with the AFS Client Service via SMB/CIFS, it will be
impossible to perform any of the above operations.&nbsp;&nbsp; </p>

<p class=MsoNormal>To assist in debugging these problems, the registry value:</p>

<p class=preformattedtext>&nbsp; [HKLM\SOFTWARE\OpenAFS\Client]</p>

<p class=preformattedtext>&nbsp; REG_DWORD:&nbsp; IoctlDebug&nbsp;&nbsp; = 0x01</p>

<p class=MsoNormal>should be set.&nbsp; Then any of the commands that perform
pioctl calls should be executed from the command prompt.&nbsp; With this key
set the pioctl library will generate debugging output to stderr.&nbsp; The
output will contain the Win32 API calls executed along with their most
important parameters and their return code.&nbsp;&nbsp; The MSDN Library and
the Microsoft KnowledgeBase can be used as a reference to help you determine
the configuration probem with your system.</p>

<h2><a name="_Toc190064074"></a><a name="_Toc139993135"></a><a
name="_Toc126872212"></a><a name="_Toc115417083"></a><span style='mso-bookmark:
_Toc190064074'>4.2. afsd_service initialization log (%WinDir%\TEMP\afsd_init.log)</span></h2>

<p class=MsoNormal>Every time the AFS Client Service starts it appends data
about its progress and configuration to a file.&nbsp; This file provides
information crucial to determining why the service cannot start when there are
problems.&nbsp; When the process terminates due to a panic condition it will
write to this file the source code file and line number of the error.&nbsp; In
many cases the panic condition is due to a misconfiguration of the
machine.&nbsp; In other cases it might be due to a programming error in the software.&nbsp;
A quick review of the location in the source code will quickly reveal the
reason for the termination.</p>

<p class=MsoNormal>The <i><a href="#_Value___:_MaxLogSize">MaxLogSize</a></i>
registry value determines the maximum size of the %WINDIR%\TEMP\afsd_init.log
file.&nbsp; If the file is larger than this value when OpenAFS Client Service
starts, the file will be reset to 0 bytes.&nbsp; If value is set to 0, the file
will be allowed to grow indefinitely.</p>

<h2><a name="_Toc190064075"></a><a name="_Toc139993136"></a><a
name="_Toc126872213"></a><a name="_Toc115417084"></a><span style='mso-bookmark:
_Toc190064075'>4.3. afsd_service debug logs (fs trace {-on, -off, -dump}
-&gt;%WinDir%\TEMP\afsd.log)</span></h2>

<p class=MsoNormal>When attempting to debug the behavior of the SMB/CIFS Server
and the Cache Manager it is often useful to examine a log of the operations
being performed.&nbsp; While running the AFS Client Service keeps an in memory
log of many of its actions.&nbsp;&nbsp; The default number of actions preserved
at any one time is 5000.&nbsp; This can be adjusted with the <a
href="#_Value_:_TraceBufferSize">registry value</a>:</p>

<p class=preformattedtext>&nbsp;
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</p>

<p class=preformattedtext>&nbsp; REG_DWORD&nbsp; TraceBufferSize </p>

<p class=MsoNormal>A restart of the service is necessary when adjusting this
value.&nbsp;&nbsp; Execute &quot;fs trace -on&quot; to clear to the log and
&quot;fs trace -dump&quot; to output the contents of the log to the file.</p>

<h2><a name="_Toc190064076"></a><a name="_Toc139993137"></a><a
name="_Toc126872214"></a><a name="_Toc115417085"></a><span style='mso-bookmark:
_Toc190064076'>4.4. Using SysInternal’s DbgView and ProcMon or FileMon Tools</span></h2>

<p class=MsoNormal>An alternatve option to the use of &quot;fs trace
-dump&quot; to capture internal OpenAFS Client Service events is to use a tool
such as Sysinternal's DbgView to capture real-time debugging output.&nbsp; When
the OpenAFS Client Service starts and Bit 2 of the <a
href="#_Value__:_TraceOption">TraceOption</a> value in the registry is set, all
trace log events are output using the Windows Debug Monitor interface
(OutputDebugString).&nbsp; </p>

<p class=preformattedtext>&nbsp;
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</p>

<p class=preformattedtext style='text-indent:12.0pt'>REG_DWORD&nbsp;&nbsp;
TraceOption = 0x04</p>

<p class=MsoNormal>Use “fs trace –on” and “fs trace –off” to toggle the
generation of log messages. </p>

<p class=MsoNormal><a name="_Toc115416150"></a><a name="_Toc126872215"></a><a
name="_Toc115417086"></a><span style='mso-bookmark:_Toc115416150'>Sysinternal’s
ProcMon or FileMon utilities can be use to monitor the file operations
requested by applications and their success or failure.&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span style='mso-bookmark:_Toc115416150'>In FileMon, use the
Volumes menu to restrict monitoring to <i>Network</i> volumes only in order to
reduce the output to just the CIFS requests.&nbsp; Turn on the <i>Advanced
Output</i> option in order to log with finer granularity.</span></p>

<p class=MsoNormal>In ProcMon, set a filter to include only events on file
paths that refer to the AFS name space. Be sure to include both the UNC path as
well as any drive letters mapped to AFS. </p>

<p class=MsoNormal>Turn on the <i>Clock Time</i> and <i>Show Milliseconds</i>
options in both tools to make it easier to synchronize the application requests
and the resulting OpenAFS Client Service operations.&nbsp;&nbsp; The captured
data can be stored to files for inclusion in <a href="#_5._Reporting_Bugs:">bug
reports</a>.</p>

<h2><a name="_Toc190064077">4.5. Microsoft MiniDumps <br>
(fs minidump -&gt; %WinDir%\TEMP\afsd.dmp)</a></h2>

<p class=MsoNormal>If the AFS Client Service become unresponsive to any form of
communication there may be a serious error that can only be debugged by someone
with access to the source code and a debugger.&nbsp;&nbsp; The &quot;fs
minidump&quot; command can be used to force the generation of a MiniDump file
containing the state of all of the threads in the AFS Client Service process.</p>
<p class=MsoNormal>The <a href="#_Toc190064189">MiniDumpType</a> registry
value can be used to adjust the scope of the process information included within
the dump file.<p>

<h2><a name="_Toc190064078"></a><a name="_Toc139993139"></a><a
name="_Toc126872216"></a><a name="_Toc115417087"></a><span style='mso-bookmark:
_Toc190064078'>4.6. Single Sign-on (Integrated Logon) debugging</span></h2>

<p class=MsoNormal>If you are having trouble with the Integrated Logon
operations it is often useful to be able to obtain a log of what it is
attempting to do.&nbsp;&nbsp; Setting Bit 0 of the <a
href="#_Value__:_TraceOption">TraceOption</a> registry value:</p>

<p class=preformattedtext>&nbsp;
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</p>

<p class=preformattedtext>&nbsp; REG_DWORD&nbsp;&nbsp; TraceOption = 0x01</p>

<p class=MsoNormal>will instruct the Integrated Logon Network Provider and Event
Handlers to log information to the Windows Event Log: Application under the
name “AFS Logon&quot;.</p>

<h2><a name="_Toc190064079"></a><a name="_Toc139993140"></a><a
name="_Toc126872217"></a><a name="_Toc115417088"></a><span style='mso-bookmark:
_Toc190064079'>4.7. RX (AFS RPC) debugging (rxdebug)</span></h2>

<p class=MsoNormal>The rxdebug.exe tool can be used to query a variety of
information about the AFS services installed on a given machine.&nbsp; The port
for the AFS Cache Manager is 7001.&nbsp; </p>

<p class=preformattedtext>Usage: rxdebug -servers &lt;server machine&gt; [-port
&lt;IP port&gt;] [-nodally] </p>

<p class=preformattedtext style='margin-left:35.45pt;text-indent:35.45pt'>&nbsp;&nbsp;
[-allconnections] [-rxstats] [-onlyserver] [-onlyclient] </p>

<p class=preformattedtext style='margin-left:70.9pt'>&nbsp;&nbsp; [-onlyport
&lt;show only &lt;port&gt;&gt;] </p>

<p class=preformattedtext style='margin-left:70.9pt'>&nbsp;&nbsp; [-onlyhost
&lt;show only &lt;host&gt;&gt;] </p>

<p class=preformattedtext style='margin-left:70.9pt'>&nbsp;&nbsp; [-onlyauth
&lt;show only &lt;auth level&gt;&gt;] [-version] </p>

<p class=preformattedtext style='margin-left:70.9pt'>&nbsp;&nbsp; [-noconns]
[-peers] [-help]</p>

<p class=preformattedtext>Where:
-nodally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; don't show dallying
conns</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-allconnections&nbsp; don't filter out uninteresting connections</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rxstats&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show Rx statistics</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -onlyserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
only show server conns</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-onlyclient&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only show client conns</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show AFS version id</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-noconns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show no connections</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-peers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show peers</p>

<h2><a name="_Toc190064080"></a><a name="_Toc139993141"></a><a
name="_Toc126872218"></a><a name="_Toc115417089"></a><span style='mso-bookmark:
_Toc190064080'>4.8. Cache Manager debugging (cmdebug)</span></h2>

<p class=MsoNormal>The cmdebug.exe tool can be used to query the state of the
AFS Cache Manager on a given machine.</p>

<p class=preformattedtext>Usage: cmdebug -servers &lt;server machine&gt; [-port
&lt;IP port&gt;] [-long] [-refcounts] </p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>[-callbacks]
[-ctime] [-addrs] [-cache] [-cellservdb] [-help]<o:p></o:p></p>

<p class=preformattedtext>Where: -long<span style='mso-spacerun:yes'>       
</span>print all info<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>-refcounts<span
style='mso-spacerun:yes'>   </span>print only cache entries with positive
reference counts<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>-callbacks<span
style='mso-spacerun:yes'>   </span>print only cache entries with callbacks<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>-ctime<span
style='mso-spacerun:yes'>       </span>print human readable expiration time<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span>-addrs<span
style='mso-spacerun:yes'>       </span>print only host interfaces<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>      
</span>-cache<span style='mso-spacerun:yes'>       </span>print only cache
configuration<o:p></o:p></p>

<p class=preformattedtext><span style='mso-spacerun:yes'>       </span><span
lang=FR style='mso-ansi-language:FR'>-cellservdb<span
style='mso-spacerun:yes'>  </span>print only cellservdb info<o:p></o:p></span></p>

<h2><a name="_Toc190064081"></a><a name="_Toc139993142"></a><a
name="_Toc126872219"></a><a name="_Toc115417090"></a><span style='mso-bookmark:
_Toc190064081'>4.9. Persistent Cache consistency check</span></h2>

<p class=MsoNormal>The persistent cache is stored in a Hidden System file at
%WinDir%\TEMP\AFSCache.&nbsp; If there is a problem with the persistent cache
that prevent the AFS Client Service from being able to start a validation check
on the file can be performed.</p>

<p class=preformattedtext>&nbsp; afsd_service.exe --validate-cache
&lt;cache-path&gt;</p>

<h2><a name="_Toc190064082">4.10. Token Acquisition Debugging</a></h2>

<p class=MsoNormal>If you are having trouble obtaining tokens with the Network
Identity Manager AFS credential provider, it is recommended that you verify
your ability to obtain tokens using the command-line tools <i style='mso-bidi-font-style:
normal'>klog.exe</i> (if you are using kaserver) or <i style='mso-bidi-font-style:
normal'>kinit.exe</i> and <i style='mso-bidi-font-style:normal'>aklog.exe</i>
(if you are using Kerberos v5.)<span style='mso-spacerun:yes'>  </span>The
aklog.exe <i style='mso-bidi-font-style:normal'>–d</i> option will be quite
helpful in diagnosing Kerberos v5 related problems. </p>

<h1><a name="_Toc190064083"></a><a name="_Toc139993143"></a><a
name="_Toc126872220"></a><a name="_Toc115417113"></a><a name="_Toc115417091"></a><a
name="_5._Reporting_Bugs"></a><span style='mso-bookmark:_Toc190064083'>5.
Reporting Bugs</span></h1>

<p class=MsoNormal>Bug reports should be sent to <a
href="mailto:openafs-bugs@openafs.org?subject=Bug%20Report">openafs-bugs@openafs.org</a>.&nbsp;
Please include as much information as possible about the issue.&nbsp; If you
are reporting a crash, please install the debugging symbols by re-running the
installer.&nbsp; If a dump file is available for the problem,
%WINDIR%\TEMP\afsd.dmp, include it along with the AFS Client Trace file&nbsp;
%WINDIR%\TEMP\afsd.log.&nbsp; The AFS Client startup log is
%WINDIR%\TEMP\afsd_init.log.&nbsp; Send the last continuous block of&nbsp; log
information from this file.</p>

<p class=MsoNormal>Configuring DrWatson to generate dump files for crashes:</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Run
drwtsn32.exe to configure or to identify where the log and the crash dump files
are created: </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>click
Start &gt; Run...&nbsp; </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>type
drwtsn32 &lt;enter&gt;. </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
either a Crash Dump Type: Mini or Full. </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Clear
Dump Symbol Table</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Clear
Append to Existing Log file. </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Check
Dump All Thread Contexts.</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Check
Create Crash Dump File</p>

<p class=MsoNormal style='margin-left:14.15pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Next
run the monitoring module of Dr. Watson: </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>click
Start &gt; Run...</p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>type
drwatson &lt;enter&gt;. </p>

<p class=MsoNormal style='margin-left:49.6pt;text-indent:-14.15pt'><span
style='font-size:9.0pt;font-family:Symbol'>·</span><span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Once
a crash happens, Dr. Watson generates a dump file and a report in the log file,
including the address of the crash and the stack dump.</p>

<p class=MsoNormal>Once you have the Dr. Watson's logfile and minidump, zip
them and attach them to your e-mail.</p>

<p class=MsoNormal>When reporting a error, please be sure to include the
version of OpenAFS.</p>

<h1><a name="_Toc190064084"></a><a name="_Toc152605095"></a><a
name="_Toc115416156"></a><a name="_Toc139993144"></a><a name="_Toc126872221"></a><a
name="_Toc115417114"></a><a name="_Toc115417092"></a><span style='mso-bookmark:
_Toc190064084'><span style='mso-bookmark:_Toc152605095'><span style='mso-bookmark:
_Toc115416156'>6. How to Contribute to the Development of OpenAFS for Windows</span></span></span></h1>

<p class=MsoNormal>Contributions to the development of OpenAFS for Windows are
continuously needed.&nbsp; Contributions may take many forms including cash
donations, support contracts, donated developer time, and even donated tech
writer time.</p>

<h2><a name="_Toc190064085"></a><a name="_Toc152605096"></a><a
name="_Toc115416157"></a><a name="_Toc139993145"></a><a name="_Toc126872222"></a><a
name="_Toc115417093"></a><span style='mso-bookmark:_Toc190064085'><span
style='mso-bookmark:_Toc152605096'><span style='mso-bookmark:_Toc115416157'>6.1.
The USENIX OpenAFS Fund</span></span></span> </h2>

<p class=MsoBodyText><a href="http://www.usenix.org/">USENIX</a>, a 501c3 non-profit
corporation, has formed the USENIX OpenAFS Fund in order to accept tax
deductible donations on behalf of the OpenAFS Elders. The donated funds will be
allocated by the OpenAFS Elders to fund OpenAFS development, documentation,
project management, and maintaining openafs.org. <o:p></o:p></p>

<div>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=540
 style='width:405.0pt;mso-cellspacing:0pt;mso-padding-alt:0pt 0pt 0pt 0pt'
 hspace=0 vspace=0 height=88>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:66.0pt'>
  <td valign=top style='padding:0pt 9.0pt 0pt 9.0pt;height:66.0pt'>
  <p class=MsoEnvelopeAddress>USENIX OpenAFS Fund<br>
  USENIX Association <br>
<st1:address w:st="on"><st1:Street w:st="on">2560 Ninth St., Suite 215</st1:Street>
   <br>
<st1:City w:st="on">Berkeley</st1:City>, <st1:State w:st="on">CA</st1:State> <st1:PostalCode
   w:st="on">94710</st1:PostalCode></st1:address> </p>
  </td>
 </tr>
</table>

</div>

<p class=MsoBodyText>Donations can be made by sending a check, drawn on a U.S.
bank, made out to the USENIX OpenAFS Fund or by making a <a
href="https://db.usenix.org/cgi-bin/openafs/openafs.cgi">donation online</a>.</p>

<h2><a name="_Toc190064086"></a><a name="_Toc152605097"></a><a
name="_Toc115417094"></a><a name="_Toc139993146"></a><a name="_Toc126872223"></a><span
style='mso-bookmark:_Toc190064086'><span style='mso-bookmark:_Toc152605097'><span
style='mso-bookmark:_Toc115417094'>6.2. Secure Endpoints Inc.</span></span></span>
</h2>

<p class=MsoBodyText><a href="http://www.secure-endpoints.com/">Secure
Endpoints Inc.</a> provides development and support services for OpenAFS for
Windows and <a href="http://web.mit.edu/kerberos/">MIT Kerberos for Windows</a>.
&nbsp;Donations provided to Secure Endpoints Inc. for the development of
OpenAFS are used to cover the OpenAFS gatekeeper responsibilities; providing
support to the OpenAFS community via the OpenAFS mailing lists; and furthering
development of desired features that are either too small to be financed by
development contracts.</p>

<p class=MsoBodyText>Secure Endpoints Inc. accepts software development
agreements from organizations who wish to fund a well-defined set of bug fixes
or new features. </p>

<p class=MsoBodyText>Secure Endpoints Inc. provides contract based support for
the OpenAFS for Windows and the <a href="http://web.mit.edu/kerberos/">MIT
Kerberos for Windows</a> products. </p>

<h2><a name="_Toc190064087"></a><a name="_Toc152605098"></a><a
name="_Toc115417096"></a><a name="_Toc139993147"></a><a name="_Toc126872224"></a><a
name="_Toc139993148"></a><a name="_Toc126872225"></a><span style='mso-bookmark:
_Toc190064087'><span style='mso-bookmark:_Toc152605098'><span style='mso-bookmark:
_Toc115417096'>6.3. Direct contributions of code and/or documentation</span></span></span>
</h2>

<p class=MsoBodyText>Organizations that use OpenAFS in house and have
development staffs are encouraged to contribute any code modifications they
make to OpenAFS.org via <u><span style='color:blue'>openafs-bugs@openafs.org</span></u>.
&nbsp;Contributions of documentation are highly desired. </p>

<h2><a name="_Toc190064088"></a><a name="_Toc152605099"></a><a
name="_Toc115417097"></a><a name="_Toc139993149"></a><a name="_Toc126872226"></a><span
style='mso-bookmark:_Toc190064088'><span style='mso-bookmark:_Toc152605099'><span
style='mso-bookmark:_Toc115417097'>6.4. OpenAFS for Windows Mailing Lists</span></span></span></h2>

<p class=MsoNormal>If you wish to participate in OpenAFS for Windows
development please join the <i><a
href="mailto:openafs-win32-devel@openafs.org?subject=OpenAFS%20for%20Windows%20Development%20Contribution">openafs-win32-devel@openafs.org</a></i>
mailing list.</p>

<p class=MsoNormal style='margin-left:35.45pt'><span class=MsoHyperlink>https://lists.openafs.org/mailman/listinfo/openafs-win32-devel</span></p>

<p class=MsoNormal>User questions should be sent to the <a
href="mailto:openafs-info@openafs.org?subject=OpenAFS%20for%20Windows%20User%20Question">openafs-info@openafs.org</a>
mailing list.&nbsp; </p>

<p class=MsoNormal style='margin-left:35.45pt'><span class=MsoHyperlink>https://lists.openafs.org/mailman/listinfo/openafs-info</span></p>

<p class=MsoNormal>You must join the mailing lists if you wish to post to the
list without incurring a moderation delay.</p>

<h1><a name="_Toc190064089"></a><a name="_Toc152605100"></a><a
name="_Toc139993150"></a><a name="_Toc126872227"></a><a name="_Toc115417115"></a><a
name="_Toc115417098"></a><a name="_Toc115416158"></a><a
name="_MSI_Deployment_Guide"></a><span style='mso-bookmark:_Toc190064089'><span
style='mso-bookmark:_Toc152605100'>7. MSI Deployment Guide</span></span></h1>

<b><span style='font-size:16.0pt;font-family:Albany;mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-ansi-language:
EN-US;mso-fareast-language:JA;mso-bidi-language:AR-SA'><br clear=all
style='page-break-before:always'>
</span></b>

<h2><a name="_Toc190064090"></a><a name="_Toc152605101"></a><a
name="_Toc115416159"></a><a name="_Toc139993151"></a><a name="_Toc126872228"></a><a
name="_Toc115417099"></a><span style='mso-bookmark:_Toc190064090'><span
style='mso-bookmark:_Toc152605101'><span style='mso-bookmark:_Toc115416159'>7.1.
Introduction</span></span></span></h2>

<p class=MsoNormal>A MSI installer option is available for those who wish to
use Windows Installer for installing OpenAFS and for organizations that wish to
deploy OpenAFS through Group Policy.&nbsp; The first version of OpenAFS for
Windows available as an MSI was 1.3.65.</p>

<p class=MsoNormal>This document provides a guide for authoring transforms used
to customize the MSI package for a particular organization.&nbsp; Although many
settings can be deployed via transforms, in an Active Directory environment it
is advisable to deploy registry settings&nbsp;&nbsp;&nbsp; and configuration
files through group policy and/or startup scripts so that machines where
OpenAFS for Windows is already installed will pick up these customizations.</p>

<h3><a name="_Toc190064091"></a><a name="_Toc152605102"></a><a
name="_Toc115416160"></a><a name="_Toc139993152"></a><a name="_Toc126872229"></a><span
style='mso-bookmark:_Toc190064091'><span style='mso-bookmark:_Toc152605102'><span
style='mso-bookmark:_Toc115416160'>7.1.1 Requirements</span></span></span></h3>

<p class=MsoNormal>The information in this document applies to MSI packages
distributed with OpenAFS for Windows releases from 1.3.65 and onwards or MSI
packages built from corresponding source releases. &nbsp;Not all releases
support all the configuration options documented here.</p>

<p class=MsoNormal>Authoring a &quot;Windows Installer&quot; transform requires
additional software for editing the MSI database tables and generating the transform
from the modified MSI package.&nbsp; ORCA.EXE and MSITRAN.EXE which are
included in the Windows Platform SDK (&quot;Windows Installer&quot; SDK) can be
used for this purpose.</p>

<p class=MsoNormal>For reference, the schema for the MSI package is based on
SCHEMA.MSI distributed with the Platform SDK.</p>

<p class=MsoNormal>For general information about &quot;Windows Installer&quot;,
refer to:</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; <a
href="http://msdn.microsoft.com/library/en-us/msi/setup/windows_installer_start_page.asp">http://msdn.microsoft.com/library/en-us/msi/setup/windows_installer_start_page.asp</a></p>

<p class=MsoNormal>For general information about authoring MSI transforms,
refer to:</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; <a
href="http://msdn.microsoft.com/library/en-us/msi/setup/transforms.asp">http://msdn.microsoft.com/library/en-us/msi/setup/transforms.asp</a></p>

<p class=MsoNormal>The remainder of this document assumes some familiarity with
authoring transforms.&nbsp; While the MSDN documentation for Windows Installer
is a bit dense, the guide on MSI transforms found at the second link above is
recommended reading.&nbsp; MSDN also includes a step-by-step example for
creating a transform at:</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; <a
href="http://msdn.microsoft.com/library/en-us/msi/setup/a_customization_transform_example.asp">http://msdn.microsoft.com/library/en-us/msi/setup/a_customization_transform_example.asp</a></p>

<h3><a name="_Toc190064092"></a><a name="_Toc152605103"></a><a
name="_Toc115416161"></a><a name="_Toc139993153"></a><a name="_Toc126872230"></a><span
style='mso-bookmark:_Toc190064092'><span style='mso-bookmark:_Toc152605103'><span
style='mso-bookmark:_Toc115416161'>7.1.2 Authoring a Transform</span></span></span></h3>

<p class=MsoNormal>Transforms describe a set of modifications to be performed
on an existing MSI for the purpose of customizing it.&nbsp; This is ordinarily
done by making a copy of the MSI to be customized, modifying the copy and then
using the old and the new MSI to generate a transform.&nbsp; For example:</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>copy
openafs.msi openafs-modified.msi</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>(edit
the openafs-modified.msi to include the necessary changes)</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>msitran
-g openafs.msi openafs-modified.msi openafs-transform.mst</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>4.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>(generates
openafs-transform.mst, which is the transform)</p>

<p class=MsoNormal>Transforms have an extension of .mst.&nbsp; 'msitran' is a
tool distributed as part of the &quot;Windows Installer&quot; SDK (part of the
Windows Platform SDK).</p>

<p class=MsoNormal>You can test a transform by:</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>copy
openafs.msi openafs-test.msi</p>

<p class=preformattedtext style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>msitran
-a openafs-transform.mst openafs-test.msi</p>

<p class=MsoNormal>and then checking the resulting openafs-test.msi to see if
all changes you have made above to openafs-modified.msi is present in
openafs-test.msi.&nbsp; 'msitran' will complain if some modification in the
transform can not be successfully applied.</p>

<p class=MsoNormal>As mentioned above, you can use a tool like ORCA.EXE to edit
the MSI databases directly when editing openafs-modified.msi.&nbsp; More
details are given below.</p>

<h2><a name="_Toc190064093"></a><a name="_Toc152605104"></a><a
name="_Toc115416162"></a><a name="_Toc139993154"></a><a name="_Toc126872231"></a><a
name="_Toc115417100"></a><span style='mso-bookmark:_Toc190064093'><span
style='mso-bookmark:_Toc152605104'><span style='mso-bookmark:_Toc115416162'>7.2.
Configuration Options</span></span></span></h2>

<p class=MsoNormal>The logic necessary to implement many of the settings
described in <a href="#_Appendix_A:_Registry_Values">Appendix <span
class=GramE>A</span></a> are present in the MSI.&nbsp; Most of these can be
controlled by setting the corresponding properties to the desired value.&nbsp;
Some settings may require modifying existing registry entries (though not
recommended) or adding new resources (like files or registry keys).&nbsp;
Instructions for performing these tasks are below.</p>

<h3><a name="_Toc190064094"></a><a name="_Toc152605105"></a><a
name="_Toc115416163"></a><a name="_Toc139993155"></a><a name="_Toc126872232"></a><span
style='mso-bookmark:_Toc190064094'><span style='mso-bookmark:_Toc152605105'><span
style='mso-bookmark:_Toc115416163'>7.2.1 Configurable Properties</span></span></span></h3>

<p class=MsoNormal>Most configurable properties correspond to registry keys or
values.&nbsp; Due to the logic invoked based on the existence of these registry
keys or values, they are only set if the associated property is defined to have
a non null value.&nbsp; If the associated property is not defined in the MSI,
the registry key or value will not be touched.&nbsp; By default, the MSI does
not contain these properties and hence will not set the registry keys.&nbsp;
You will need to add properties as needed to the MSI.</p>

<p class=MsoNormal>When one of the configurable properties is set, the
installer will use the property value to set the corresponding setting in the
HKEY_LOCAL_MACHINE registry hive.&nbsp; The HKEY_CURRENT_USER hive is not
touched by the installer.</p>

<p class=MsoNormal>For each property, the associated registry setting is
referenced by the same text used in <a href="#_Appendix_A:_Registry_Values">Appendix
A</a>.</p>

<p class=MsoNormal>Strings are quoted using single quotes (e.g. 'a string'). An
empty string is denoted as ''.&nbsp; Note that you can't author null values
into the 'Property' table.</p>

<p class=MsoNormal>Numeric values should be authored as decimal strings.</p>

<h4><a name="_Toc190064095"></a><a name="_Toc152605106"></a><a
name="_Toc115416164"></a><a name="_Toc139993156"></a><a name="_Toc126872233"></a><span
style='mso-bookmark:_Toc190064095'><span style='mso-bookmark:_Toc152605106'><span
style='mso-bookmark:_Toc115416164'>7.2.1.1 Setting Properties</span></span></span></h4>

<p class=MsoNormal>In order to set a property,</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:18.0pt;text-indent:-18.0pt'><span style='font-size:9.0pt'>1.</span><span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Open the MSI in ORCA.EXE</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:18.0pt;text-indent:-18.0pt'><span style='font-size:9.0pt'>2.</span><span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Select the 'Property' table from the list of tables on the left.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:18.0pt;text-indent:-18.0pt'><span style='font-size:9.0pt'>3.</span><span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Find the property in the list of properties on the right, double click
the value and type the new value.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:18.0pt;text-indent:-18.0pt'><span style='font-size:9.0pt'>4.</span><span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>If the property does not exist in the property list, right click the
list and select 'Add Row', type the property name and the desired value.</p>

<h4><a name="_Toc190064096"></a><a name="_Toc152605107"></a><a
name="_Toc115416165"></a><a name="_Toc139993157"></a><a name="_Toc126872234"></a><span
style='mso-bookmark:_Toc190064096'><span style='mso-bookmark:_Toc152605107'><span
style='mso-bookmark:_Toc115416165'>7.2.1.2 OpenAFS for Windows Properties</span></span></span></h4>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h5><a name="_Toc190064097"></a><a name="_Toc152605108"></a><a
  name="_Toc139993158"></a><a name="_Toc126872235"></a><a name="_Toc115416166"></a><a
  name="_(Service_parameters):"></a><span style='mso-bookmark:_Toc190064097'><span
  style='mso-bookmark:_Toc152605108'>(Service parameters):</span></span></h5>
  <p class=listcontents style='margin-left:0pt'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h5><a name="_Toc190064098"></a><a name="_Toc152605109"></a><a
  name="_Toc139993159"></a><a name="_Toc126872236"></a><a name="_Toc115416167"></a><a
  name="_(Network_provider):"></a><span style='mso-bookmark:_Toc190064098'><span
  style='mso-bookmark:_Toc152605109'>(Network provider):</span></span></h5>
  <p class=listcontents style='margin-left:0pt'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider]</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h5><a name="_Toc190064099"></a><a name="_Toc152605110"></a><a
  name="_Toc139993160"></a><a name="_Toc126872237"></a><a name="_Toc115416168"></a><a
  name="_(OpenAFS_Client):"></a><span style='mso-bookmark:_Toc190064099'><span
  style='mso-bookmark:_Toc152605110'>(OpenAFS Client):</span></span></h5>
  <p class=listcontents style='margin-left:0pt'>[HKLM\SOFTWARE\OpenAFS\Client]</p>
  </td>
 </tr>
</table>

<h5><a name="_Toc190064100"></a><a name="_Toc152605111"></a><a
name="_Toc115416169"></a><a name="_Toc139993161"></a><a name="_Toc126872238"></a><span
style='mso-bookmark:_Toc190064100'><span style='mso-bookmark:_Toc152605111'><span
style='mso-bookmark:_Toc115416169'>7.2.1.2.1 Registry Properties</span></span></span></h5>

<p class=MsoNormal>These properties are used to set the values of registry
entries associated with OpenAFS for Windows.</p>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064101"></a><a name="_Toc152605112"></a><a
  name="_Toc115416170"></a><a name="_Toc139993162"></a><a name="_Toc126872239"></a><span
  style='mso-bookmark:_Toc190064101'><span style='mso-bookmark:_Toc152605112'><span
  style='mso-bookmark:_Toc115416170'>AFSCACHEPATH</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_CachePath">CachePath</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : string .</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064102"></a><a name="_Toc152605113"></a><a
  name="_Toc115416171"></a><a name="_Toc139993163"></a><a name="_Toc126872240"></a><span
  style='mso-bookmark:_Toc190064102'><span style='mso-bookmark:_Toc152605113'><span
  style='mso-bookmark:_Toc115416171'>AFSCACHESIZE</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_CacheSize">CacheSize</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : numeric</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064103"></a><a name="_Toc152605114"></a><a
  name="_Toc115416172"></a><a name="_Toc139993164"></a><a name="_Toc126872241"></a><span
  style='mso-bookmark:_Toc190064103'><span style='mso-bookmark:_Toc152605114'><span
  style='mso-bookmark:_Toc115416172'>AFSCELLNAME</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_Cell">Cell</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : string</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064104"></a><a name="_Toc152605115"></a><a
  name="_Toc115416173"></a><a name="_Toc139993165"></a><a name="_Toc126872242"></a><span
  style='mso-bookmark:_Toc190064104'><span style='mso-bookmark:_Toc152605115'><span
  style='mso-bookmark:_Toc115416173'>FREELANCEMODE</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_FreelanceClient">FreelanceClient</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064105"></a><a name="_Toc152605116"></a><a
  name="_Toc115416174"></a><a name="_Toc139993166"></a><a name="_Toc126872243"></a><span
  style='mso-bookmark:_Toc190064105'><span style='mso-bookmark:_Toc152605116'><span
  style='mso-bookmark:_Toc115416174'>HIDEDOTFILES</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_HideDotFiles">HideDotFiles</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064106"></a><a name="_Toc152605117"></a><a
  name="_Toc115416175"></a><a name="_Toc139993167"></a><a name="_Toc126872244"></a><span
  style='mso-bookmark:_Toc190064106'><span style='mso-bookmark:_Toc152605117'><span
  style='mso-bookmark:_Toc115416175'>LOGONOPTIONS</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Network_provider):">(Network provider)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_LogonOptions">LogonOptions</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '0', '1' or '3'</p>
  <p class=MsoNormal>See <a href="#_Appendix_A:_Registry_Values">Appendix A</a>
  <a href="#_A.2.1_Domain_specific_configuration">section 2.1 (Domain specific
  configuration keys for Network Provider)</a> for more details.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064107"></a><a name="_Toc152605118"></a><a
  name="_Toc115416176"></a><a name="_Toc139993168"></a><a name="_Toc126872245"></a><span
  style='mso-bookmark:_Toc190064107'><span style='mso-bookmark:_Toc152605118'><span
  style='mso-bookmark:_Toc115416176'>MOUNTROOT</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_Mountroot">Mountroot</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : string</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064108"></a><a name="_Toc152605119"></a><a
  name="_Toc115416177"></a><a name="_Toc139993169"></a><a name="_Toc126872246"></a><span
  style='mso-bookmark:_Toc190064108'><span style='mso-bookmark:_Toc152605119'><span
  style='mso-bookmark:_Toc115416177'>NETBIOSNAME</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_NetbiosName">NetbiosName</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : string (at most 15
  characters)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064109"></a><a name="_Toc152605120"></a><a
  name="_Toc115416178"></a><a name="_Toc139993170"></a><a name="_Toc126872247"></a><span
  style='mso-bookmark:_Toc190064109'><span style='mso-bookmark:_Toc152605120'><span
  style='mso-bookmark:_Toc115416178'>NOFINDLANABYNAME</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_NoFindLanaByName">NoFindLanaByName</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064110"></a><a name="_Toc152605121"></a><a
  name="_Toc115416179"></a><a name="_Toc139993171"></a><a name="_Toc126872248"></a><span
  style='mso-bookmark:_Toc190064110'><span style='mso-bookmark:_Toc152605121'><span
  style='mso-bookmark:_Toc115416179'>RXMAXMTU</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_RxMaxMTU">RxMaxMTU</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : numeric</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064111"></a><a name="_Toc152605122"></a><a
  name="_Toc115416180"></a><a name="_Toc139993172"></a><a name="_Toc126872249"></a><span
  style='mso-bookmark:_Toc190064111'><span style='mso-bookmark:_Toc152605122'><span
  style='mso-bookmark:_Toc115416180'>SECURITYLEVEL</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_SecurityLevel">SecurityLevel</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064112"></a><a name="_Toc152605123"></a><a
  name="_Toc115416181"></a><a name="_Toc139993173"></a><a name="_Toc126872250"></a><span
  style='mso-bookmark:_Toc190064112'><span style='mso-bookmark:_Toc152605123'><span
  style='mso-bookmark:_Toc115416181'>SMBAUTHTYPE</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_smbAuthType">SMBAuthType</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '0','1' or '2'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064113"></a><a name="_Toc152605124"></a><a
  name="_Toc115416182"></a><a name="_Toc139993174"></a><a name="_Toc126872251"></a><span
  style='mso-bookmark:_Toc190064113'><span style='mso-bookmark:_Toc152605124'><span
  style='mso-bookmark:_Toc115416182'>STOREANSIFILENAMES</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(OpenAFS_Client):">(OpenAFS Client)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value___:_StoreAnsiFilenames">StoreAnsiFilenames</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '0' or '1'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064114"></a><a name="_Toc152605125"></a><a
  name="_Toc115416183"></a><a name="_Toc139993175"></a><a name="_Toc126872252"></a><span
  style='mso-bookmark:_Toc190064114'><span style='mso-bookmark:_Toc152605125'><span
  style='mso-bookmark:_Toc115416183'>USEDNS</span></span></span></h6>
  <p class=MsoList>Registry key&nbsp;&nbsp;&nbsp; : <a
  href="#_(Service_parameters):">(Service parameters)</a></p>
  <p class=MsoList>Registry value : <a href="#_Value_:_UseDNS">UseDNS</a></p>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  </td>
 </tr>
</table>

<h5><a name="_Toc190064115"></a><a name="_Toc152605126"></a><a
name="_Toc139993176"></a><a name="_Toc126872253"></a><a name="_Toc115416184"></a><a
name="_7.2.1.2.2_AFSCreds.exe_Properties"></a><span style='mso-bookmark:_Toc190064115'><span
style='mso-bookmark:_Toc152605126'>7.2.1.2.2 AFSCreds.exe Properties</span></span></h5>

<p class=MsoNormal>These properties are combined to add a command line option
to the shortcut that will be created in the Start:Programs:OpenAFS and
Start:Programs:Startup folders (see CREDSSTARTUP). &nbsp;The method of
specifying the option was chosen for easy integration with the Windows
Installer user interface.&nbsp; Although other methods can be used to specify
options to AFSCREDS.EXE, it is advised that they be avoided as transforms
including such options may not apply to future releases of OpenAFS.</p>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064116"></a><a name="_Toc152605127"></a><a
  name="_Toc115416185"></a><a name="_Toc139993177"></a><a name="_Toc126872254"></a><span
  style='mso-bookmark:_Toc190064116'><span style='mso-bookmark:_Toc152605127'><span
  style='mso-bookmark:_Toc115416185'>CREDSSTARTUP</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '1' or '0'</p>
  <p class=MsoList>Controls whether AFSCreds.exe starts up automatically when
  the user logs on.&nbsp; When CREDSSTARTUP is '1' a shortcut is added to the
  'Startup' folder in the 'Program menu' which starts AFSCREDS.EXE with the
  options that are determined by the other CREDS* properties.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064117"></a><a name="_Toc152605128"></a><a
  name="_Toc115416186"></a><a name="_Toc139993178"></a><a name="_Toc126872255"></a><span
  style='mso-bookmark:_Toc190064117'><span style='mso-bookmark:_Toc152605128'><span
  style='mso-bookmark:_Toc115416186'>CREDSAUTOINIT</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '-a' or ''</p>
  <p class=MsoList>Enables automatic initialization.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064118"></a><a name="_Toc152605129"></a><a
  name="_Toc115416187"></a><a name="_Toc139993179"></a><a name="_Toc126872256"></a><span
  style='mso-bookmark:_Toc190064118'><span style='mso-bookmark:_Toc152605129'><span
  style='mso-bookmark:_Toc115416187'>CREDSIPCHDET</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '-n' or ''</p>
  <p class=MsoList>Enables IP address change detection.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064119"></a><a name="_Toc152605130"></a><a
  name="_Toc115416188"></a><a name="_Toc139993180"></a><a name="_Toc126872257"></a><span
  style='mso-bookmark:_Toc190064119'><span style='mso-bookmark:_Toc152605130'><span
  style='mso-bookmark:_Toc115416188'>CREDSQUIET</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '-q' or ''</p>
  <p class=MsoList>Enables quiet mode.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064120"></a><a name="_Toc152605131"></a><a
  name="_Toc115416189"></a><a name="_Toc139993181"></a><a name="_Toc126872258"></a><span
  style='mso-bookmark:_Toc190064120'><span style='mso-bookmark:_Toc152605131'><span
  style='mso-bookmark:_Toc115416189'>CREDSRENEWDRMAP</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '-m' or '’</p>
  <p class=MsoList>Enables renewing drive map at startup.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h6><a name="_Toc190064121"></a><a name="_Toc152605132"></a><a
  name="_Toc115416190"></a><a name="_Toc139993182"></a><a name="_Toc126872259"></a><span
  style='mso-bookmark:_Toc190064121'><span style='mso-bookmark:_Toc152605132'><span
  style='mso-bookmark:_Toc115416190'>CREDSSHOW</span></span></span></h6>
  <p class=MsoList>Valid values&nbsp;&nbsp;&nbsp; : '-s' or ''</p>
  <p class=MsoList>Enables displaying the credential manager window when
  AFSCREDS starts up.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064122"></a><a name="_Toc152605133"></a><a
name="_Toc115416191"></a><a name="_Toc139993183"></a><a name="_Toc126872260"></a><span
style='mso-bookmark:_Toc190064122'><span style='mso-bookmark:_Toc152605133'><span
style='mso-bookmark:_Toc115416191'>7.2.2 Existing Registry Entries</span></span></span></h3>

<p class=MsoNormal>You can change existing registry values subject to the restrictions
mentioned in the Windows Platform SDK.&nbsp; Pay special attention to component
key paths and try to only change the 'Value' column in the 'Registry'
table.&nbsp; If you want to add additional registry keys please refer to
section 3 (Additional resources).</p>

<h3><a name="_Toc190064123"></a><a name="_Toc152605134"></a><a
name="_Toc115416192"></a><a name="_Toc139993184"></a><a name="_Toc126872261"></a><span
style='mso-bookmark:_Toc190064123'><span style='mso-bookmark:_Toc152605134'><span
style='mso-bookmark:_Toc115416192'>7.2.3 Replacing Configuration Files</span></span></span></h3>

<p class=MsoNormal>The OpenAFS configuration files (CellServDB) can be replaced
by your own configuration files.&nbsp; These files are contained in separate
MSI components so that you can disable them individually.</p>

<p class=MsoNormal>The recommended method for replacing these files is to first
disable the components containing the configuration files that you want to
replace, and then add new components for the replacement files.&nbsp; This is
outlined below (assuming you are using ORCA.EXE to author the transform).</p>

<p class=MsoNormal>Note that transforms are not a good way to add a new file as
an embedded stream.&nbsp; The method outlined here places the file in the same
directory as the MSI for deployment.</p>

<p class=MsoNormal>The walkthrough below is to add a custom 'CellServDB' file.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:18.0pt;text-indent:-18.0pt'>1.<span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Disable
the component that contains the configuration file that you want to replace.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:39.6pt;text-indent:-21.6pt'>1.1.<span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Locate and select the
'Component' table in the 'Tables' list.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:39.6pt;text-indent:-21.6pt'>1.2.<span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp; </span>In the Component table,
locate the component you need to change ( Ctrl-F invokes the 'Find'
dialog).&nbsp; The component names are listed below in section <a
href="#_2.3.1_Components_for_Configuration_">7.2.3.1</a>.&nbsp; For this
example, the component name is 'elf_CellServDB'.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:39.6pt;text-indent:-21.6pt'>1.3.<span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Go to the 'Condition' column
of the component.</p>

<p class=MsoNormal style='margin-top:4.3pt;margin-right:0pt;margin-bottom:4.3pt;
margin-left:39.6pt;text-indent:-21.6pt'>1.4.<span style='font-size:7.0pt;
font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Enter a condition that evaluates
to false. I.e. 'DONOTINSTALL'. (Note that an undefined property always
evaluates to false).</p>

<p class=MsoNormal>Note that you can also use this step to disable other
configuration files without providing replacements.</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add a new component containing the new configuration file.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>2.1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
the 'Component' table in the 'Tables' list.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>2.2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
'Tables'-&gt;'Add Row' (Ctrl-R).</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>2.3.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Enter
the following :</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:39.35pt;border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:23.35pt'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt;height:23.35pt'>
  <p class=preformattedtext>Component</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0pt 5.4pt 0pt 5.4pt;height:23.35pt'>
  <p class=preformattedtext>cmf_my_CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>ComponentID</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>{7019836F-BB2C-4AF6-9463-0D6EC9035CF1}</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Directory_</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>dirClient</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Attributes</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>144</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Condition</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>&nbsp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=115 valign=top style='width:86.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>KeyPath</p>
  </td>
  <td width=475 valign=top style='width:356.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>fil_my_CellServDB</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:35.45pt'>Note that the ComponentId is an
uppercase GUID.&nbsp; You can generate one using GUIDGEN.EXE or UUIDGEN.EXE,
both of which are included in the Platform SDK.</p>

<p class=MsoNormal style='margin-left:35.45pt'>The Attributes value of 144 is a
sum of msidbComponentAttributesPermanent (16) and
msidbComponentAttributesNeverOverwrite (128).&nbsp; This ensures that local
modifications are not overwritten or lost during an installation or
uninstallation.&nbsp; These are the same settings used on the default
configuration files.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
'fil_my_CellServDB' is a key into the 'File' table which we will fill later.</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'>3.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add a new feature to hold the new component.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>3.1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
the 'Feature' table.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>3.2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Add a
new row (Ctrl-R or 'Tables'-&gt;'Add Row') with the following values:</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:40.1pt;border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Feature</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>fea_my_CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Feature_Parent</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>feaClient</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Title</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>&nbsp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Description</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>&nbsp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Display</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>0</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Level</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>30</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Directory_</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>&nbsp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes'>
  <td width=126 valign=top style='width:94.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Attributes</p>
  </td>
  <td width=462 valign=top style='width:346.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>8</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:35.45pt'>It is important to create the new
feature under the 'feaClient' feature, which will ensure that the configuration
file will be installed when the client binaries are installed.</p>

<p class=MsoNormal style='margin-left:35.45pt'>Setting 'Display' to 0 will hide
this feature from the feature selection dialog during an interactive installation.&nbsp;
A value of 30 for 'Level' allows this feature to be installed by default (on a
'Typical' installation).</p>

<p class=MsoNormal style='margin-left:35.45pt'>The 'Attributes' value is
msidbFeatureAttributesDisallowAdvertise (8), which is set on all features in
the OpenAFS MSI.&nbsp; The OpenAFS MSI is not designed for an advertised
installation.</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'>4.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Join the component and the feature.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>4.1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
the 'FeatureComponents' table.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>4.2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Add a
new row with the following values:</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:40.1pt;border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Feature</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>fea_my_CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Component</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>cmf_my_CellServDB</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'>5.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add an entry to the 'File' table.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>5.1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
the 'File' table.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>5.2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Add a
new row with the following values:</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:40.1pt;border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>File</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>fil_my_CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Component_</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>cmf_my_CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>FileName</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>CellServDB</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>FileSize</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>(enter file size here)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Attributes</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>8192</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>Sequence</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>1000</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; (leave other fields blank)</p>

<p class=MsoNormal style='margin-left:35.45pt'>The 'Attributes' value is
msidbFileAttributesNonCompressed (8192).&nbsp; This is because we will be
placing this file in the same directory as the MSI instead of embedding the
file in it.&nbsp; Transforms do not support updating compressed sources or
adding new cabinet streams.</p>

<p class=MsoNormal style='margin-left:35.45pt'>Finally, the 'Sequence' value of
1000 will be used later to distinguish the file as being in a separate source
location than the other files in the MSI.</p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt'>6.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Set a media source for the file.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>6.1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Select
the 'Media' table.</p>

<p class=MsoNormal style='margin-left:39.6pt;text-indent:-21.6pt'>6.2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp; </span>Add a
row with the following values :</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:40.1pt;border-collapse:collapse;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>DiskId</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>2</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=126 valign=top style='width:94.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>LastSequence</p>
  </td>
  <td width=462 valign=top style='width:346.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=preformattedtext>1000</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; (leave other fields blank)</p>

<p class=MsoNormal style='margin-left:35.45pt'>The sequence number of 1000 designates
this as the media source for the newly added file.</p>

<h4><a name="_Toc190064124"></a><a name="_Toc152605135"></a><a
name="_Toc139993185"></a><a name="_Toc126872262"></a><a name="_Toc115416193"></a><a
name="_2.3.1_Components_for_Configuration_"></a><span style='mso-bookmark:_Toc190064124'><span
style='mso-bookmark:_Toc152605135'>7.2.3.1 Components for Configuration Files</span></span></h4>

<p class=preformattedtext style='text-indent:35.45pt'>CellServDB:
'cpf_CellServDB' (ID {D5BA4C15-DBEC-4292-91FC-B54C30F24F2A})</p>

<h3><a name="_Toc190064125"></a><a name="_Toc152605136"></a><a
name="_Toc115416194"></a><a name="_Toc139993186"></a><a name="_Toc126872263"></a><span
style='mso-bookmark:_Toc190064125'><span style='mso-bookmark:_Toc152605136'><span
style='mso-bookmark:_Toc115416194'>7.2.4 Adding Domain Specific Registry Keys</span></span></span></h3>

<p class=MsoNormal>Following is an example for adding domain specific registry
keys.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; Refer to <a
href="#_Appendix_A:_Registry_Values">Appendix <span class=GramE>A</span></a>
section 2.1 for more information.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; Columns that are unspecified should be
left empty.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; We create a new feature and component to hold
the new registry keys.</p>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Feature' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Feature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'feaDomainKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Feature
  Parent : 'feaClient'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Display&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 0<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Level&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 30<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Attributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 10</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Component' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (new row)<br>
  &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ComponentId&nbsp; : '{4E3FCBF4-8BE7-40B2-A108-C47CF743C627}'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 'TARGETDIR'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Attributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 4<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  KeyPath&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 'reg_domkey0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'FeatureComponents' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Feature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'feaDomainKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Registry' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey0'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  :
  'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey1'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  :
  'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '*'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey2'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  :
  'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\ATHENA.MIT.EDU'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '*'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey3'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\ATHENA.MIT.EDU'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'LogonOptions'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 1<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'reg_domkey4'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  :
  SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\LOCALHOST'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '*'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey5'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  :
  'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\LOCALHOST'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'LogonOptions'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 0<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_domkey6'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\LOCALHOST'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'FailLoginsSilently'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 1<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_DomainKeys'</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The example adds domain specific keys for 'ATHENA.MIT.EDU'
(enable integrated logon) and 'LOCALHOST' (disable integrated logon and fail
logins silently).</p>

<h3><a name="_Toc190064126"></a><a name="_Toc152605137"></a><a
name="_Toc115416195"></a><a name="_Toc139993187"></a><a name="_Toc126872264"></a><span
style='mso-bookmark:_Toc190064126'><span style='mso-bookmark:_Toc152605137'><span
style='mso-bookmark:_Toc115416195'>7.2.5 Adding Site Specific Freelance
Registry Keys</span></span></span></h3>

<p class=MsoNormal>Following is an example for adding site specific Freelance
registry keys to pre-populate the Mountpoints and Symlinks in the fake root.afs
volume.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; Columns that are unspecified should be
left empty.</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; We create a new feature and component to
hold the new registry keys.</p>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Feature' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Feature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'feaFreelanceKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Feature
  Parent : 'feaClient'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Display&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 0<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Level&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 30<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Attributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 10</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Component' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (new row)<br>
  &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ComponentId&nbsp; : '{4E3B3CBF4-9AE7-40C3-7B09-C48CF842C583}'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 'TARGETDIR'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Attributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 4<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  KeyPath&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey0'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'FeatureComponents' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Feature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'feaFreelanceKeys'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp; 'Registry' table:</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey0'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey1'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '0'<br>
  &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; : 'athena.mit.edu#athena.mit.edu:root.cell.'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey2'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '1'<br>
  &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; : '.athena.mit.edu%athena.mit.edu:root.cell.'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey3'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance\Symlinks'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey4'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance\Symlinks'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '0'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; : 'athena:athena.mit.edu.'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  (new row)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Registry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :
  'reg_freekey5'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 2<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : 'SOFTWARE\OpenAFS\Client\Freelance\Symlinks'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  : '1'<br>
  &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; : '.athena:.athena.mit.edu.'<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  Component&nbsp;&nbsp;&nbsp;&nbsp; : 'rcm_FreelanceKeys'</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>The example adds a read-only mountpoint to the
athena.mit.edu cell's root.afs volume as well as a read-write mountpoint.&nbsp;
Aliases are also provided using symlinks.</p>

<h2><a name="_Toc190064127"></a><a name="_Toc152605138"></a><a
name="_Ref115275867"></a><a name="_Toc139993188"></a><a name="_Toc126872265"></a><a
name="_Toc115417101"></a><a name="_Toc115416196"></a><span style='mso-bookmark:
_Toc190064127'><span style='mso-bookmark:_Toc152605138'><span style='mso-bookmark:
_Ref115275867'>7.3 Additional Resources</span></span></span></h2>

<p class=MsoNormal>If you want to add registry keys or files you need to create
new components and features for those.&nbsp; Refer to the Windows Platform SDK
for details.</p>

<p class=MsoNormal>It is beyond the scope of this document to provide a
comprehensive overview of how to add new resources through a transform.&nbsp;
Please refer to the &quot;Windows Installer&quot; documentation for
details.&nbsp; The relevant section is at :</p>

<p class=MsoNormal>http://msdn.microsoft.com/library/en-us/msi/setup/using_transforms_to_add_resources.asp</p>

<p class=MsoNormal>A sample walkthrough of adding a new configuration file is
in section 2.3.</p>

<p class=MsoNormal>Add new features under the 'feaClient' or 'feaServer' as
appropriate and set the 'Level' column for those features to equal the 'Level'
for their parent features for consistency.&nbsp; Note that none of the features
in the OpenAFS for Windows MSI package are designed to be installed to run from
'source' or 'advertised'.&nbsp; It is recommended that you set
'msidbFeatureAttributesFavorLocal' (0), 'msidbFeatureAttributesFollowParent'
(2) and 'msidbFeatureAttributesDisallowAdvertise' (8) attributes for new
features.</p>

<p class=MsoNormal>If you are creating new components, retain the same
component GUID when creating new transforms against new releases of the OpenAFS
MSI package.</p>

<p class=MsoNormal>After making the adjustments to the MSI database using
ORCA.EXE you can generate a transform with MSITRAN.EXE as follows :</p>

<p class=MsoNormal>(Modified MSI package is 'openafs-en_US_new.msi' and the
original MSI package is 'openafs-en_US.msi'.&nbsp; Generates transform
'openafs-transform.mst')</p>

<p class=MsoNormal>&nbsp;&nbsp;&nbsp; &gt; msitran.exe -g openafs-en_US.msi
openafs-en_US_new.msi openafs-transform.mst</p>

<p class=MsoNormal>See the Platform SDK documentation for information on
command line options for MSITRAN.EXE.</p>

<h2><a name="_Toc190064128"></a><a name="_Toc152605139"></a><a
name="_Toc115416197"></a><a name="_Toc139993189"></a><a name="_Toc126872266"></a><a
name="_Toc115417102"></a><span style='mso-bookmark:_Toc190064128'><span
style='mso-bookmark:_Toc152605139'><span style='mso-bookmark:_Toc115416197'>7.4.
Upgrades</span></span></span></h2>

<p class=MsoNormal>The MSI package is designed to uninstall previous versions
of OpenAFS for Windows during installation.&nbsp; Note that it doesn't directly
upgrade an existing installation.&nbsp; This is intentional and ensures that
development releases which do not have strictly increasing version numbers are
properly upgraded.</p>

<p class=MsoNormal>Versions of OpenAFS that are upgraded by the MSI package
are:</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'>1)<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>OpenAFS MSI package<br>
Upgrade code {6823EEDD-84FC-4204-ABB3-A80D25779833}<br>
Up to current release</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'>2)<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>MIT's Transarc AFS MSI package<br>
Upgrade code {5332B94F-DE38-4927-9EAB-51F4A64193A7}<br>
Up to version 3.6.2</p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt'>3)<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>OpenAFS NSIS package<br>
All versions</p>

<p class=MsoNormal>Note that versions of the OpenAFS NSIS package prior to
1.3.65 had a bug where it couldn't be uninstalled properly in unattended
mode.&nbsp; Therefore the MSI package will not try to uninstall an OpenAFS NSIS
package if running unattended.&nbsp; This means that group policy based
deployments will fail on machines that have the OpenAFS NSIS package installed.</p>

<p class=MsoNormal>If you have used a different MSI package to install OpenAFS
and wish to upgrade it you can author rows into the 'Upgrade' table as
described in the Platform SDK.</p>

<p class=MsoNormal>When performing an upgrade with msiexec.exe execute the MSI
with the repair options &quot;vomus&quot;.</p>

<h1><a name="_Toc190064129"></a><a name="_Toc152605140"></a><a
name="_Toc139993190"></a><a name="_Toc126872267"></a><a name="_Toc115417116"></a><a
name="_Toc115417103"></a><a name="_Toc115416198"></a><a
name="_Appendix_A:_Registry_Values"></a><span style='mso-bookmark:_Toc190064129'><span
style='mso-bookmark:_Toc152605140'>Appendix A: Registry Values</span></span></h1>

<h2><a name="_Toc190064130"></a><a name="_Toc152605141"></a><a
name="_Toc115416199"></a><a name="_Toc139993191"></a><a name="_Toc126872268"></a><a
name="_Toc115417104"></a><span style='mso-bookmark:_Toc190064130'><span
style='mso-bookmark:_Toc152605141'><span style='mso-bookmark:_Toc115416199'>A.1.
Service parameters</span></span></span></h2>

<p class=MsoBodyText>The service parameters primarily affect the behavior of
the AFS client service (afsd_service.exe).</p>

<h3><a name="_Toc190064131"></a><a name="_Toc152605142"></a><a
name="_Toc115416200"></a><a name="_Toc139993192"></a><a name="_Toc126872269"></a><span
style='mso-bookmark:_Toc190064131'><span style='mso-bookmark:_Toc152605142'><span
style='mso-bookmark:_Toc115416200'>Regkey:<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:145.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:145.25pt'>
  <h5><a name="_Toc190064132"></a><a name="_Toc152605143"></a><a
  name="_Toc115416201"></a><a name="_Toc139993193"></a><a name="_Toc126872270"></a><span
  style='mso-bookmark:_Toc190064132'><span style='mso-bookmark:_Toc152605143'><span
  style='mso-bookmark:_Toc115416201'>Value: LANadapter</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: -1<br>
  Variable: LANadapter</p>
  <p class=MsoBodyText>LAN adapter number to use.&nbsp; This is the lana number
  of the LAN adapter that the SMB server should bind to.&nbsp; If unspecified
  or set to -1, a LAN adapter with named 'AFS' or a loopback adapter will be
  selected.&nbsp; If neither are present, then all available adapters will be
  bound to.&nbsp; When binding to a non-loopback adapter, the NetBIOS name
  hostname%-AFS' will be used (where %hostname% is the NetBIOS name of the host
  truncated to 11 characters). Otherwise, the NetBIOS name will be 'AFS'.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064133"></a><a name="_Toc152605144"></a><a
  name="_Toc139993194"></a><a name="_Toc126872271"></a><a name="_Toc115416202"></a><a
  name="_Value___:_CacheSize"></a><span style='mso-bookmark:_Toc190064133'><span
  style='mso-bookmark:_Toc152605144'>Value: CacheSize</span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 98304 (CM_CONFIGDEFAULT_CACHESIZE)<br>
  Variable: cm_initParams.cacheSize</p>
  <p class=MsoBodyText>Size of the AFS cache in 1k blocks.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064134"></a><a name="_Toc152605145"></a><a
  name="_Toc115416203"></a><a name="_Toc139993195"></a><a name="_Toc126872272"></a><span
  style='mso-bookmark:_Toc190064134'><span style='mso-bookmark:_Toc152605145'><span
  style='mso-bookmark:_Toc115416203'>Value: ChunkSize</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 20 (CM_CONFIGDEFAULT_CHUNKSIZE)<br>
  Variable: cm_logChunkSize (cm_chunkSize = 1 &lt;&lt; cm_logChunkSize)</p>
  <p class=MsoBodyText>Size of chunk for reading and writing. Actual chunk size
  is 2^cm_logChunkSize. The default chunk size is therefore 1 MB.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064135"></a><a name="_Toc152605146"></a><a
  name="_Toc115416204"></a><a name="_Toc139993196"></a><a name="_Toc126872273"></a><span
  style='mso-bookmark:_Toc190064135'><span style='mso-bookmark:_Toc152605146'><span
  style='mso-bookmark:_Toc115416204'>Value: Daemons</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 2 (CM_CONFIGDEFAULT_DAEMONS)<br>
  Variable: numBkgD</p>
  <p class=MsoBodyText>Number of background daemons (number of threads of cm_BkgDaemon).
  (see cm_BkgDaemon in cm_daemon.c)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064136"></a><a name="_Toc152605147"></a><a
  name="_Toc115416205"></a><a name="_Toc139993197"></a><a name="_Toc126872274"></a><span
  style='mso-bookmark:_Toc190064136'><span style='mso-bookmark:_Toc152605147'><span
  style='mso-bookmark:_Toc115416205'>Value: ServerThreads</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 25 (CM_CONFIGDEFAULT_SVTHREADS)<br>
  Variable: numSvThreads</p>
  <p class=MsoBodyText>Number of SMB server threads (number of threads of
  smb_Server). (see smb_Server in smb.c).</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064137"></a><a name="_Toc152605148"></a><a
  name="_Toc115416206"></a><a name="_Value:_Stats"></a><a name="_Toc139993198"></a><a
  name="_Toc126872275"></a><span style='mso-bookmark:_Toc190064137'><span
  style='mso-bookmark:_Toc152605148'><span style='mso-bookmark:_Toc115416206'>Value:
  Stats</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 10000 (CM_CONFIGDEFAULT_STATS)<br>
  Variable: cm_initParams.nStatCaches</p>
  <p class=MsoBodyText>Cache configuration.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064138"></a><a name="_Toc152605149"></a><a
  name="_Toc139993199"></a><a name="_Toc126872276"></a><a name="_Toc115416207"></a><a
  name="_Value_:_LogoffPreserveTokens"></a><span style='mso-bookmark:_Toc190064138'><span
  style='mso-bookmark:_Toc152605149'>Value: LogoffPreserveTokens</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default : 0</p>
  <p class=MsoBodyText>If enabled (set to 1), the Logoff Event handler will not
  attempt to delete the user's tokens&nbsp; if the user's profile is stored
  outside of AFS.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064139"></a><a name="_Toc152605150"></a><a
  name="_Toc115416208"></a><a name="_Toc139993200"></a><a name="_Toc126872277"></a><span
  style='mso-bookmark:_Toc190064139'><span style='mso-bookmark:_Toc152605150'><span
  style='mso-bookmark:_Toc115416208'>Value: RootVolume</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &quot;root.afs&quot;<br>
  Variable: cm_rootVolumeName</p>
  <p class=MsoBodyText>Root volume name.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8;height:145.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:145.25pt'>
  <h5><a name="_Toc190064140"></a><a name="_Toc152605151"></a><a
  name="_Toc139993201"></a><a name="_Toc126872278"></a><a name="_Toc115416209"></a><a
  name="_Value_:_Mountroot"></a><span style='mso-bookmark:_Toc190064140'><span
  style='mso-bookmark:_Toc152605151'>Value: MountRoot</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &quot;/afs&quot;<br>
  Variable: cm_mountRoot</p>
  <p class=MsoBodyText>Name of root mount point.&nbsp; In symlinks, if a path
  starts with cm_mountRoot, it is assumed that the path is absolute (as opposed
  to relative) and is adjusted accordingly. Eg: if a path is specified as
  /afs/athena.mit.edu/foo/bar/baz and cm_mountRoot is &quot;/afs&quot;, then
  the path is interpreted as \\afs\all\athena.mit.edu\foo\bar\baz.&nbsp; If a
  path does not start with with cm_mountRoot, the path is assumed to be
  relative and suffixed to the reference directory (i.e. directory where the
  symlink exists)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064141"></a><a name="_Toc152605152"></a><a
  name="_Toc139993202"></a><a name="_Toc126872279"></a><a name="_Toc115416210"></a><a
  name="_Value_:_CachePath"></a><span style='mso-bookmark:_Toc190064141'><span
  style='mso-bookmark:_Toc152605152'>Value: CachePath</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ or REG_EXPAND_SZ<br>
  Default: &quot;%TEMP%\AFSCache&quot;<br>
  Variable: cm_CachePath</p>
  <p class=MsoBodyText>Location of on-disk cache file.&nbsp; The default is the
  SYSTEM account's TEMP directory.&nbsp; The attributes assigned to the file
  are HIDDEN and SYSTEM.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10;height:119.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:119.0pt'>
  <h5><a name="_Toc190064142"></a><a name="_Toc152605153"></a><a
  name="_Toc115416211"></a><a name="_Toc139993203"></a><a name="_Toc126872280"></a><span
  style='mso-bookmark:_Toc190064142'><span style='mso-bookmark:_Toc152605153'><span
  style='mso-bookmark:_Toc115416211'>Value: NonPersistentCaching</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD [0..1]<br>
  Default: 0<br>
  Variable: buf_CacheType</p>
  <p class=MsoBodyText>When this registry value is set to a non-zero value, the
  CachePath value is ignored and the cache data is stored in the windows paging
  file.&nbsp; This disables the use of persistent caching and the ability to
  maintain a single UUID for the AFS client service across restarts.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11;height:125.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:125.5pt'>
  <h5><a name="_Toc190064143"></a><a name="_Toc152605154"></a><a
  name="_Toc115416212"></a><a name="_Toc139993204"></a><a name="_Toc126872281"></a><span
  style='mso-bookmark:_Toc190064143'><span style='mso-bookmark:_Toc152605154'><span
  style='mso-bookmark:_Toc115416212'>Value: ValidateCache</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD [0..2]<br>
  Default: 1<br>
  Variable: buf_CacheType</p>
  <p class=MsoBodyText>This value determines if and when persistent cache
  validation is performed.</p>
  <p class=MsoBodyText>0 - Validation is disabled<br>
  1 - Validation is performed at startup<br>
  2 - Validation is performed at shutdown</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064144"></a><a name="_Toc152605155"></a><a
  name="_Toc115416213"></a><a name="_Toc139993205"></a><a name="_Toc126872282"></a><span
  style='mso-bookmark:_Toc190064144'><span style='mso-bookmark:_Toc152605155'><span
  style='mso-bookmark:_Toc115416213'>Value: TrapOnPanic</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 0<br>
  Variable: traceOnPanic</p>
  <p class=MsoBodyText>Issues a breakpoint in the event of a panic.
  (breakpoint: _asm int 3).</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064145"></a><a name="_Toc152605156"></a><a
  name="_Toc139993206"></a><a name="_Toc126872283"></a><a name="_Toc115416214"></a><a
  name="_Value___:_NetbiosName"></a><span style='mso-bookmark:_Toc190064145'><span
  style='mso-bookmark:_Toc152605156'>Value: NetbiosName</span></span></h5>
  <p class=MsoBodyText>Type: REG_EXPAND_SZ<br>
  Default: &quot;AFS&quot;<br>
  Variable: cm_NetbiosName</p>
  <p class=MsoBodyText>Specifies the NetBIOS name to be used when binding to a
  Loopback adapter.&nbsp; To provide the old behavior specify a value of&nbsp;
  &quot;%COMPUTERNAME%-AFS&quot;.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:14;height:152.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:152.0pt'>
  <h5><a name="_Toc190064146"></a><a name="_Toc152605157"></a><a
  name="_Toc115416215"></a><a name="_Toc139993207"></a><a name="_Toc126872284"></a><span
  style='mso-bookmark:_Toc190064146'><span style='mso-bookmark:_Toc152605157'><span
  style='mso-bookmark:_Toc115416215'>Value: IsGateway</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 0<br>
  Variable: isGateway</p>
  <p class=MsoBodyText>Select whether or not this AFS client should act as a
  gateway.&nbsp; If set and the NetBIOS name hostname-AFS is bound to a
  physical NIC, other machines in the subnet can access AFS via SMB connections
  to hostname-AFS.</p>
  <p class=MsoBodyText>When IsGateway is non-zero, the LAN adapter detection
  code will avoid binding to a loopback adapter.&nbsp; This will ensure that
  the NetBIOS name will be of the form hostname-AFS instead of the value set by
  the &quot;NetbiosName&quot; registry value.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:15;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064147"></a><a name="_Toc152605158"></a><a
  name="_Toc115416216"></a><a name="_Toc139993208"></a><a name="_Toc126872285"></a><span
  style='mso-bookmark:_Toc190064147'><span style='mso-bookmark:_Toc152605158'><span
  style='mso-bookmark:_Toc115416216'>Value: ReportSessionStartups</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 0<br>
  Variable: reportSessionStartups</p>
  <p class=MsoBodyText>If enabled, all SMB sessions created are recorded in the
  Application event log.&nbsp; This also enables other events such as drive
  mappings or various error types to be logged.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:16;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064148"></a><a name="_Toc152605159"></a><a
  name="_Toc139993209"></a><a name="_Toc126872286"></a><a name="_Toc115416217"></a><a
  name="_Value_:_TraceBufferSize"></a><span style='mso-bookmark:_Toc190064148'><span
  style='mso-bookmark:_Toc152605159'>Value: TraceBufferSize</span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 5000 (CM_CONFIGDEFAULT_TRACEBUFSIZE)<br>
  Variable: traceBufSize</p>
  <p class=MsoBodyText>Number of entries to keep in trace log.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:17;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064149"></a><a name="_Toc152605160"></a><a
  name="_Toc139993210"></a><a name="_Toc126872287"></a><a name="_Toc115416218"></a><a
  name="_Value_:_SysName"></a><span style='mso-bookmark:_Toc190064149'><span
  style='mso-bookmark:_Toc152605160'>Value: SysName</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &quot;x86_win32 i386_w2k i386_nt40&quot; (X86) <br>
  “amd64_win64 x86_win32 i386_w2k” (AMD64)<br>
  Variable: cm_sysName</p>
  <p class=MsoBodyText>Provides an initial value for &quot;fs
  sysname&quot;.&nbsp; The string can contain one or more replacement values
  for @sys in order of preference separated by whitespace.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:18;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064150"></a><a name="_Toc152605161"></a><a
  name="_Toc139993211"></a><a name="_Toc126872288"></a><a name="_Toc115416219"></a><a
  name="_Value_:_SecurityLevel"></a><span style='mso-bookmark:_Toc190064150'><span
  style='mso-bookmark:_Toc152605161'>Value: SecurityLevel</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 0<br>
  Variable: cryptall</p>
  <p class=MsoBodyText>Enables encryption on RX calls.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:19;height:112.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:112.25pt'>
  <h5><a name="_Toc190064151"></a><a name="_Toc152605162"></a><a
  name="_Toc139993212"></a><a name="_Toc126872289"></a><a name="_Toc115416220"></a><a
  name="_Value_:_UseDNS"></a><span style='mso-bookmark:_Toc190064151'><span
  style='mso-bookmark:_Toc152605162'>Value: UseDNS</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 1<br>
  Variable: cm_dnsEnabled</p>
  <p class=MsoBodyText>Enables resolving volservers using AFSDB DNS queries.</p>
  <p class=MsoBodyText>As of 1.3.60, this value is ignored as the DNS query
  support utilizes the Win32 DNSQuery API which is available on Win2000 and above.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:20;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064152"></a><a name="_Toc152605163"></a><a
  name="_Toc139993213"></a><a name="_Toc126872290"></a><a name="_Toc115416221"></a><a
  name="_Value_:_FreelanceClient"></a><span style='mso-bookmark:_Toc190064152'><span
  style='mso-bookmark:_Toc152605163'>Value: FreelanceClient</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 0<br>
  Variable: cm_freelanceEnabled</p>
  <p class=MsoBodyText>Enables freelance client.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:21;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064153"></a><a name="_Toc152605164"></a><a
  name="_Value:_HideDotFiles"></a><a name="_Toc139993214"></a><a
  name="_Toc126872291"></a><a name="_Toc115416222"></a><a
  name="_Value_:_HideDotFiles"></a><span style='mso-bookmark:_Toc190064153'><span
  style='mso-bookmark:_Toc152605164'>Value: HideDotFiles</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1,0}<br>
  Default: 1<br>
  Variable: smb_hideDotFiles</p>
  <p class=MsoBodyText>Enables marking dotfiles with the hidden
  attribute.&nbsp; Dot files are files whose name starts with a period
  (excluding &quot;.&quot; and &quot;..&quot;).</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:22;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064154"></a><a name="_Toc152605165"></a><a
  name="_Toc115416223"></a><a name="_Toc139993215"></a><a name="_Toc126872292"></a><span
  style='mso-bookmark:_Toc190064154'><span style='mso-bookmark:_Toc152605165'><span
  style='mso-bookmark:_Toc115416223'>Value: MaxMpxRequests</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 50<br>
  Variable: smb_maxMpxRequests</p>
  <p class=MsoBodyText>Maximum number of multiplexed SMB requests that can be
  made.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:23;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064155"></a><a name="_Toc152605166"></a><a
  name="_Toc115416224"></a><a name="_Toc139993216"></a><a name="_Toc126872293"></a><span
  style='mso-bookmark:_Toc190064155'><span style='mso-bookmark:_Toc152605166'><span
  style='mso-bookmark:_Toc115416224'>Value: MaxVCPerServer</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 100<br>
  Variable: smb_maxVCPerServer</p>
  <p class=MsoBodyText>Maximum number of SMB virtual circuits.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:24;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064156"></a><a name="_Toc152605167"></a><a
  name="_Toc139993217"></a><a name="_Toc126872294"></a><a name="_Toc115416225"></a><a
  name="_Value_:_Cell"></a><span style='mso-bookmark:_Toc190064156'><span
  style='mso-bookmark:_Toc152605167'>Value: Cell</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;<br>
  Variable: rootCellName</p>
  <p class=MsoBodyText>Name of root cell (the cell from which root.afs should
  be mounted in \\afs\all).</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:25;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064157"></a><a name="_Toc152605168"></a><a
  name="_Toc115416226"></a><a name="_Toc139993218"></a><a name="_Toc126872295"></a><span
  style='mso-bookmark:_Toc190064157'><span style='mso-bookmark:_Toc152605168'><span
  style='mso-bookmark:_Toc115416226'>Value: RxNoJumbo</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0,1}<br>
  Default: 0<br>
  Variable: rx_nojumbo</p>
  <p class=MsoBodyText>If enabled, does not send or indicate that we are able
  to send or receive RX jumbograms.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:26;height:124.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:124.75pt'>
  <h5><a name="_Toc190064158"></a><a name="_Toc152605169"></a><a
  name="_Toc139993219"></a><a name="_Toc126872296"></a><a name="_Toc115416227"></a><a
  name="_Value_:_RxMaxMTU"></a><span style='mso-bookmark:_Toc190064158'><span
  style='mso-bookmark:_Toc152605169'>Value: RxMaxMTU</span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: -1<br>
  Variable: rx_mtu</p>
  <p class=MsoBodyText>If set to anything other than -1, uses that value as the
  maximum MTU supported by the RX interface.</p>
  <p class=MsoBodyText>In order to enable OpenAFS to operate across the Cisco
  IPSec VPN client, this value must be set to 1264 or smaller.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:27;height:151.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:151.75pt'>
  <h5><a name="_Toc190064159"></a><a name="_Toc152605170"></a><a
  name="_Toc139993220"></a><a name="_Toc126872297"></a><a name="_Toc115416228"></a><a
  name="_Value:_ConnDeadTimeout"></a><span style='mso-bookmark:_Toc190064159'><span
  style='mso-bookmark:_Toc152605170'>Value: ConnDeadTimeout</span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 60 (seconds)<br>
  Variable: ConnDeadtimeout</p>
  <p class=MsoBodyText>The Connection Dead Time is enforced to be at a minimum
  15 seconds longer than the minimum SMB timeout as specified by
  [HKLM\SYSTEM\CurrentControlSet\Services\lanmanworkstation\parameters]
  SessTimeout</p>
  <p class=MsoBodyText>If the minimum SMB timeout is not specified the value is
  45 seconds.&nbsp; See <a
  href="http://support.microsoft.com/support/kb/articles/Q102/0/67.asp">http://support.microsoft.com:80/support/kb/articles/Q102/0/67.asp</a></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:28;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064160"></a><a name="_Toc152605171"></a><a
  name="_Toc115416229"></a><a name="_Toc139993221"></a><a name="_Toc126872298"></a><span
  style='mso-bookmark:_Toc190064160'><span style='mso-bookmark:_Toc152605171'><span
  style='mso-bookmark:_Toc115416229'>Value: HardDeadTimeout</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 120 (seconds)<br>
  Variable: HardDeadtimeout</p>
  <p class=MsoBodyText>The Hard Dead Time is enforced to be at least double the
  ConnDeadTimeout.&nbsp; The provides an opportunity for at least one retry.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:29;height:158.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:158.5pt'>
  <h5><a name="_Toc190064161"></a><a name="_Toc152605172"></a><a
  name="_Toc139993222"></a><a name="_Toc126872299"></a><a name="_Toc115416230"></a><a
  name="_Value__:_TraceOption"></a><span style='mso-bookmark:_Toc190064161'><span
  style='mso-bookmark:_Toc152605172'>Value: TraceOption</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0-15}<br>
  Default: 0</p>
  <p class=MsoBodyText>Enables logging of debug output to the Windows Event
  Log.</p>
  <p class=MsoBodyText>Bit 0 enables logging of &quot;Logon Events&quot;
  processed by the Network Provider and Winlogon Event Notification
  Handler.&nbsp; </p>
  <p class=MsoBodyText>Bit 1 enables logging of events captured by the AFS
  Client Service.</p>
  <p class=MsoBodyText>Bit 2 enables real-time viewing of &quot;fs trace&quot;
  logging with DbgView or similar tools.</p>
  <p class=MsoBodyText>Bit 3 enables &quot;fs trace&quot; logging on startup.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:30;height:98.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:98.5pt'>
  <h5><a name="_Toc190064162"></a><a name="_Toc152605173"></a><a
  name="_Toc115416231"></a><a name="_Toc139993223"></a><a name="_Toc126872300"></a><span
  style='mso-bookmark:_Toc190064162'><span style='mso-bookmark:_Toc152605173'><span
  style='mso-bookmark:_Toc115416231'>Value: AllSubmount</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 1</p>
  <p class=MsoBodyText>Variable: allSubmount (smb.c)</p>
  <p class=MsoBodyText>By setting this value to 0, the
  &quot;\\NetbiosName\all&quot; mount point will not be created.&nbsp; This
  allows the read-write versions of root.afs to be hidden.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:31;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064163"></a><a name="_Toc152605174"></a><a
  name="_Toc139993224"></a><a name="_Toc126872301"></a><a name="_Toc115416232"></a><a
  name="_Value___:_NoFindLanaByName"></a><span style='mso-bookmark:_Toc190064163'><span
  style='mso-bookmark:_Toc152605174'>Value: NoFindLanaByName</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0</p>
  <p class=MsoBodyText>Disables the attempt to identity the network adapter to
  use by looking for an adapter with a display name of &quot;AFS&quot;.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:32;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064164"></a><a name="_Toc152605175"></a><a
  name="_Toc115416233"></a><a name="_Toc139993225"></a><a name="_Toc126872302"></a><span
  style='mso-bookmark:_Toc190064164'><span style='mso-bookmark:_Toc152605175'><span
  style='mso-bookmark:_Toc115416233'>Value: MaxCPUs</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {1..32} or {1..64} depending on the architecture<br>
  Default: &lt;no default&gt;</p>
  <p class=MsoBodyText>If this value is specified, afsd_service.exe will
  restrict itself to executing on the specified number of CPUs if there are a
  greater number installed in the machine.&nbsp; </p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:33;height:151.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:151.75pt'>
  <h5><a name="_Toc190064165"></a><a name="_Toc152605176"></a><a
  name="_Toc139993226"></a><a name="_Toc126872303"></a><a name="_Toc115416234"></a><a
  name="_Value___:_smbAuthType"></a><span style='mso-bookmark:_Toc190064165'><span
  style='mso-bookmark:_Toc152605176'>Value: smbAuthType</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0..2}<br>
  Default: 2</p>
  <p class=MsoBodyText>If this value is specified, it defines the type of SMB
  authentication which must be present in order for the Windows SMB client to
  connect to the AFS Client Service's SMB server.&nbsp; The values are:</p>
  <p class=MsoBodyText>0 = No authentication required<br>
  1 = NTLM authentication required<br>
  2 = Extended (GSS SPNEGO) authentication required<br>
  The default is Extended authentication</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:34;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064166"></a><a name="_Toc152605177"></a><a
  name="_Toc139993227"></a><a name="_Toc126872304"></a><a name="_Toc115416235"></a><a
  name="_Value___:_MaxLogSize"></a><span style='mso-bookmark:_Toc190064166'><span
  style='mso-bookmark:_Toc152605177'>Value: MaxLogSize</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0 .. MAXDWORD}<br>
  Default: 100K</p>
  <p class=MsoBodyText>This entry determines the maximum size of the
  %WINDIR%\TEMP\afsd_init.log file.&nbsp; If the file is larger than this value
  when afsd_service.exe starts the file will be reset to 0 bytes.&nbsp; If this
  value is 0, it means the file should be allowed to grow indefinitely.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:35;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064167"></a><a name="_Toc152605178"></a><a
  name="_Toc115416236"></a><a name="_Toc139993228"></a><a name="_Toc126872305"></a><span
  style='mso-bookmark:_Toc190064167'><span style='mso-bookmark:_Toc152605178'><span
  style='mso-bookmark:_Toc115416236'>Value: FlushOnHibernate</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0,1}<br>
  Default: 1</p>
  <p class=MsoBodyText>If set, flushes all volumes before the machine goes on
  hibernate or stand-by.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:36;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064168"></a><a name="_Toc152605179"><span
  style='mso-bookmark:_Toc190064168'>Value: daemonCheckDownInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 180</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>This
  value controls how frequently the AFS cache manager probes servers that are
  marked as “down”.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:37;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064169"></a><a name="_Toc152605180"><span
  style='mso-bookmark:_Toc190064169'>Value: daemonCheckUpInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 600</p>
  <p class=MsoBodyText>This value controls how frequently the AFS cache manager
  probes servers that are marked as “up”.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:38;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064170"></a><a name="_Toc152605181"><span
  style='mso-bookmark:_Toc190064170'>Value: daemonCheckVolInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 3600</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>This
  value controls how frequently the AFS cache manager forces a reset on the
  existing volume database information.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:39;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064171"></a><a name="_Toc152605182"><span
  style='mso-bookmark:_Toc190064171'>Value: daemonCheckCBInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 60</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>This
  value controls how frequently the AFS cache manager checks for callback
  invalidation.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:40;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064172"></a><a name="_Toc152605183"><span
  style='mso-bookmark:_Toc190064172'>Value: daemonCheckLockInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 60</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>This
  value controls how frequently the AFS cache manager checks for invalid file
  locks.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:41;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064173"></a><a name="_Toc152605184"><span
  style='mso-bookmark:_Toc190064173'>Value: daemonCheckTokenInterval</span></a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 180</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>This
  value controls how frequently the AFS cache manager checks for expired
  tokens.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:42;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064174">Value: daemonCheckOfflineVolInterval</a></h5>
  <p class=MsoBodyText>Type: DWORD (seconds)<br>
  Default: 600</p>
  <p class=MsoBodyText>This value controls how frequently the AFS cache manager
  checks offline volumes to see if they have come back online.<span
  style='mso-spacerun:yes'>  </span>At the same time volumes which were
  determined to be busy have their state reset to online.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:43;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064175"></a><a name="_Toc152605185"><span
  style='mso-bookmark:_Toc190064175'>Value: CallBackPort</span></a></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 7001</p>
  <p class=MsoBodyText>This value specifies which port number should be used
  for receiving callbacks from the file server.<span style='mso-spacerun:yes'> 
  </span>The standard AFS Callback port is 7001.<span
  style='mso-spacerun:yes'>  </span>Alternative values can be useful if the
  client is behind a NAT and a permanent port mapping for the client is being
  configured.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:44;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064176"></a><a name="_Toc152605186"></a><a
  name="_Value:_EnableServerLocks"></a><span style='mso-bookmark:_Toc190064176'><span
  style='mso-bookmark:_Toc152605186'>Value: EnableServerLocks</span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1, 2}<br>
  Default: 1</p>
  <p class=MsoBodyText>Determines whether or not the AFS file server is
  contacted for </p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>0:
  never obtain server locks<o:p></o:p></span></p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>1:
  obtain server locks unless the file server says not to<o:p></o:p></span></p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>2:
  always obtain server locks<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:45;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064177">Value: DeleteReadOnly</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0</p>
  <p class=MsoBodyText>Determines whether or not the AFS Cache Manager will
  permit files marked with the “Read Only” DOS attribute to be deleted or
  not.<span style='mso-spacerun:yes'>  </span>For compatibility with Explorer,
  the default is ‘no’.</p>
  <p class=MsoBodyText><span style='mso-fareast-font-family:"Times New Roman"'>0:
  do not permit “Read Only” files to be deleted.<o:p></o:p></span></p>
  <p class=MsoBodyText>1: delete files that have the “Read Only” attribute set
  without complaint.<span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:46;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064178">Value: BPlusTrees</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 1</p>
  <p class=MsoBodyText>Determines whether or not the AFS Cache Manager uses
  locally constructed B+ Trees to speed up the performance of directory
  searches.<span style='mso-spacerun:yes'>  </span></p>
  <p class=MsoBodyText>0: do not use B+ Trees for directory lookups</p>
  <p class=MsoBodyText>1: use B+ Trees for directory lookups<span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:47;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064179">Value: PrefetchExecutableExtensions</a></h5>
  <p class=MsoBodyText>Type: MULTI_SZ <br>
  Default: none specified</p>
  <p class=MsoNormal>The AFS Cache Manager will pre-fetch the entire contents
  of any file whose name matches ends with one of the specified
  extensions.<span style='mso-spacerun:yes'>  </span>This option is intended
  for use primarily with executables and dynamic link libraries that should be
  fully cached prior to a machine losing its connection with the file server.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:48;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064180">Value: OfflineReadOnlyIsValid</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0</p>
  <p class=MsoBodyText>Determines whether or not cached data from .readonly
  volumes is considered valid even if a callback cannot be registered with a
  file server.<span style='mso-spacerun:yes'>  </span>This option is meant to
  be used by organizations for <span class=GramE>whom</span> .readonly volume
  content very rarely changes (if ever.)</p>
  <p class=MsoBodyText>0: do not treat offline .readonly content as valid</p>
  <p class=MsoNormal>1: treat offline .readonly content as valid</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:49;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064181">Value: GiveUpAllCallBacks</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0</p>
  <p class=MsoNormal>Determines whether or not the AFS Cache Manager will give
  up all callbacks prior to the service being suspended or shutdown. <span
  style='mso-spacerun:yes'> </span>Doing so will have significant performance
  benefits for the file servers.<span style='mso-spacerun:yes'> 
  </span>However, file servers older than 1.4.6 can become unstable if the
  GiveUpAllCallBacks RPC is executed.</p>
  <p class=MsoNormal>0: do not perform GiveUpAllCallBacks RPCs</p>
  <p class=MsoNormal>1: perform GiveUpAllCallBacks RPCs </p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:50;mso-yfti-lastrow:yes;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064182">Value: FollowBackupPath</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0</p>
  <p class=MsoNormal>Determines whether or not the AFS Cache Manager will give
  preference to .backup volumes when following mount points that originate in a
  .backup volume.</p>
  <p class=MsoNormal>0: do not prefer .backup volumes when the mount point
  originates in a .backup volume.</p>
  <p class=MsoNormal>1: prefer .backup volumes when the mount point originates
  in a .backup volume.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064183"></a><a name="_Toc152605187"></a><a
name="_Toc115416237"></a><a name="_Toc139993229"></a><a name="_Toc126872306"></a><span
style='mso-bookmark:_Toc190064183'><span style='mso-bookmark:_Toc152605187'><span
style='mso-bookmark:_Toc115416237'>Regkey<span class=GramE>:</span><br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters\GlobalAutoMapper]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:65.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.0pt'>
  <h5><a name="_Toc190064184"></a><a name="_Toc152605188"></a><a
  name="_Toc115416238"></a><a name="_Toc139993230"></a><a name="_Toc126872307"></a><span
  style='mso-bookmark:_Toc190064184'><span style='mso-bookmark:_Toc152605188'><span
  style='mso-bookmark:_Toc115416238'>Value: &lt;Drive Letter:&gt; for example
  &quot;G:&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ</p>
  <p class=MsoBodyText>Specifies the submount name to be mapped by
  afsd_service.exe at startup to the provided drive letter.</p>
  <p class=MsoBodyText><b style='mso-bidi-font-weight:normal'><i
  style='mso-bidi-font-style:normal'>This option is deprecated.<o:p></o:p></i></b></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064185"></a><a name="_Toc152605189"></a><a
name="_Toc115416239"></a><a name="_Toc139993231"></a><a name="_Toc126872308"></a><span
style='mso-bookmark:_Toc190064185'><span style='mso-bookmark:_Toc152605189'><span
style='mso-bookmark:_Toc115416239'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064186"></a><a name="_Toc152605190"></a><a
  name="_Toc139993232"></a><a name="_Toc126872309"></a><a name="_Toc115416240"></a><a
  name="_Value___:_CellServDBDir"></a><span style='mso-bookmark:_Toc190064186'><span
  style='mso-bookmark:_Toc152605190'>Value: CellServDBDir</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;not defined&gt;</p>
  <p class=MsoBodyText>Specifies the directory containing the CellServDB
  file.&nbsp; When this value is not specified, the ProgramData directory is
  searched and if the CellServDB file is not found, the AFS Client install
  directory is used.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:145.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:145.25pt'>
  <h5><a name="_Toc190064187"></a><a name="_Toc152605191"></a><a
  name="_Toc139993233"></a><a name="_Toc126872310"></a><a name="_Toc115416241"></a><a
  name="_Value___:_VerifyServiceSignature"></a><span style='mso-bookmark:_Toc190064187'><span
  style='mso-bookmark:_Toc152605191'>Value: VerifyServiceSignature</span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: 0x1</p>
  <p class=MsoBodyText>This value can be used to disable the runtime
  verification of the digital signatures applied to afsd_service.exe and the
  OpenAFS DLLs it loads.&nbsp; This test is performed to verify
  that&nbsp;&nbsp; the DLLs which are loaded by afsd_service.exe are from the
  same distribution as afsd_service.exe.&nbsp; This is to prevent random errors
  caused when DLLs from one distribution of AFS are loaded by another one.&nbsp;
  This is not a security test.&nbsp; The reason for disabling this test is to
  free up additional memory which can be used for a large cache size.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:105.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:105.5pt'>
  <h5><a name="_Toc190064188"></a><a name="_Toc152605192"></a><a
  name="_Value:_IoctlDebug"></a><a name="_Toc139993234"></a><a
  name="_Toc126872311"></a><a name="_Toc115416242"></a><a
  name="_Value___:_IoctlDebug"></a><span style='mso-bookmark:_Toc190064188'><span
  style='mso-bookmark:_Toc152605192'>Value: IoctlDebug</span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: 0x0</p>
  <p class=MsoBodyText>This value can be used to debug the cause of pioctl()
  failures.&nbsp; Set a non-zero value and the pioctl() library will output
  status information to stdout.&nbsp; Executing command line tools such as
  tokens.exe, fs.exe, etc can then be used to determine why the pioctl() call
  is failing. </p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:330.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:330.75pt'>
  <h5><a name="_Toc190064189"></a><a name="_Toc152605193"></a><a
  name="_Toc115416243"></a><a name="_Toc139993235"></a><a name="_Toc126872312"></a><span
  style='mso-bookmark:_Toc190064189'><span style='mso-bookmark:_Toc152605193'><span
  style='mso-bookmark:_Toc115416243'>Value: MiniDumpType</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: 0x0 (MiniDumpNormal)</p>
  <p class=MsoBodyText>This value is used to specify the type of minidump
  generated by afsd_service.exe either when the process crashes or when a user
  initiated is dump file is generated with the &quot;fs.exe minidump&quot;
  command.</p>
  <p class=MsoBodyText>Valid values are dependent on the version of DbgHelp.dll
  installed on the machine.&nbsp; See the Microsoft Developer Library for
  further information.</p>
  <p class=MsoBodyText>MiniDumpNormal = 0x00000000,<br>
  MiniDumpWithDataSegs = 0x00000001,<br>
  MiniDumpWithFullMemory = 0x00000002,<br>
  MiniDumpWithHandleData = 0x00000004,<br>
  MiniDumpFilterMemory = 0x00000008,<br>
  MiniDumpScanMemory = 0x00000010,<br>
  MiniDumpWithUnloadedModules = 0x00000020,<br>
  MiniDumpWithIndirectlyReferencedMemory = 0x00000040,<br>
  MiniDumpFilterModulePaths = 0x00000080,<br>
  MiniDumpWithProcessThreadData = 0x00000100,<br>
  MiniDumpWithPrivateReadWriteMemory = 0x00000200,<br>
  MiniDumpWithoutOptionalData = 0x00000400,<br>
  MiniDumpWithFullMemoryInfo = 0x00000800,<br>
  MiniDumpWithThreadInfo = 0x00001000,<br>
  MiniDumpWithCodeSegs = 0x00002000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes;height:138.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:138.25pt'>
  <h5><a name="_Toc190064190"></a><a name="_Toc152605194"></a><a
  name="_Toc139993236"></a><a name="_Toc126872313"></a><a name="_Toc115416244"></a><a
  name="_Value___:_StoreAnsiFilenames"></a><span style='mso-bookmark:_Toc190064190'><span
  style='mso-bookmark:_Toc152605194'>Value: StoreAnsiFilenames</span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: 0x0</p>
  <p class=MsoBodyText>This value can be used to force the AFS Client Service
  to store filenames using the Windows system's ANSI character set instead of
  the OEM Code Page character set which has traditionally been used by SMB file
  systems.&nbsp; </p>
  <p class=MsoBodyText>Note: The use of ANSI characters will render access to
  files with 8-bit OEM file names unaccessible from Windows.&nbsp; This option
  is of use primarily when you wish to allow file names produced on Windows to
  be accessible from Latin-1 UNIX systems and vice versa.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064191"></a><a name="_Toc152605195"></a><a
name="_Toc115416245"></a><a name="_Toc139993237"></a><a name="_Toc126872314"></a><span
style='mso-bookmark:_Toc190064191'><span style='mso-bookmark:_Toc152605195'><span
style='mso-bookmark:_Toc115416245'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client\CSCPolicy]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:112.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:112.0pt'>
  <h5><a name="_Toc190064192"></a><a name="_Toc152605196"></a><a
  name="_Toc115416246"></a><a name="_Toc139993238"></a><a name="_Toc126872315"></a><span
  style='mso-bookmark:_Toc190064192'><span style='mso-bookmark:_Toc152605196'><span
  style='mso-bookmark:_Toc115416246'>Value: &quot;smb/cifs share name&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>This key is used to map SMB/CIFS shares to Client Side
  Caching (off-line access) policies. For each share one of the following
  policies may be used: &quot;manual&quot;, &quot;programs&quot;,
  &quot;documents&quot;, &quot;disable&quot;.&nbsp; </p>
  <p class=MsoBodyText>These values used to be stored in afsdsbmt.ini</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064193"></a><a name="_Toc152605197"></a><a
name="_Toc139993239"></a><a name="_Toc126872316"></a><a name="_Toc115416247"></a><a
name="_Regkey:_[HKLM\SOFTWARE\OpenAFS\Clie"></a><span style='mso-bookmark:_Toc190064193'><span
style='mso-bookmark:_Toc152605197'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client\Freelance]</span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:138.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:138.5pt'>
  <h5><a name="_Toc190064194"></a><a name="_Toc152605198"></a><a
  name="_Toc115416248"></a><a name="_Toc139993240"></a><a name="_Toc126872317"></a><span
  style='mso-bookmark:_Toc190064194'><span style='mso-bookmark:_Toc152605198'><span
  style='mso-bookmark:_Toc115416248'>Value: &quot;numeric value&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>This key is used to store dot terminated mount point strings
  for use in constructing the fake root.afs volume when Freelance (dynamic
  roots) mode is activated.</p>
  <p class=MsoBodyText>&quot;athena.mit.edu#athena.mit.edu:root.cell.&quot;</p>
  <p class=MsoBodyText>&quot;.athena.mit.edu%athena.mit.edu:root.cell.&quot;</p>
  <p class=MsoBodyText>These values used to be stored in afs_freelance.ini</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064195"></a><a name="_Toc152605199"></a><a
name="_Toc139993241"></a><a name="_Toc126872318"></a><a name="_Toc115416249"></a><a
name="_Regkey:_[HKLM\SOFTWARE\OpenAFS\Clie_1"></a><span style='mso-bookmark:
_Toc190064195'><span style='mso-bookmark:_Toc152605199'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client\Freelance\Symlinks]</span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:145.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:145.0pt'>
  <h5><a name="_Toc190064196"></a><a name="_Toc152605200"></a><a
  name="_Toc115416250"></a><a name="_Toc139993242"></a><a name="_Toc126872319"></a><span
  style='mso-bookmark:_Toc190064196'><span style='mso-bookmark:_Toc152605200'><span
  style='mso-bookmark:_Toc115416250'>Value: &quot;numeric value&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>This key is used to store a dot terminated symlink
  strings for use in constructing the fake root.afs volume when Freelance
  (dynamic roots) mode is activated.</p>
  <p class=MsoBodyText>&quot;linkname:destination-path.&quot;</p>
  <p class=MsoBodyText>&quot;athena:athena.mit.edu.&quot;</p>
  <p class=MsoBodyText>&quot;home:athena.mit.edu\user\j\a\jaltman.&quot;</p>
  <p class=MsoBodyText>&quot;filename:path\file.&quot;</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064197"></a><a name="_Toc152605201"></a><a
name="_Toc115416251"></a><a name="_Toc139993243"></a><a name="_Toc126872320"></a><span
style='mso-bookmark:_Toc190064197'><span style='mso-bookmark:_Toc152605201'><span
style='mso-bookmark:_Toc115416251'>Regkey<span class=GramE>:</span><br>
[HKLM\SOFTWARE\OpenAFS\Client\Realms]</span></span></span></h3>

<p class=MsoBodyText>The Realms key is used to provide initialization data to be
used when new identities are added to the Network Identity Manager.<span
style='mso-spacerun:yes'>  </span>The AFS Provider will search for a subkey
that matches the realm of the identity.<span style='mso-spacerun:yes'> 
</span>If such a key exists, its values will be used to populate the AFS
configuration for the identity.</p>

<h3><a name="_Toc190064198">Regkey</a><span class=GramE><span style='mso-bookmark:
_Toc190064198'>:</span></span><span style='mso-bookmark:_Toc190064198'><br>
[HKLM\SOFTWARE\OpenAFS\Client\Realms\<i style='mso-bidi-font-style:normal'>”Realm
Name”</i>]</span></h3>

<p class=MsoBodyText>In addition to the optional values, this key contains one
subkey for each cell that is to be added to the AFS Provider
configuration.<span style='mso-spacerun:yes'>  </span></p>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:103.7pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:103.7pt'>
  <h5><a name="_Toc190064199"></a><a name="_Toc152605202"></a><a
  name="_Toc115416252"></a><a name="_Toc139993244"></a><a name="_Toc126872321"></a><span
  style='mso-bookmark:_Toc190064199'><span style='mso-bookmark:_Toc152605202'><span
  style='mso-bookmark:_Toc115416252'>Value: </span></span></span><span
  style='mso-bookmark:_Toc190064199'><span style='font-style:normal;mso-bidi-font-style:
  italic'>AFSEnabled</span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: 0x01</p>
  <p class=MsoBodyText>This key is used to specify whether the new identity
  should be configured to obtain AFS credentials.<span
  style='mso-spacerun:yes'>  </span>In general, it is only specified when
  disabling the acquisition of AFS credentials is desired.<span
  style='mso-spacerun:yes'>  </span>The default is to obtain AFS credentials.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc152605203"></a><a name="_Toc190064200"></a><a
name="_Toc139993245"></a><a name="_Toc126872322"></a><a name="_Toc115416253"></a><a
name="_Regkey:_[HKLM\SOFTWARE\OpenAFS\Clie_2"></a><span style='mso-bookmark:
_Toc152605203'><span style='mso-bookmark:_Toc190064200'>Regkey<span
class=GramE>:</span><br>
[HKLM\SOFTWARE\OpenAFS\Client\Realms\<i style='mso-bidi-font-style:normal'>”Realm
Name”</i>\<i style='mso-bidi-font-style:normal'>”Cell Name”</i>]</span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:160.7pt'>
  <td width=594 valign=top style='width:445.2pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:160.7pt'>
  <h5><span style='mso-bookmark:_Toc152605203'><a name="_Toc190064201">Value:</a></span><span
  style='mso-bookmark:_Toc152605203'><span style='mso-bookmark:_Toc190064201'><span
  style='font-style:normal;mso-bidi-font-style:italic'> MethodName</span></span></span><span
  style='mso-bookmark:_Toc152605203'><span style='font-style:normal;mso-bidi-font-style:
  italic'><o:p></o:p></span></span></h5>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>Type: REG_SZ<br>
  Default: &lt;none&gt;</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>This key is
  used to specify the token acquisition method to be used.<span
  style='mso-spacerun:yes'>  </span>When unspecified, the AFS provider will
  automatically try Kerberos v5 and then Kerberos v5 (if available).<span
  style='mso-spacerun:yes'>  </span>As of this writing valid method names
  include “Auto”, “Kerberos5”, “Kerberos524”, <span class=GramE>“</span>Kerberos4”.</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>Note:
  Kerberos524 and Kerberos4 cannot be used with 64-bit Kerberos for Windows.</span></p>
  </td>
  <span style='mso-bookmark:_Toc152605203'></span>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:128.35pt'>
  <td width=594 valign=top style='width:445.2pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:128.35pt'>
  <h5><span style='mso-bookmark:_Toc152605203'><a name="_Toc190064202">Value:</a></span><span
  style='mso-bookmark:_Toc152605203'><span style='mso-bookmark:_Toc190064202'><span
  style='font-style:normal;mso-bidi-font-style:italic'> Realm</span></span></span><span
  style='mso-bookmark:_Toc152605203'><span style='font-style:normal;mso-bidi-font-style:
  italic'><o:p></o:p></span></span></h5>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>Type: REG_SZ<br>
  Default: &lt;none&gt;</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>This key is
  used to specify the realm to be used when acquiring AFS tokens.<span
  style='mso-spacerun:yes'>  </span>If not specified, the realm will be
  determined by performing a domain to realm mapping on the domain of a random
  volume location database server for the cell.</span></p>
  </td>
  <span style='mso-bookmark:_Toc152605203'></span>
 </tr>
</table>

<h3><span style='mso-bookmark:_Toc152605203'><a name="_Toc190064203">Regkey</a><span
class=GramE><span style='mso-bookmark:_Toc190064203'>:</span></span><span
style='mso-bookmark:_Toc190064203'><br>
[HKLM\SOFTWARE\OpenAFS\Client\Submounts]</span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:171.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:171.75pt'>
  <h5><span style='mso-bookmark:_Toc152605203'><a name="_Toc190064204">Value:
  &quot;submount name&quot;</a></span></h5>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>Type:
  REG_EXPAND_SZ<br>
  Default: &lt;none&gt;</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>This key is
  used to store mappings of UNIX style AFS paths to submount names which can be
  referenced as UNC paths.&nbsp; For example the submount string “/athena.mit.edu/user/j/a/jaltman&quot;
  can be associated with the submount name &quot;jaltman.home&quot;.&nbsp; This
  can then be referenced as the UNC path \\AFS\jaltman.home.</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>These values
  used to be stored in afsdsbmt.ini</span></p>
  <p class=MsoBodyText><span style='mso-bookmark:_Toc152605203'>NOTE: Submounts
  should no longer be used with OpenAFS. Use the Windows Explorer to create
  drive mappings to AFS UNC paths instead of using the AFS Submount mechanism.</span></p>
  </td>
  <span style='mso-bookmark:_Toc152605203'></span>
 </tr>
</table>

<h3><span style='mso-bookmark:_Toc152605203'><a name="_Toc190064205">Regkey</a><span
class=GramE><span style='mso-bookmark:_Toc190064205'>:</span></span><span
style='mso-bookmark:_Toc190064205'><br>
[HKLM\SOFTWARE\OpenAFS\Client\Server Preferences\VLDB]</span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:105.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:105.5pt'>
  <h5><a name="_Toc190064206"></a><a name="_Toc152605204"></a><a
  name="_Toc115416254"></a><a name="_Toc139993246"></a><a name="_Toc126872323"></a><span
  style='mso-bookmark:_Toc190064206'><span style='mso-bookmark:_Toc152605204'><span
  style='mso-bookmark:_Toc115416254'>Value: &quot;hostname or ip address&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>This key is used to specify a default set of VLDB server
  preferences. For each entry the value name will be either the IP address of a
  server or a fully qualified domain name.&nbsp; The value will be the
  ranking.&nbsp; The ranking will be adjusted by a random value between 0 and
  256 prior to the preference being set.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064207"></a><a name="_Toc152605205"></a><a
name="_Toc115416255"></a><a name="_Toc139993247"></a><a name="_Toc126872324"></a><span
style='mso-bookmark:_Toc190064207'><span style='mso-bookmark:_Toc152605205'><span
style='mso-bookmark:_Toc115416255'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client\Server Preferences\File]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:105.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:105.5pt'>
  <h5><a name="_Toc190064208"></a><a name="_Toc152605206"></a><a
  name="_Toc115416256"></a><a name="_Toc139993248"></a><a name="_Toc126872325"></a><span
  style='mso-bookmark:_Toc190064208'><span style='mso-bookmark:_Toc152605206'><span
  style='mso-bookmark:_Toc115416256'>Value: &quot;hostname or ip address&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_DWORD<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>This key is used to specify a default set of File server
  preferences. For each entry the value name will be either the IP address of a
  server or a fully qualified domain name.&nbsp; The value will be the
  ranking.&nbsp; The ranking will be adjusted by a random value between 0 and
  256 prior to the preference being set.</p>
  </td>
 </tr>
</table>

<h2><a name="_Toc190064209"></a><a name="_Toc152605207"></a><a
name="_Toc115416257"></a><a name="_Toc139993249"></a><a name="_Toc126872326"></a><a
name="_Toc115417105"></a><span style='mso-bookmark:_Toc190064209'><span
style='mso-bookmark:_Toc152605207'><span style='mso-bookmark:_Toc115416257'>A.2.
Integrated Logon Network provider parameters</span></span></span></h2>

<p class=MsoBodyText>Affects the network provider (afslogon.dll).</p>

<h3><a name="_Toc190064210"></a><a name="_Toc152605208"></a><a
name="_Toc115416258"></a><a name="_Toc139993250"></a><a name="_Toc126872327"></a><span
style='mso-bookmark:_Toc190064210'><span style='mso-bookmark:_Toc152605208'><span
style='mso-bookmark:_Toc115416258'>Regkey:
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064211"></a><a name="_Toc152605209"></a><a
  name="_Toc115416259"></a><a name="_Toc139993251"></a><a name="_Toc126872328"></a><span
  style='mso-bookmark:_Toc190064211'><span style='mso-bookmark:_Toc152605209'><span
  style='mso-bookmark:_Toc115416259'>Value: FailLoginsSilently</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 0</p>
  <p class=MsoBodyText>Do not display message boxes if the login fails.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064212"></a><a name="_Toc152605210"></a><a
name="_Toc115416260"></a><a name="_Toc139993252"></a><a name="_Toc126872329"></a><span
style='mso-bookmark:_Toc190064212'><span style='mso-bookmark:_Toc152605210'><span
style='mso-bookmark:_Toc115416260'>Regkey:<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064213"></a><a name="_Toc152605211"></a><a
  name="_Toc115416261"></a><a name="_Toc139993253"></a><a name="_Toc126872330"></a><span
  style='mso-bookmark:_Toc190064213'><span style='mso-bookmark:_Toc152605211'><span
  style='mso-bookmark:_Toc115416261'>Value: NoWarnings</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 0</p>
  <p class=MsoBodyText>Disables visible warnings during logon.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064214"></a><a name="_Toc152605212"></a><a
  name="_Toc115416262"></a><a name="_Toc139993254"></a><a name="_Toc126872331"></a><span
  style='mso-bookmark:_Toc190064214'><span style='mso-bookmark:_Toc152605212'><span
  style='mso-bookmark:_Toc115416262'>Value: AuthentProviderPath</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  NSIS: %WINDIR%\SYSTEM32\afslogon.dll</p>
  <p class=MsoBodyText>Specifies the install location of the authentication
  provider dll.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064215"></a><a name="_Toc152605213"></a><a
  name="_Toc115416263"></a><a name="_Toc139993255"></a><a name="_Toc126872332"></a><span
  style='mso-bookmark:_Toc190064215'><span style='mso-bookmark:_Toc152605213'><span
  style='mso-bookmark:_Toc115416263'>Value: Class</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  NSIS: 0x02</p>
  <p class=MsoBodyText>Specifies the class of network provider</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064216"></a><a name="_Toc152605214"></a><a
  name="_Toc115416264"></a><a name="_Toc139993256"></a><a name="_Toc126872333"></a><span
  style='mso-bookmark:_Toc190064216'><span style='mso-bookmark:_Toc152605214'><span
  style='mso-bookmark:_Toc115416264'>Value: DependOnGroup</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_MULTI_SZ<br>
  NSIS: PNP_TDI</p>
  <p class=MsoBodyText>Specifies the service groups upon which the AFS Client
  Service depends.&nbsp; Windows should not attempt to start the AFS Client
  Service until all of the services within these groups have successfully
  started.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064217"></a><a name="_Toc152605215"></a><a
  name="_Toc115416265"></a><a name="_Toc139993257"></a><a name="_Toc126872334"></a><span
  style='mso-bookmark:_Toc190064217'><span style='mso-bookmark:_Toc152605215'><span
  style='mso-bookmark:_Toc115416265'>Value: DependOnService</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_MULTI_SZ<br>
  NSIS: Tcpip NETBIOS RpcSs</p>
  <p class=MsoBodyText>Specifies a list of services upon which the AFS Client
  Service depends.&nbsp; Windows should not attempt to start the AFS Client
  Service until all of the specified services have successfully started.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064218"></a><a name="_Toc152605216"></a><a
  name="_Toc115416266"></a><a name="_Toc139993258"></a><a name="_Toc126872335"></a><span
  style='mso-bookmark:_Toc190064218'><span style='mso-bookmark:_Toc152605216'><span
  style='mso-bookmark:_Toc115416266'>Value: Name</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  NSIS: &quot;OpenAFSDaemon&quot;</p>
  <p class=MsoBodyText>Specifies the display name of the AFS Client Service</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes;height:65.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:65.75pt'>
  <h5><a name="_Toc190064219"></a><a name="_Toc152605217"></a><a
  name="_Toc115416267"></a><a name="_Toc139993259"></a><a name="_Toc126872336"></a><span
  style='mso-bookmark:_Toc190064219'><span style='mso-bookmark:_Toc152605217'><span
  style='mso-bookmark:_Toc115416267'>Value: ProviderPath</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  NSIS: %WINDIR%\SYSTEM32\afslogon.dll</p>
  <p class=MsoBodyText>Specifies the DLL to use for the network provider</p>
  </td>
 </tr>
</table>

<h2><a name="_Toc190064220"></a><a name="_Toc152605218"></a><a
name="_Toc139993260"></a><a name="_Toc126872337"></a><a name="_Toc115417106"></a><a
name="_Toc115416268"></a><a name="_A.2.1_Domain_specific_configuration"></a><span
style='mso-bookmark:_Toc190064220'><span style='mso-bookmark:_Toc152605218'>A.2.1
Domain specific configuration keys for the Network Provider</span></span></h2>

<p class=MsoBodyText>The network provider can be configured to have different
behavior depending on the domain that the user logs into.&nbsp; These settings
are only relevant when using integrated login.&nbsp; A domain refers to an
Active Directory (AD) domain, a trusted Kerberos (non-AD) realm or the local
machine (i.e. local account logins).&nbsp; The domain name that is used for
selecting the domain would be the domain that is passed into the NPLogonNotify
function of the network provider.</p>

<p class=MsoBodyText>Domain specific registry keys are:</p>

<h3><a name="_Toc190064221"></a><a name="_Toc152605219"></a><a
name="_Toc115416269"></a><a name="_Toc139993261"></a><a name="_Toc126872338"></a><span
style='mso-bookmark:_Toc190064221'><span style='mso-bookmark:_Toc152605219'><span
style='mso-bookmark:_Toc115416269'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider]</span></span></span></h3>

<p class=MsoBodyText>&nbsp; (NP key)</p>

<h3><a name="_Toc190064222"></a><a name="_Toc152605220"></a><a
name="_Toc115416270"></a><a name="_Toc139993262"></a><a name="_Toc126872339"></a><span
style='mso-bookmark:_Toc190064222'><span style='mso-bookmark:_Toc152605220'><span
style='mso-bookmark:_Toc115416270'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain]</span></span></span></h3>

<p class=MsoBodyText>&nbsp; (Domains key)</p>

<h3><a name="_Toc190064223"></a><a name="_Toc152605221"></a><a
name="_Toc115416271"></a><a name="_Toc139993263"></a><a name="_Toc126872340"></a><span
style='mso-bookmark:_Toc190064223'><span style='mso-bookmark:_Toc152605221'><span
style='mso-bookmark:_Toc115416271'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\&quot;domain
name&quot;]</span></span></span></h3>

<p class=MsoBodyText>&nbsp; (Specific domain key. One per domain.)</p>

<h3><a name="_Toc190064224"></a><a name="_Toc152605222"></a><a
name="_Toc115416272"></a><a name="_Toc139993264"></a><a name="_Toc126872341"></a><span
style='mso-bookmark:_Toc190064224'><span style='mso-bookmark:_Toc152605222'><span
style='mso-bookmark:_Toc115416272'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\LOCALHOST]</span></span></span></h3>

<p class=MsoBodyText>&nbsp; (Localhost key)</p>

<h3><a name="_Toc190064225"></a><a name="_Toc152605223"></a><a
name="_Toc115416273"></a><a name="_Toc139993265"></a><a name="_Toc126872342"></a><span
style='mso-bookmark:_Toc190064225'><span style='mso-bookmark:_Toc152605223'><span
style='mso-bookmark:_Toc115416273'>Example:</span></span></span></h3>

<p class=preformattedtext>&nbsp;HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider</p>

<p class=preformattedtext>&nbsp; |</p>

<p class=preformattedtext>&nbsp; +- Domain</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; +-AD1.EXAMPLE.COM</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; +-AD2.EXAMPLE.NET</p>

<p class=preformattedtext>&nbsp;&nbsp;&nbsp;&nbsp; +-LOCALHOST</p>

<p class=MsoBodyText>Each of the domain specific keys can have the set of
values described in 2.1.1.&nbsp; The effective values are chosen as described
in 2.1.2.</p>

<h3><a name="_Toc190064226"></a><a name="_Toc152605224"></a><a
name="_Toc115416274"></a><a name="_Toc139993266"></a><a name="_Toc126872343"></a><span
style='mso-bookmark:_Toc190064226'><span style='mso-bookmark:_Toc152605224'><span
style='mso-bookmark:_Toc115416274'>A.2.1.1 Domain specific configuration values</span></span></span></h3>

<h4><a name="_Toc190064227"></a><a name="_Toc152605225"></a><a
name="_Toc115416275"></a><a name="_Toc139993267"></a><a name="_Toc126872344"></a><span
style='mso-bookmark:_Toc190064227'><span style='mso-bookmark:_Toc152605225'><span
style='mso-bookmark:_Toc115416275'>[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider]<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain]<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\&quot;domain
name&quot;]<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider\Domain\LOCALHOST]</span></span></span></h4>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:191.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:191.0pt'>
  <h5><a name="_Toc190064228"></a><a name="_Toc152605226"></a><a
  name="_Toc139993268"></a><a name="_Toc126872345"></a><a name="_Toc115416276"></a><a
  name="_Value___:_LogonOptions"></a><span style='mso-bookmark:_Toc190064228'><span
  style='mso-bookmark:_Toc152605226'>Value: LogonOptions</span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 0x01</p>
  <p class=MsoBodyText>NSIS/WiX: depends on user configuration</p>
  <p class=MsoBodyText>0x00 - Integrated Logon is not used<br>
  0x01 - Integrated Logon is used<br>
  0x02 - High Security Mode is used (deprecated)<br>
  0x03 - Integrated Logon with High Security Mode is used (deprecated)</p>
  <p class=MsoBodyText>High Security Mode generates random SMB names for the
  creation of Drive Mappings.&nbsp; This mode should not be used without
  Integrated Logon.</p>
  <p class=MsoBodyText>As of 1.3.65 the SMB server supports SMB
  authentication.&nbsp; The High Security Mode should not be used when using
  SMB authentication (SMBAuthType setting is non zero).</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064229"></a><a name="_Toc152605227"></a><a
  name="_Toc115416277"></a><a name="_Toc139993269"></a><a name="_Toc126872346"></a><span
  style='mso-bookmark:_Toc190064229'><span style='mso-bookmark:_Toc152605227'><span
  style='mso-bookmark:_Toc115416277'>Value: FailLoginsSilentl</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD (1|0)<br>
  Default: 0<br>
  NSIS/WiX: (not set)</p>
  <p class=MsoBodyText>If true, does not display any visible warnings in the
  event of an error during the integrated login process.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:139.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:139.0pt'>
  <h5><a name="_Toc190064230"></a><a name="_Toc152605228"></a><a
  name="_Toc115416278"></a><a name="_Toc139993270"></a><a name="_Toc126872347"></a><span
  style='mso-bookmark:_Toc190064230'><span style='mso-bookmark:_Toc152605228'><span
  style='mso-bookmark:_Toc115416278'>Value: LogonScript</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ or REG_EXPAND_SZ<br>
  Default: (null)<br>
  NSIS/WiX: (only value under NP key) &lt;install path&gt;\afscreds.exe -:%s -x
  -a -m -n -q</p>
  <p class=MsoBodyText>A logon script that will be scheduled to be run after
  the profile load is complete.&nbsp; If using the REG_EXPAND_SZ type, you can
  use any system environment variable as &quot;%varname%&quot; which would be
  expanded at the time the network provider is run.&nbsp; Optionally using a
  &quot;%s&quot; in the value would result in it being expanded into the AFS
  SMB username for the session.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:105.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:105.5pt'>
  <h5><a name="_Toc190064231"></a><a name="_Toc152605229"></a><a
  name="_Toc115416279"></a><a name="_Toc139993271"></a><a name="_Toc126872348"></a><span
  style='mso-bookmark:_Toc190064231'><span style='mso-bookmark:_Toc152605229'><span
  style='mso-bookmark:_Toc115416279'>Value: LoginRetryInterval</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 30<br>
  NSIS/WiX: (not set)</p>
  <p class=MsoBodyText>If the OpenAFS client service has not started yet, the
  network provider will wait for a maximum of &quot;LoginRetryInterval&quot;
  seconds while retrying every &quot;LoginSleepInterval&quot; seconds to check
  if the service is up.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:79.25pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:79.25pt'>
  <h5><a name="_Toc190064232"></a><a name="_Toc152605230"></a><a
  name="_Toc115416280"></a><a name="_Toc139993272"></a><a name="_Toc126872349"></a><span
  style='mso-bookmark:_Toc190064232'><span style='mso-bookmark:_Toc152605230'><span
  style='mso-bookmark:_Toc115416280'>Value: LoginSleepInterval</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD<br>
  Default: 5<br>
  NSIS/WiX: (not set)</p>
  <p class=MsoBodyText>See description of LoginRetryInterval.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064233"></a><a name="_Value:_Realm"></a><span
  style='mso-bookmark:_Toc190064233'>Value: Realm</span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  NSIS: &lt;not set&gt;</p>
  <p class=MsoBodyText>When Kerberos v5 is being used, Realm specifies the
  Kerberos v5 realm that should be appended to the first component of the
  Domain logon username to construct the Kerberos v5 principal for which AFS
  tokens should be obtained.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes;height:78.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:78.5pt'>
  <h5><a name="_Toc190064234"></a><a name="_Toc152605231"></a><a
  name="_Toc139993273"></a><a name="_Toc126872350"></a><a name="_Toc115416281"></a><a
  name="_Value:_TheseCells"></a><span style='mso-bookmark:_Toc190064234'><span
  style='mso-bookmark:_Toc152605231'>Value: TheseCells</span></span></h5>
  <p class=MsoBodyText>Type: REG_MULTI_SZ<br>
  NSIS: &lt;not set&gt;</p>
  <p class=MsoBodyText>When Kerberos v5 is being used, TheseCells provides a
  list of additional cells for which tokens should be obtained with the default
  Kerberos v5 principal.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064235"></a><a name="_Toc152605232"></a><a
name="_Toc115416282"></a><a name="_Toc139993274"></a><a name="_Toc126872351"></a><span
style='mso-bookmark:_Toc190064235'><span style='mso-bookmark:_Toc152605232'><span
style='mso-bookmark:_Toc115416282'>A.2.1.2 Selection of effective values for
domain specific configuration</span></span></span></h3>

<p class=MsoBodyText>During login to domain X, where X is the domain passed
into NPLogonNotify as lpAuthentInfo-&gt;LogonDomainName or the string
'LOCALHOST' if lpAuthentInfo-&gt;LogonDomainName equals the name of the
computer, the following keys will be looked up.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>NP key.
(&quot;HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\NetworkProvider&quot;)</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Domains key. (NP key\&quot;Domain&quot;)</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font-size:7.0pt;font-family:"Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Specific domain key. (Domains key\X)</p>

<p class=MsoBodyText>If the specific domain key does not exist, then the
domains key will be ignored.&nbsp; All the configuration information in this
case will come from the NP key.</p>

<p class=MsoBodyText>If the specific domain key exists, then for each of the
values metioned in (2), they will be looked up in the specific domain key,
domains key and the NP key successively until the value is found. The first
instance of the value found this way will be the effective for the login
session.&nbsp; If no such instance can be found, the default will be used.&nbsp;
To re-iterate, a value in a more specific key supercedes a value in a less
specific key.&nbsp; The exceptions to this rule are stated below.</p>

<h3><a name="_Toc190064236"></a><a name="_Toc152605233"></a><a
name="_Toc115416283"></a><a name="_Toc139993275"></a><a name="_Toc126872352"></a><span
style='mso-bookmark:_Toc190064236'><span style='mso-bookmark:_Toc152605233'><span
style='mso-bookmark:_Toc115416283'>A.2.1.3 Exceptions to A.2.1.2</span></span></span></h3>

<p class=MsoBodyText>To retain backwards compatibility, the following
exceptions are made to 2.1.2.</p>

<h4><a name="_Toc190064237"></a><a name="_Toc152605234"></a><a
name="_Toc115416284"></a><a name="_Toc139993276"></a><a name="_Toc126872353"></a><span
style='mso-bookmark:_Toc190064237'><span style='mso-bookmark:_Toc152605234'><span
style='mso-bookmark:_Toc115416284'>2.1.3.1 'FailLoginsSilently'</span></span></span></h4>

<p class=MsoBodyText>Historically, the 'FailLoginsSilently' value was in
HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters key and not
in the NP key.&nbsp; Therefore, for backwards compatibility, the value in the
Parameters key will supercede all instances of this value in other keys.&nbsp;
In the absence of this value in the Parameters key, normal scope rules apply.</p>

<h4><a name="_Toc190064238"></a><a name="_Toc152605235"></a><a
name="_Toc115416285"></a><a name="_Toc139993277"></a><a name="_Toc126872354"></a><span
style='mso-bookmark:_Toc190064238'><span style='mso-bookmark:_Toc152605235'><span
style='mso-bookmark:_Toc115416285'>2.1.3.2 'LogonScript'</span></span></span></h4>

<p class=MsoBodyText>If a 'LogonScript' is not specified in the specific domain
key nor in the domains key, the value in the NP key will only be checked if the
effective 'LogonOptions' specify a high security integrated login.&nbsp; If a
logon script is specified in the specific domain key or the domains key, it
will be used regardless of the high security setting.&nbsp; Please be aware of
this when setting this value.</p>

<h2><a name="_Toc190064239"></a><a name="_Toc152605236"></a><a
name="_Toc115416286"></a><a name="_Toc139993278"></a><a name="_Toc126872355"></a><a
name="_Toc115417107"></a><span style='mso-bookmark:_Toc190064239'><span
style='mso-bookmark:_Toc152605236'><span style='mso-bookmark:_Toc115416286'>A.3.
AFS Credentials System Tray Tool parameters</span></span></span></h2>

<p class=MsoBodyText>Affects the behavior of afscreds.exe</p>

<h3><a name="_Toc190064240"></a><a name="_Toc152605237"></a><a
name="_Toc115416287"></a><a name="_Toc139993279"></a><a name="_Toc126872356"></a><span
style='mso-bookmark:_Toc190064240'><span style='mso-bookmark:_Toc152605237'><span
style='mso-bookmark:_Toc115416287'>Regkey:<br>
[HKLM\SYSTEM\CurrentControlSet\Services\TransarcAFSDaemon\Parameters]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064241"></a><a name="_Toc152605238"></a><a
  name="_Toc115416288"></a><a name="_Toc139993280"></a><a name="_Toc126872357"></a><span
  style='mso-bookmark:_Toc190064241'><span style='mso-bookmark:_Toc152605238'><span
  style='mso-bookmark:_Toc115416288'>Value: Gateway</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &quot;&quot;<br>
  Function: GetGatewayName()</p>
  <p class=MsoBodyText>If the AFS client is utilizing a gateway to obtain AFS
  access, the name of the gateway is specified by this value.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes;height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064242"></a><a name="_Toc152605239"></a><a
  name="_Toc115416289"></a><a name="_Toc139993281"></a><a name="_Toc126872358"></a><span
  style='mso-bookmark:_Toc190064242'><span style='mso-bookmark:_Toc152605239'><span
  style='mso-bookmark:_Toc115416289'>Value: Cell</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;<br>
  Variable: IsServiceConfigured()</p>
  <p class=MsoBodyText>The value Cell is used to determine if the AFS Client Service
  has been properly configured or not.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064243"></a><a name="_Toc152605240"></a><a
name="_Toc115416290"></a><a name="_Toc139993282"></a><a name="_Toc126872359"></a><span
style='mso-bookmark:_Toc190064243'><span style='mso-bookmark:_Toc152605240'><span
style='mso-bookmark:_Toc115416290'>Regkey:<br>
[HKLM\SOFTWARE\OpenAFS\Client]<br>
[HKCU\SOFTWARE\OpenAFS\Client]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:157.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:157.5pt'>
  <h5><a name="_Toc190064244"></a><a name="_Toc152605241"></a><a
  name="_Toc115416291"></a><a name="_Toc139993283"></a><a name="_Toc126872360"></a><span
  style='mso-bookmark:_Toc190064244'><span style='mso-bookmark:_Toc152605241'><span
  style='mso-bookmark:_Toc115416291'>Value: ShowTrayIcon</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 1<br>
  Function: InitApp(), Main_OnCheckTerminate()</p>
  <p class=MsoBodyText>This value is used to determine whether or not a
  shortcut should be maintained in the user's Start
  Menu-&gt;Programs-&gt;Startup folder. </p>
  <p class=MsoBodyText>This value used to be stored at
  [HKLM\Software\TransarcCorporation\AFS Client\AfsCreds].</p>
  <p class=MsoBodyText>The current user value is checked first; if it does not exist
  the local machine value is checked.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:119.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:119.0pt'>
  <h5><a name="_Toc190064245"></a><a name="_Toc152605242"></a><a
  name="_Toc115416292"></a><a name="_Value:_EnableKFW"></a><a name=EnableKFW></a><a
  name="_Toc139993284"></a><a name="_Toc126872361"></a><span style='mso-bookmark:
  _Toc190064245'><span style='mso-bookmark:_Toc152605242'><span
  style='mso-bookmark:_Toc115416292'>Value: EnableKFW</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 1<br>
  Function: KFW_is_available()</p>
  <p class=MsoBodyText>When MIT Kerberos for Windows can be loaded, Kerberos v5
  will be used to obtain AFS credentials.&nbsp; By setting this value to 0, the
  internal Kerberos v4 implementation will be used instead.&nbsp; The current
  user value is checked first; if it does not exist the local machine value is
  checked.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:119.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:119.0pt'>
  <h5><a name="_Toc190064246">Value: AcceptDottedPrincipalNames</a></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 1<br>
  Function: KFW_accept_dotted_usernames()</p>
  <p class=MsoBodyText>Kerberos v5 principal names are traditionally mapped to
  Kerberos v4 names by the AFS servers before they can be looked up in the
  Protection database.&nbsp; The mapping algorithm used permits collisions to
  occur.&nbsp; Both of the Kerberos v5 names, &quot;<a
  href="mailto:user.admin@REALM">user.admin@REALM</a>&quot; and &quot;<a
  href="mailto:user/admin@REALM">user/admin@REALM</a>&quot; are interpreted as
  the same user identity within the cell.&nbsp; To enable both names to be sent
  to the server by AFSCreds or Integrated Logon, set this value to 1.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:119.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:119.0pt'>
  <h5><a name="_Toc190064247"></a><a name="_Value:_Use524"></a><a name=Use524></a><a
  name="_Toc139993285"></a><a name="_Toc126872362"></a><a
  name="_Value___:_Use524"></a><span style='mso-bookmark:_Toc190064247'>Value:
  Use524</span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: 0<br>
  Function: KFW_use_krb524()</p>
  <p class=MsoBodyText>When MIT Kerberos for Windows can be loaded, Kerberos v5
  will be used to obtain AFS credentials.&nbsp; By setting this value to 1, the
  Kerberos v5 tickets will be converted to Kerberos v4 tokens via a call to the
  krb524 daemon.&nbsp; The current user value is checked first; if it does not
  exist the local machine value is checked.</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes;height:251.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:251.5pt'>
  <h5><a name="_Toc190064248"></a><a name="_Toc152605244"></a><a
  name="_Toc139993286"></a><a name="_Toc126872363"></a><a name="_Toc115416294"></a><a
  name="_Value___:_AfscredsShortcutParams"></a><span style='mso-bookmark:_Toc190064248'><span
  style='mso-bookmark:_Toc152605244'>Value: AfscredsShortcutParams</span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &quot;-A -M -N -Q&quot;<br>
  Function: Shortcut_FixStartup</p>
  <p class=MsoBodyText>This value specifies the command line options which
  should be set as part of the shortcut to afscreds.exe.&nbsp; afscreds.exe
  rewrites the shortcut each time it exits so as to ensure that the shortcut
  points to the latest version of the program.&nbsp; This value is used to
  determine which values should be used for command line parameters.&nbsp; The
  current user value is checked first; if it does not exist the local machine
  value is checked.</p>
  <p class=MsoBodyText>The following subset of the command line options is
  appropriate for use in this registry setting:</p>
  <p class=MsoBodyText>-A = autoinit<br>
  -M = renew drive maps<br>
  -N = ip address change detection<br>
  -Q = quiet mode.&nbsp; do not display start service dialog if afsd_service is
  not already running<br>
  -S = show tokens dialog on startup<br>
  -Z = unmap drives</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064249"></a><a name="_Toc152605245"></a><a
name="_Toc115416295"></a><a name="_Toc139993287"></a><a name="_Toc126872364"></a><span
style='mso-bookmark:_Toc190064249'><span style='mso-bookmark:_Toc152605245'><span
style='mso-bookmark:_Toc115416295'>Regkey:<br>
[HKCU\SOFTWARE\OpenAFS\Client]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:92.0pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:92.0pt'>
  <h5><a name="_Toc190064250"></a><a name="_Toc152605246"></a><a
  name="_Toc115416296"></a><a name="_Toc139993288"></a><a name="_Toc126872365"></a><span
  style='mso-bookmark:_Toc190064250'><span style='mso-bookmark:_Toc152605246'><span
  style='mso-bookmark:_Toc115416296'>Value: Authentication Cell</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;<br>
  Function: Afscreds.exe GetDefaultCell()</p>
  <p class=MsoBodyText>This value allows the user to configure a different cell
  name to be used as the default cell when acquiring tokens in afscreds.exe.</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064251"></a><a name="_Toc152605247"></a><a
name="_Toc115416297"></a><a name="_Toc139993289"></a><a name="_Toc126872366"></a><span
style='mso-bookmark:_Toc190064251'><span style='mso-bookmark:_Toc152605247'><span
style='mso-bookmark:_Toc115416297'>Regkey:<br>
[HKCU\SOFTWARE\OpenAFS\Client\Reminders]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:124.75pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:124.75pt'>
  <h5><a name="_Toc190064252"></a><a name="_Toc152605248"></a><a
  name="_Toc115416298"></a><a name="_Toc139993290"></a><a name="_Toc126872367"></a><span
  style='mso-bookmark:_Toc190064252'><span style='mso-bookmark:_Toc152605248'><span
  style='mso-bookmark:_Toc115416298'>Value: &quot;afs cell name&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: &lt;none&gt;<br>
  Function: LoadRemind(), SaveRemind()</p>
  <p class=MsoBodyText>These values are used to save and restore the state of the
  reminder flag for each cell for which the user has obtained tokens.</p>
  <p class=MsoBodyText>This value used to be stored at
  [HKLM\Software\TransarcCorporation\AFS Client\AfsCreds].</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064253"></a><a name="_Toc152605249"></a><a
name="_Toc115416299"></a><a name="_Toc139993291"></a><a name="_Toc126872368"></a><span
style='mso-bookmark:_Toc190064253'><span style='mso-bookmark:_Toc152605249'><span
style='mso-bookmark:_Toc115416299'>Regkey:<br>
[HKCU\SOFTWARE\OpenAFS\Client\Active Maps]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:98.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:98.5pt'>
  <h5><a name="_Toc190064254"></a><a name="_Toc152605250"></a><a
  name="_Toc115416300"></a><a name="_Toc139993292"></a><a name="_Toc126872369"></a><span
  style='mso-bookmark:_Toc190064254'><span style='mso-bookmark:_Toc152605250'><span
  style='mso-bookmark:_Toc115416300'>Value: &quot;upper case drive letter&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: DWORD {0, 1}<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>These values are used to store the persistence state of
  the AFS drive mappings as listed in the [...\Client\Mappings] key.</p>
  <p class=MsoBodyText>These values used to be stored in the afsdsbmt.ini file</p>
  </td>
 </tr>
</table>

<h3><a name="_Toc190064255"></a><a name="_Toc152605251"></a><a
name="_Toc115416301"></a><a name="_Toc139993293"></a><a name="_Toc126872370"></a><span
style='mso-bookmark:_Toc190064255'><span style='mso-bookmark:_Toc152605251'><span
style='mso-bookmark:_Toc115416301'>Regkey:<br>
[HKCU\SOFTWARE\OpenAFS\Client\Mappings]</span></span></span></h3>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:98.5pt'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt;
  height:98.5pt'>
  <h5><a name="_Toc190064256"></a><a name="_Toc152605252"></a><a
  name="_Toc115416302"></a><a name="_Toc139993294"></a><a name="_Toc126872371"></a><span
  style='mso-bookmark:_Toc190064256'><span style='mso-bookmark:_Toc152605252'><span
  style='mso-bookmark:_Toc115416302'>Value: &quot;upper case drive letter&quot;</span></span></span></h5>
  <p class=MsoBodyText>Type: REG_SZ<br>
  Default: &lt;none&gt;</p>
  <p class=MsoBodyText>These values are used to store the AFS path in UNIX
  notation to which the drive letter is to be mapped.</p>
  <p class=MsoBodyText>These values used to be stored in the afsdsbmt.ini file.</p>
  </td>
 </tr>
</table>

<h2><a name="_Toc190064257"></a><a name="_Toc152605253"></a><a
name="_Toc115416303"></a><a name="_Toc139993295"></a><a name="_Toc126872372"></a><a
name="_Toc115417108"></a><span style='mso-bookmark:_Toc190064257'><span
style='mso-bookmark:_Toc152605253'><span style='mso-bookmark:_Toc115416303'><span
lang=FR style='mso-ansi-language:FR'>A.4 OpenAFS Client Service Environment
Variables</span></span></span></span><span lang=FR style='mso-ansi-language:
FR'><o:p></o:p></span></h2>

<table class=MsoNormalTable border=1 cellspacing=3 cellpadding=0
 style='mso-cellspacing:2.2pt;mso-padding-alt:0pt 0pt 0pt 0pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h5><a name="_Toc190064258"></a><a name="_Toc152605254"></a><a
  name="_Toc115416304"></a><a name="_Toc139993296"></a><a name="_Toc126872373"></a><span
  style='mso-bookmark:_Toc190064258'><span style='mso-bookmark:_Toc152605254'><span
  style='mso-bookmark:_Toc115416304'>Variable: AFS_RPC_ENCRYPT</span></span></span></h5>
  <p class=MsoBodyText>Values:&nbsp;&nbsp; &quot;OFF&quot; disables the use of
  RPC encryption any other value allows RPC encryption to be used<br>
  Default:&nbsp; RPC encryption is on</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=590 valign=top style='width:442.8pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <h5><a name="_Toc190064259"></a><a name="_Toc152605255"></a><a
  name="_Toc115416305"></a><a name="_Toc139993297"></a><a name="_Toc126872374"></a><span
  style='mso-bookmark:_Toc190064259'><span style='mso-bookmark:_Toc152605255'><span
  style='mso-bookmark:_Toc115416305'>Variable: AFS_RPC_PROTSEQ</span></span></span></h5>
  <p class=MsoBodyText>Values:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &quot;ncalrpc&quot;&nbsp; - local RPC<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &quot;ncacn_np&quot; - named pipes<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &quot;ncacn_ip_tcp&quot; - tcp/ip<br>
  Default:&nbsp; local RPC</p>
  </td>
 </tr>
</table>

<p class=MsoBodyText>&nbsp;</p>

</div>

</body>

</html>
