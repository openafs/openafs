<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理の手引き</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- E:\IDWB\TEMP\idwt2118\AUAGD000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 12:07:32            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 12:07:30">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 12:07:30">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 12:07:30">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理の手引き</H1>
<P>
<A NAME="IDX7731"></A>
<HR><H1><A NAME="HDRWQ663" HREF="auagd002.htm#ToC_572">ユーザー・アカウントの管理</A></H1>
<P>この章では、ユーザーのセル内でユーザー・アカウントを作成し、保守する方法を説明します。
<P>ユーザー・アカウントを作成する最適なメソッドは、<B> uss</B> プログラムを使用することです。このプログラムは、単一コマンドで複数のアカウントを作成できます。<A HREF="auagd017.htm#HDRWQ602">uss コマンド組によるユーザー・アカウントの作成と削除</A> を参照してください。各アカウントのコンポーネントを個別に作成したい場合は、
<A HREF="#HDRWQ693">AFS ユーザー・アカウントの作成</A>の説明に従ってください。
<HR><H2><A NAME="HDRWQ664" HREF="auagd002.htm#ToC_573">手順の概要</A></H2>
<P>この章では、指示されたコマンドを使って以下のタスクを実行する手順について説明します。
<BR>
<TABLE WIDTH="100%">
<TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">保護データベース項目の作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>pts createuser</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">認証データベース項目の作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas create</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ボリュームの作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>vos create</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ボリュームの取り付け
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>fs mkmount</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ACL 上に項目を作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>fs setacl</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">保護データベース項目の検査
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>pts examine</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ディレクトリー所有権の変更
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>/etc/chown</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">認証の試みの失敗を制限
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas setfields</B>、
<B>-attempts</B> および <B>-locktime</B> 併用
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">認証データベース項のロック解除
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas unlock</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">パスワードの存続時間の設定
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas setfields</B>、
<B>-pwexpires</B> を併用
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">パスワード再利用の禁止
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas setfields</B>、
<B>-reuse</B> を併用
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">AFS パスワードの変更
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas setpassword</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ユーザー所有のグループのリスト作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>pts listowned</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">保護データベース項目の名前変更
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>pts rename</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">認証データベース項目の削除
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>kas delete</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ボリュームの名前変更
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>vos rename</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">マウント・ポイントの取り外し
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>fs rmmount</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">保護データベース項目の削除
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>pts delete</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ボリューム・ロケーションのリスト作成
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>vos listvldb</B>
</TD></TR><TR>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH="57%">ボリュームの取り外し
</TD><TD ALIGN="LEFT" VALIGN="TOP" WIDTH="43%"><B>vos remove</B>
</TD></TR></TABLE>
<P>
<A NAME="IDX7732"></A>
<HR><H2><A NAME="HDRWQ685" HREF="auagd002.htm#ToC_574">AFS ユーザー・アカウントのコンポーネント</A></H2>
<P>AFS ファイル・システムと UNIX ファイル・システムは異なるので、完全な AFS ユーザー・アカウントは、UNIX ユーザー・アカウントと同じではありません。以下のリストでは、AFS ユーザー・アカウントのコンポーネントについて説明します。これと同じ情報が<A HREF="auagd017.htm#HDRWQ602">uss コマンド組によるユーザー・アカウントの作成と削除</A>の対応する機能グループにもありますが、便利なようにここでも繰り返し説明します。
<UL>
<LI>ユーザー名 (AFS により認証されるときに使用する名前) を定義し、その名前を、AFS サーバーがユーザーを参照するときに内部的に使用する番号であるユーザーの AFS ユーザー ID (AFS UID) にマップする
<I>保護データベース項目</I>。また、保護データベースは、ユーザーが所属するグループも追跡します。詳細については、<A HREF="auagd019.htm#HDRWQ722">保護データベースの管理</A> を参照してください。
</LI><LI>暗号キーとして使用するのに適したスクランブル形式でユーザーの AFS パスワードをレコードする、
<I>認証データベース項目</I>。
</LI><LI>ユーザーのホーム・ディレクトリー内のすべてのファイルを、ファイル・サーバー・マシンの単一パーティション上にまとめて保管するホーム・<I>ボリューム</I>。ボリュームには、そのサイズを制限する関連した<VAR>割り当て</VAR>があります。ボリュームについての詳細は、<A HREF="auagd010.htm#HDRWQ229">ボリュームの管理</A> を参照してください。
</LI><LI>ユーザーのボリュームのコンテンツを AFS ファイル・スペース内で可視およびアクセス可能にし、ユーザーのホーム・ディレクトリーの役割を果たす<I>マウント・ポイント</I>。マウント・ポイントについての詳細は、<A HREF="auagd010.htm#HDRWQ269">ボリュームの取り付けについて</A> を参照してください。
</LI><LI>ユーザーのファイル管理を可能にする、ホーム・ディレクトリーの<I>アクセス制御リスト (ACL)</I>
およびディレクトリーの所有権 (UNIX の <B>ls -ld</B> コマンドによって表示されるように)。
AFS ファイル保護についての詳細は、
<A HREF="auagd020.htm#HDRWQ773">アクセス制御リスト (ACL) の管理</A>を参照してください。
</LI><LI>ユーザーの、キャッシュを介した AFS ファイルにログインおよびアクセスを可能にする、各クライアント・マシンの<I>ローカル・パスワード・ファイル項目</I> (<B>/etc/passwd</B> ファイルまたは同等のファイルにある)。この章の後のセクションでは、ローカル・パスワード・ファイルの項目について、さらに詳しく説明します。
</LI><LI>アカウントの使用をより容易にする、ほかの<I>構成ファイル</I>。たとえば、ユーザーのログインとログアウトをもっと容易にしたり、電子メールの受信やプリントに役立つファイルなど。
</LI></UL>
<A NAME="IDX7733"></A>
<A NAME="IDX7734"></A>
<HR><H2><A NAME="HDRWQ686" HREF="auagd002.htm#ToC_575">ローカル・パスワード・ファイル項目の作成</A></H2>
<P>セルの AFS のファイル・スペースへの認証済みアクセスを入手するには、ユーザーは、有効な AFS トークンを持っているだけではなく、キャッシュ・マネージャーがユーザーを提示しているマシンのローカル・パスワード・ファイル (<B>/etc/passwd</B> または同等のファイル) に項目を持っていなければなりません。この機能グループでは、ユーザーの AFS UID と、ローカル・パスワード・ファイルにリストされる UNIX UID を一致させることが重要である理由、およびファイルのパスワード・フィールドに指定するのに適切な値について説明します。
<P><B>uss</B> 命令を使用する理由の 1 つは、このコマンドが、ローカル・パスワード・ファイル項目をアカウント作成の一部として自動的に生成できるからです。<A HREF="auagd017.htm#HDRWQ613">共通送信元パスワード・ファイルの作成</A> を参照してください。
<P>これと同じ情報は、<A HREF="auagd017.htm#HDRWQ602">uss コマンド組によるユーザー・アカウントの作成と削除</A>の対応する機能グループにもありますが、便利なようにここでも繰り返し説明します。
<P><H3><A NAME="HDRWQ687" HREF="auagd002.htm#ToC_576">一致する AFS と UNIX UID の割り当て</A></H3>
<P>AFS ユーザー ID 番号 (AFS UID) と UNIX UID が一致する場合、ユーザー・アカウントは管理と使用が最も容易です。AFS 文書内のすべての命令は、2 つの UID が一致することを前提としています。
<P>AFS の UID と UNIX の UID を同じにする最も基本的な理由は、
UNIX <B>ls -l</B> および <B>ls -ld</B> コマンドによって報告される所有者名が、
AFS ファイルおよびディレクトリーに対して意味を持つようにするということです。標準 UNIX 実践に従って、ファイル・サーバーは、
AFS ファイルまたはディレクトリーの所有者フィールドのユーザー名ではなく、数字、すなわち所有者の AFS UID を記録します。
<B>ls -l</B> コマンドを発行すると、このコマンドは、
AFS 保護データベースではなくローカル・パスワード・ファイルのマッピングに従って、
UID をユーザー名に変換します。AFS の UID と UNIX の UID が一致しない場合、
<B>ls -l</B> コマンドは、予期せぬ (かつ正しくない) 所有者を報告します。ローカル・パスワード・ファイルが同じ UNIX UID を異なる名前にマップする場合は、異なるクライアント・マシン上では、出力が異なることがあります。
<P>以下のようなさまざまなタイプのユーザーのアカウントを作成しているときには、指示された機能グループでの勧めに従って、AFS および UNIX UID を一致させてください。
<UL>
<LI>UNIX UID をすでに持っているユーザーに対して AFS アカウントを作成する場合は、機能グループ <A HREF="#HDRWQ690">UNIX と AFS UID を一致させる</A> を参照する。
</LI><LI>セル内のユーザーが既存の UNIX アカウントを持っているけれども、
AFS アカウントを作成する対象のユーザーがまだ持っていない場合は、保護サーバーに AFS UID を自動的に割り当てさせるのが最良の方法である。
AFS UID と既存の UNIX UID が重複するのを避けるには、
<A HREF="auagd019.htm#HDRWQ771">AFS UID および GID カウンターの表示および設定</A> の手順に従って、保護データベースの <TT>max user id</TT> カウンターを、最も大きい UNIX UID よりも高く設定します。
</LI><LI>既存の UNIX アカウントを持つユーザーがいない場合は、保護サーバーが AFS UID を、そのデフォルトかまたは <TT>max user id</TT> カウンターに設定した値から、自動的に割り振れるようにする。
</LI></UL>
<A NAME="IDX7735"></A>
<A NAME="IDX7736"></A>
<P><H3><A NAME="HDRWQ688" HREF="auagd002.htm#ToC_577">ローカル・パスワード・ファイルにパスワードを指定</A></H3>
<P>AFS 仕様に変更されたログイン・ユーティリティーのインストールと構成を行う場合は、
AFS による認証が最も簡単です。AFS は、ユーザーをローカル・ファイル・システムに記録することと、
AFS トークンを入手することを 1 つのステップで行います。この場合、ローカル・パスワード・ファイルは、もはや、ほとんどの状況下で、ユーザーのログインする能力を制御しません。なぜなら、
AFS 仕様に変更されたログイン・ユーティリティーは、ユーザーが正しい AFS パスワードを提示したかどうかについて、ローカル・パスワード・ファイルを調べないからです。しかし、それでも、パスワード・ファイル項目内のパスワード・フィールド (通常、
2 番目のフィールド) を以下の方法で使用して、ログインと認証を制御できます。
<UL>
<LI>アスタリスク ( * ) をフィールド内に入れて、ローカル・ログインおよび AFS による認証の両方を防止する。これは、主に、特定のユーザーがマシンにログインするのを阻止したいときなど、緊急の場合に有用です。
</LI><LI>標準の 13 文字以外の任意の長さの文字列をフィールドに入れて、ユーザーが正しい AFS パスワードを提示しなかった場合に、ローカル・ファイル・システムへのログインを阻止する。これは、ローカル AFS アカウントを持っている人だけに、マシンへのログインを許可したい場合に適切です。これを行うには、単一の <B>X</B> またはほかの文字が最も容易に認識できる方法です。
</LI><LI>不正な AFS パスワードを指定した後でも、ユーザーがローカル・ファイル・システムにログインできるようにするには、標準 UNIX パスワード設定コマンド (<B>passwd</B> またはこれに相当するもの) を発行して、標準 UNIX 暗号化パスワードをフィールドに記録します。
</LI></UL>
<P>AFS 仕様に変更したログイン・ユーティリティーを使用しない場合、標準の UNIX パスワードを、ユーザーが使用するすべてのクライアント・マシンのローカル・パスワード・ファイルに入れなければなりません。ユーザーは、ローカル・ファイル・システムだけにログインし、次に、
<B>klog</B> コマンドを発行して AFS と認証しなければなりません。ローカル・パスワード・ファイルと認証・データベースのパスワードが同じであれば、最も単純ですが、これは必須ではありません。
<A NAME="IDX7737"></A>
<A NAME="IDX7738"></A>
<HR><H2><A NAME="HDRWQ689" HREF="auagd002.htm#ToC_578">既存の UNIX アカウントの変換</A></H2>
<P>この機能グループでは、ユーザーのセルが既存の UNIX アカウントを持っていて、ユーザーがそのアカウントを AFS アカウントに変換したい場合に検討しなければならない 3 つの主要な問題について説明します。
<P><H3><A NAME="HDRWQ690" HREF="auagd002.htm#ToC_579">UNIX と AFS UID を一致させる</A></H3>
<P>前述のように、AFS ユーザーは、自分が承認済みユーザーとして AFS ファイル・スペースにアクセスするすべてのクライアント・マシン上のローカル・パスワード・ファイル内に項目を持っていなければなりません。UNIX UID と AFS UID が一致する場合は、管理と使用が両方とも、より単純になります。既存の UNIX アカウントを変換するとき、以下の 2 つの代替があります。
<UL>
<LI>AFS UID を既存の UNIX UID に一致させる。この場合、ユーザーは、AFS アカウントを作成するときに、<B>pts createuser</B> コマンドに <B>-id</B> 引き数を組み込んで、AFS UID を自分で割り当てる必要があります。
<P>
<P>ユーザーの UNIX UIDを保存しているので、ローカル・パスワード・ファイル項目内の UID を更新する必要がない。しかし、AFS仕様に変更されたログイン・ユーティリティーを使用している場合は、項目のパスワード・フィールドの変更が必要なことがあります。パスワード・フィールドの値が、
AFS 仕様に変更されたログイン・ユーティリティーによるログインにどのように影響するかについての説明は、<A HREF="#HDRWQ688">ローカル・パスワード・ファイルにパスワードを指定</A>を参照してください。
<P>
<P>現在または将来、既存の UNIX UID アカウントを持っていない新規ユーザーに対して AFS アカウントを作成する必要がある場合は、新規 AFS UID が既存の UNIX UID のどれとも競合しないことを確認する必要がある。最も簡単な方法は、保護データベースの <TT>max user id</TT> カウンターを、既存の最大 UNIX UID よりも高い値に設定することです。<A HREF="auagd019.htm#HDRWQ771">AFS UID および GID カウンターの表示および設定</A> を参照してください。
</LI><LI>既存の UNIX UID を変更して、保護サーバーが自動的に割り当てる新規 AFS UID に一致させる。
<P>
<P>AFS アカウントを作成するとき、保護サーバーに AFS UID を自動的に割り振らせることができる。それから、すべてのクライアント・マシンで、ローカル・パスワード・ファイルのユーザー項目を変更して、新規 UID を組み込む必要があります。
<P>
<P>UNIX UID を変更することには、1 つの欠点がある。つまり、
AFS ユーザーになる前にユーザーがローカル・ファイル・システム内で所有していたファイルとディレクトリーの所有者フィールドに、前の UID が含まれたままであるということです。
<B>ls -l</B> および <B>ls -ld</B> コマンドによって、正しい所有者を表示したい場合、ファイルをローカル・ファイル・システムに残すか AFS に移動するかにかかわらず、<B>chown</B> コマンドを使用して、値をユーザーの新規 UID に変更します。<A HREF="#HDRWQ692">ローカル・ファイルを AFS に移動する</A> を参照してください。
</LI></UL>
<P><H3><A NAME="HDRWQ691" HREF="auagd002.htm#ToC_580">パスワード・フィールドを適切に設定する</A></H3>
<P>既存の UNIX アカウントは、すでに、パスワード・フィールド内の (スクランブル) パスワードと共に、項目をローカル・パスワード・ファイル内に持っています。ログイン・ユーティリティーのタイプによっては、以下のようにパスワード・フィールド内の値の変更が必要になる場合があります。
<UL>
<LI>ログイン・ユーティリティーが AFS で使用するように変更されていない場合は、実際のパスワードがローカル・パスワード・ファイル項目に (スクランブル形式で) 表示される必要がある。
</LI><LI>ログイン・ユーティリティーが AFS で使用するように変更されている場合は、
<A HREF="#HDRWQ688">ローカル・パスワード・ファイルにパスワードを指定</A> で説明している値の中からいずれか 1 つを選択する。
</LI></UL>
<P><H3><A NAME="HDRWQ692" HREF="auagd002.htm#ToC_581">ローカル・ファイルを AFS に移動する</A></H3>
<P>既存の UNIX アカウントは、おそらく、マシンのローカル・ファイル・システムに保管されたファイルとディレクトリーを所有しており、これらは、新しいホーム・ボリュームに転送すると意味をなします。最も容易なメソッドは、それらを、AFS クライアント・マシンのローカル・ディスク上に移動することであり、その後、UNIX <B>mv</B> コマンドを使用して、それらをユーザーの新規 AFS ホーム・ディレクトリーに転送します。
<P>ファイルとディレクトリーを AFS に移動する際、それらのモード・ビットの意味が変更することに留意してください。
AFS では、モード・ビットの 2 番目と 3 番目のセット (グループおよびその他) を無視し、最初のセット (所有者ビット) は直接使用しません。ただし、ACL 上の項目と一緒の場合にのみ使用します (詳細は、<A HREF="auagd020.htm#HDRWQ796">AFS が UNIX モード・ビットを解釈する方法</A> を参照してください)。
ACL がファイルまたはディレクトリーを少なくともモード・ビットと同じくらい安全に保護することを確認してください。
<P>ユーザーの UNIX UID を変更して、新規 AFS UID に一致させることを選択した場合は、
UNIX ファイルとディレクトリーの所有権も変更しなければなりません。AFS に常駐している <B>system:administrators</B> グループのメンバーだけが、
<B>chown</B> コマンドをファイルおよびディレクトリー上で発行することができます。
<HR><H2><A NAME="HDRWQ693" HREF="auagd002.htm#ToC_582">AFS ユーザー・アカウントの作成</A></H2>
<P>ユーザー・アカウントの作成には 2 つのメソッドがあります。最適なメソッドは、<B>uss</B> コマンドを使用するメソッドで、単一コマンドで複数のアカウントを作成できます。このメソッドでは、テンプレートを使用して、各ユーザーに対して同一のアカウント・コンポーネント (割り当て量など) の標準値を定義しますが、可変コンポーネント (ユーザー名など) に対しては異なる値を提供します。
<A HREF="auagd017.htm#HDRWQ602">uss コマンド組によるユーザー・アカウントの作成と削除</A> を参照してください。
<P>2 番目のメソッドでは、個別のコマンドを発行してアカウントごとにコンポーネントを作成します。
1 度に 1 つのアカウントを作成する場合に最適な方法です。一部のコマンドは関連するコンポーネントの 1 つのインスタンスしか作成できないからです。各コンポーネントの機能を確認するには、<A HREF="#HDRWQ685">AFS ユーザー・アカウントのコンポーネント</A> を参照してください。
<P>以下の命令を使用して、機能のレベルが異なる 3 つのタイプのユーザー・アカウントのいずれかを作成します。タイプについては、<A HREF="auagd007.htm#HDRWQ73">AFS ユーザー・アカウントの作成</A> を参照してください。
<UL>
<LI>認証専用アカウントを作成するには、
<A HREF="#LIWQ695">1</A> から <A HREF="#LIWQ698">4</A> のステップまで、および <A HREF="#LIWQ705">14</A> のステップを実行します。このタイプのアカウントは、認証データベースの項目と保護データベースの項目だけから構成されています。
</LI><LI>基本アカウントを作成するには、
<A HREF="#LIWQ695">1</A> から <A HREF="#LIWQ701">8</A> のステップ、および <A HREF="#LIWQ703">11</A> から <A HREF="#LIWQ705">14</A> のステップを実行します。認証データベースと保護データベースのほかに、このタイプのアカウントには、所有者および ACL セットによって適切にホーム・ディレクトリーに取り付けられたボリュームを適切に組み込みます。
</LI><LI>フルアカウントを作成するには、以下の指示のすべてのステップを実行します。このタイプのアカウントは、ログイン、印刷、およびメール送信などの基本機能に対する構成ファイルを組み込み、それをさらに便利かつ有用にします。いくつかの有用なタイプの構成ファイルについての説明は、
<A HREF="auagd007.htm#HDRWQ76">新規の AFS アカウントでの標準ファイルの作成</A> を参照してください。
</LI></UL>
<A NAME="IDX7739"></A>
<A NAME="IDX7740"></A>
<A NAME="IDX7741"></A>
<A NAME="IDX7742"></A>
<A NAME="IDX7743"></A>
<A NAME="IDX7744"></A>
<A NAME="IDX7745"></A>
<A NAME="IDX7746"></A>
<A NAME="IDX7747"></A>
<A NAME="IDX7748"></A>
<P><H3><A NAME="HDRWQ694" HREF="auagd002.htm#ToC_583">個別のコマンドを使用して単一ユーザー・アカウントを作成する</A></H3>
<OL TYPE=1>
<LI><A NAME="LIWQ695"></A>以下の各アカウント・コンポーネントに割り当てる値について決めます。認証のみのアカウントを作成する場合は、ユーザー名、AFS UID および初期パスワードだけを選出します。
<UL>
<LI>ユーザー名。規則では、ユーザー・アカウントが所有する多数のコンポーネントの名前は、この名前に組み込まれます。制限と推奨されている命名体系については、
<A HREF="auagd007.htm#HDRWQ74">ユーザー名の選択とほかのアカウント・コンポーネントの命名</A> を参照してください。
</LI><LI>AFS UID (特定のAFS UID を割り当てたい場合)。UNIX アカウントをすでに持っているユーザーに対して AFS アカウントを作成する場合を除き、保護サーバーに代わりに 1つを割り当てることを一般的にはお勧めします。UNIX UID をすでに持っているユーザーの場合、
AFS UID を既存の UNIX UID に一致させるように設定するとき、ユーザーのファイルを AFS に移行すると、最も簡単です。<A HREF="#HDRWQ689">既存の UNIX アカウントの変換</A> を参照してください。
</LI><LI>初期パスワード。最初のログイン時に、<I>AFS 使用者の手引き</I> で説明するパスワード変更命令を使用して、このパスワードを変更するようにユーザーに通知します。
</LI><LI>ユーザーのホーム・ボリュームの現行の名前。標準名は、<B>user.</B><VAR>username</VAR> (たとえば、<B>user.smith</B>) です。
</LI><LI>ボリュームのサイト (ファイル・サーバー・マシン上のディスク・パーティション)。いくつかのセルは、ユーザー・ボリュームに対してのみ特定のマシンまたはパーティションを指定します。または、ほかの基準を満たす最も空きの多いパーティションにボリュームを配置するのが賢明である場合もあります。パーティションのサイズおよび使用可能なスペースを表示するには、
<B>vos partinfo</B> コマンドを使用します。このコマンドの詳細は、
<A HREF="auagd010.htm#HDRWQ271">読み取り / 書き込みボリュームの作成</A> で説明しています。
</LI><LI>ユーザーのホーム・ディレクトリーの名前(ホーム・ボリュームのマウント・ポイント)。標準ロケーションは、<B>/afs/</B><VAR>cellname</VAR><B>/usr</B> などのセル・ディレクトリーのすぐ下にあるディレクトリー (またはディレクトリーの組の 1 つ) です。単一の <B>usr</B> ディレクトリーに大量のユーザー・ホーム・ディレクトリーを配置した結果、ディレクトリーの検索が遅くなるのを避ける方法については、<A HREF="auagd017.htm#HDRWQ636">G 命令によるユーザー・ホーム・ディレクトリーの均等配布</A>を参照してください。
</LI><LI>ボリュームのスペース割り当て量。<B>vos create</B> コマンドに <B>-maxquota</B> 引き数を組み込みます。または、デフォルトの 5000 KB の割り当て量を受け入れます。
</LI><LI>ホーム・ディレクトリー上の ACL。デフォルトでは、新規に作成されたすべてのボリュームにある ACL は、7 つのアクセス権すべてを <B>system:administrators</B> グループに許可します。ボリュームを作成した後、必要な場合は <B>fs setacl</B> コマンドを使用して項目を削除し、ユーザーに 7 つのアクセス権をすべて許可します。
</LI></UL>
</LI><LI><A NAME="LIWQ696"></A>以下の特権のすべてを持つ AFS ID として認証します。標準構成では、<B>admin</B> ユーザー・アカウントがこれらすべての特権を持っています。または、またはユーザーが個人的な管理アカウントを持っている可能性があります (セルのセキュリティーを向上させるには、管理手順を実行するときだけ、特別な特権アカウントを作成して使用するとよいでしょう。詳細は、
<A HREF="auagd021.htm#HDRWQ807">管理権限の概要</A> を参照してください。) 必要な場合、認証するために <B>klog</B> コマンドを発行します。
<P>
<PRE>   % <B>klog</B> <VAR>admin_user</VAR>
   Password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>次のリストは、必要な特権を指定し、それらの特権を所有しているかどうかを検査する方法を示しています。
<UL>
<LI><B>system:administrators</B> グループのメンバーシップ。必要な場合には、<B>pts membership</B> コマンドを発行してください。このコマンドの詳細は、<A HREF="auagd021.htm#HDRWQ810">system:administrators グループのメンバーの表示</A> を参照してください。
<P>
<PRE>   % <B>pts membership system:administrators</B>
   
</PRE>
</LI><LI><B>/usr/afs/etc/UserList</B> ファイルに組み込まれていること。必要な場合には、<B>bos listusers</B> コマンドを発行します。このコマンドについては、
<A HREF="auagd021.htm#HDRWQ816">UserList ファイルのユーザーの表示</A>で詳しく説明しています。
<P>
<PRE>   % <B>bos listusers</B> &lt;<VAR>machine name</VAR>>
</PRE>
</LI><LI>認証データベース項目の <TT>ADMIN</TT> フラグ。ただし、認証サーバーは独自の認証を実行するので、<A HREF="#LIWQ698">4</A> のステップでは、
<B>kas</B> コマンド行自体に管理 ID を指定します。
</LI><LI>ボリュームを取り付けるディレクトリーの ACL 上に <B>i</B> (<B>挿入</B>) および <B>a</B> (<B>管理</B>) アクセス権があることを検証します。必要に応じて、<B>fs listacl</B> コマンドを発行します。これについては、<A HREF="auagd020.htm#HDRWQ788">ACL の表示</A> で詳しく説明しています。
<P>
<PRE>   % <B>fs listacl</B> [&lt;<VAR>dir/file path</VAR>>]
</PRE>
<P>
<P><B>system:administrators</B> グループのメンバーは、<B>a</B> (<B>管理</B>)、および、デフォルトで <B>l</B> (<B>検索</B>) アクセス権を、常にすべての ACL に暗黙的に持っています。また、必要に応じて <B>fs setacl</B> コマンドを使用して、他の権限を付与することができます。
</LI><LI>ローカル・スーパーユーザー <B>root</B> のパスワードがわかっていること。
</LI></UL>
<A NAME="IDX7749"></A>
<A NAME="IDX7750"></A>
</LI><LI><A NAME="LIWQ697"></A><B>pts createuser</B> コマンドを発行して、保護データベースに項目を作成します。AFS UID の設定については、<A HREF="#HDRWQ687">一致する AFS と UNIX UID の割り当て</A> を参照してください。既存の UNIX アカウントを AFS アカウントに変換する場合は、<A HREF="#HDRWQ689">既存の UNIX アカウントの変換</A> も参照してください。
<P>
<PRE>   % <B>pts createuser</B> &lt;<VAR>user name</VAR>> [&lt;<VAR>user id</VAR>>]
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>cu
</B><DD>は、<B>createuser</B> の受け入れ可能な別名です
(<B>createu</B> は受け入れ可能な最も短い省略形です)。
<P><DT><B><VAR>user name</VAR>
</B><DD>ユーザーのユーザー名 (ログイン時に入力する文字列) を指定します。ユーザー名は、8 文字以下の英小文字に限定することをお勧めします。多くのアプリケーション・プログラムが同様の制限を課しているからです。AFS サーバー自体は、最大 63 文字までの名前を受け入れます。また、以下の文字の使用を避けます。コロン (<B>:</B>)、セミコロン (<B>;</B>)、コンマ (<B>,</B>)、単価記号 (<B>@</B>)、スペース、改行、およびピリオド (<B>.</B>)。これは、一般に特殊な管理用の名前に使用します。
<P><DT><B><VAR>user id</VAR>
</B><DD>オプションで、ユーザーが AFS UID に一致させる必要のある UNIX UID をすでに所有している場合のみ選択できます。この引き数が提供されない場合、保護サーバーが <A HREF="auagd019.htm#HDRWQ771">AFS UID および GID カウンターの表示および設定</A> で説明するカウンターに基づいて自動的に割り当てます。指定される ID が <B>1</B> 以下の場合またはすでに使用されていると、エラーが発生します。
</DL>
<A NAME="IDX7751"></A>
<A NAME="IDX7752"></A>
</LI><LI><A NAME="LIWQ698"></A><B>kas create</B> コマンドを発行して、認証データベースに項目を作成します。ユーザーの一時的な初期パスワードが画面にエコーされて表示されるのを防ぐには、
<B>-initial_password</B> 引き数を省略します。代わりに、以下の構文仕様に示すように、引き数を省略する際にプロンプトが表示されたとき、パスワードを入力します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas create</B> &lt;<VAR>name of user</VAR>> \
                <B>-admin</B>  &lt;<VAR>admin principal to use for authentication</VAR>>  
   Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
   initial_password: <VAR>initial_password</VAR>
   Verifying, please re-enter initial_password: <VAR>initial_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>cr
</B><DD>は、<B>create</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>name of user</VAR>
</B><DD><A HREF="#LIWQ697">3</A> のステップで指定したのと同じユーザー名を指定します。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
<P><DT><B><VAR>initial_password</VAR>
</B><DD>一部のアプリケーションで強制される長さ制限に対応するように、
8 文字以下の文字列を与えます。初期パスワードの選択で、考えられる候補には、ユーザー名、社会保障番号などの個人識別番号からの数字の文字列、または <B>changeme</B> などの標準文字列が含まれます。ユーザーに指示して、<I>AFS 使用者の手引き</I> に説明されるように <B>kpasswd</B> コマンドを使用して、できるだけ早くこの文字列を本当の秘密のパスワードに変更させます。
</DL>
<A NAME="IDX7753"></A>
<A NAME="IDX7754"></A>
</LI><LI><A NAME="LIWQ699"></A><B>vos create</B> コマンドを発行し、ユーザーのボリュームを作成します。
<P>
<PRE>   % <B>vos create</B> &lt;<VAR>machine name</VAR>> &lt;<VAR>partition name</VAR>> &lt;<VAR>volume name</VAR>>  \
                [<B>-maxquota</B> &lt;<VAR>initial quota (KB)</VAR>>]
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>cr
</B><DD><B>create</B> の受け入れ可能な最も短い省略形です。
<P><DT><B><VAR>machine name</VAR>
</B><DD>新規ボリュームを配置するファイル・サーバー・マシンを指定します。
<P><DT><B><VAR>partition name</VAR>
</B><DD>新規ボリュームを配置するパーティションを指定します。
<P><DT><B><VAR>volume name</VAR>
</B><DD>新規ボリュームに名前を付けます。名前には、最大 22 文字までを組み込むことができます。規則では、ユーザー・ボリューム名は <B>user.</B><VAR>username</VAR> という形式になります。この <VAR>username</VAR> は、<A HREF="#LIWQ697">3</A> のステップで割り当てられた名前です。
<P><DT><B>-maxquota
</B><DD>ボリュームの割り当て量を K バイト・ブロックの数として設定します。この引き数を省略すると、デフォルトで 5000 K バイト・ブロックに設定されます。
</DL>
<A NAME="IDX7755"></A>
<A NAME="IDX7756"></A>
</LI><LI><A NAME="LIWQ700"></A><B>fs mkmount</B> コマンドを発行して、ボリュームをファイル・スペースに取り付け、ユーザーのホーム・ディレクトリーを作成します。
<P>
<PRE>   % <B>fs mkmount</B> &lt;<VAR>directory</VAR>> &lt;<VAR>volume name</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>mk
</B><DD>は、<B>mkmount</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>directory</VAR>
</B><DD>作成するマウント・ポイントを指定します。既存のディレクトリーと同じ名前のディレクトリーを作成しないでください。パス名の一部は、現行作業ディレクトリーとの関連で解釈されます。規則では、ユーザー・ホーム・ディレクトリーは、
<B>/afs/.</B><VAR>cellname</VAR><B>/usr</B>
に似た名前のディレクトリーの下に作成され、ホーム・ディレクトリー名は、
<A HREF="#LIWQ697">3</A> のステップで割り当てたユーザー名と同じになります。
<P>マウント・ポイントに読み取り / 書き込みパスを指定して、読み取り専用ボリューム内に新しいマウント・ポイントを作成しようとしたときに障害が発生するのを防ぎます。規則では、パス名の第 2 レベルのセル名の前にピリオドを付けて、読み取り / 書き込みパスを指定します (たとえば、
<B>/afs/.abc.com</B>)。ファイル・スペースの読み取り / 書き込みパス、および読み取り専用パスの概念についての詳細は、
<A HREF="auagd010.htm#HDRWQ295">マウント・ポイント横断の規則</A> を参照してください。
<P><DT><B><VAR>volume name</VAR>
</B><DD><A HREF="#LIWQ699">5</A> のステップで作成したボリュームの名前です。
</DL>
</LI><LI><B>(オプション)</B>。<B>fs setvol</B> コマンドを、<B>-offlinemsg</B> 引き数を併用して発行し、ボリューム・ヘッダー内のボリュームに関する補助情報を記録します。たとえば、ボリュームの所有者またはファイル・スペース内の取り付け場所を記録することができます。この情報を表示するには、<B>fs examine</B> コマンドを使用します。
<P>
<PRE>   % <B>fs setvol</B> &lt;<VAR>dir/file path</VAR>> <B>-offlinemsg</B> &lt;<VAR>offline message</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>sv
</B><DD>は、<B>setvol</B> の受け入れ可能な別名です
(<B>setv</B> は受け入れ可能な最も短い省略形です)。
<P><DT><B><VAR>dir/file path</VAR>
</B><DD>メッセージに関連するボリュームのマウント・ポイントを指定します。パス名の一部は、現行作業ディレクトリーとの関連で解釈されます。
<P>
<P>マウント・ポイントへの読み取り / 書き込みパスを指定し、読み取りボリュームの変更時に生じる障害を回避してください。通例、読み取り / 書き込みパスを指定するには、パス名の第 2 レベルのセル名の前にピリオドを挿入します (たとえば <B>/afs/.abc.com</B>)。ファイル・スペースにおける読み取り / 書き込みおよび読み取り専用パスの概念の詳細は、<A HREF="auagd010.htm#HDRWQ295">マウント・ポイント横断の規則</A> を参照してください。
<P><DT><B>-offlinemsg
</B><DD>ボリューム・ヘッダーに記録する補助情報を、最大 128 文字まで指定します。
</DL>
</LI><LI><A NAME="LIWQ701"></A><B>fs setacl</B> コマンドを発行して、新しいホーム・ディレクトリーに ACL を設定します。少なくとも、示されているように、ユーザーにすべてのアクセス権を許可する項目を作成します。
<P>
<P>また、コマンドを使用して、
<B>vos create</B> コマンドが新規ボリュームのルート・ディレクトリーの ACL に自動的に配置する項目を、編集または削除することができます。この項目は、<B>system:administrators</B> グループにすべてのアクセス権を許可します。項目を削除する場合は、デフォルトにより、グループのメンバーは、すべての ACL において暗黙的な <B>a</B> (<B>管理</B>) および <B>l</B> (<B>ルックアップ</B>) アクセス権を持ち、必要に応じて、ユーザーに他のアクセス権を与えることができることに留意してください。
<P>
<P><B>fs setacl</B> コマンドについての詳細な説明は、<A HREF="auagd020.htm#HDRWQ789">ACL 項目の設定</A> を参照してください。
<P>
<PRE>   % <B>fs setacl</B> &lt;<VAR>directory</VAR>> <B>-acl</B> &lt;<VAR>user name</VAR>> <B>all</B> \
               [<B>system:administrators</B> <VAR>desired_permissions</VAR>]
</PRE>
</LI><LI><A NAME="LIWQ702"></A><B>(オプション)</B>。新規ホーム・ディレクトリーに構成ファイルおよびサブディレクトリーを作成します。組み込み可能なものには、<B>.login</B> および <B>.logout</B> ファイル、<B>.cshrc</B> などのシェル初期設定ファイル、印刷やメール送信を助けるファイルなどがあります。
<P>
<P>既存の UNIX アカウントを AFS アカウントに変換する場合、ユーザーの新規ホーム・ディレクトリーに一部のファイルやディレクトリーを移動できます。<A HREF="#HDRWQ689">既存の UNIX アカウントの変換</A> を参照してください。
</LI><LI><B>(オプション)</B>。新規 <B>.login</B> ファイルまたはシェル初期設定ファイルで、ユーザーの $PATH 環境変数を定義し、AFS バイナリーが保持されているディレクトリー (たとえば、<B>/usr/afsws/bin</B> および <B>/usr/afsws/etc</B>) を組み込みます。
</LI><LI><A NAME="LIWQ703"></A><A HREF="#LIWQ704">12</A> のステップおよび <A HREF="#LIWQ705">14</A> のステップでは、ユーザーの AFS UID を認識している必要があります。<A HREF="#LIWQ697">3</A> のステップで、保護サーバーが AFS UID を割り当てていると、おそらくそれを認識していないかもしれません。必要に応じて、<B>pts examine</B> コマンドを発行して、AFS UID を表示します。
<P>
<PRE>   % <B>pts examine</B> &lt;<VAR>user or group name or id</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>e
</B><DD><B>examine</B> の最も短い受け入れ可能な省略形です。
<P><DT><B><VAR>user or group name or id</VAR>
</B><DD><A HREF="#LIWQ697">3</A> のステップで割り当てたユーザー名です。
</DL>
<P>
<P>出力の最初の行には、ユーザー名および AFS UID が表示されます。詳細および出力の例については、<A HREF="auagd019.htm#HDRWQ747">保護データベースからの情報の表示</A> を参照してください。
</LI><LI><A NAME="LIWQ704"></A>ユーザーを、ホーム・ディレクトリーおよび、<A HREF="#LIWQ702">9</A> のステップで作成または移動した任意のファイルおよびサブディレクトリーの所有者に指定します。ユーザー名ではなく、<A HREF="#LIWQ703">11</A> のステップで説明した AFS UID で所有者を指定します。新しいアカウントの場合、ローカル・マシンのパスワード・ファイル
(<B>/etc/passwd</B> またはそれに相当するもの) にはまだそのユーザーの項目がないため、
AFS UID で指定する必要があります。既存の UNIX アカウントを変換する場合、項目はあっても、その中の UID が正しくない可能性があります。そのような場合にユーザー名を指定すると、対応する (間違っている可能性のある) UID が所有者として記録されます。
<P>
<P>一部のオペレーティング・システムでは、ローカルのスーパーユーザー<B>root</B> だけに、<B>chown</B> コマンドの発行を許可します。必要な場合は、<B>chown</B> コマンドを発行する前に、<B>su</B> コマンドを発行します。
<P>
<PRE>   % <B>chown</B> <VAR>new_owner_ID</VAR>  <VAR>directory</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B><VAR>new_owner_ID</VAR>
</B><DD>ユーザーの AFS UID です。<A HREF="#LIWQ703">11</A> のステップで確認済みです。
<P><DT><B><VAR>directory</VAR>
</B><DD><A HREF="#LIWQ700">6</A> のステップで作成したホーム・ディレクトリーと
<A HREF="#LIWQ702">9</A> のステップで作成した各サブディレクトリーまたはファイルです。
</DL>
</LI><LI>新規のユーザー・ホーム・ディレクトリーが複写されたボリューム内に常駐している場合は、
<A HREF="auagd010.htm#HDRWQ280">読み取り / 書き込みボリュームの複写 (読み取り専用ボリュームの作成)</A> で説明しているように、
<B>vos release</B> コマンドを使用してそのボリュームを解放します。
<P>
<PRE>   
   % <B>vos release</B> &lt;<VAR>volume name or ID</VAR>>
   
</PRE>
<P>
<TABLE><TR><TD ALIGN="LEFT" VALIGN="TOP"><B>注:</B></TD><TD ALIGN="LEFT" VALIGN="TOP">このステップは、ホーム・ディレクトリーの親ディレクトリーが、複写されたボリュームのマウント・ポイントではなくても、必要な場合があります
(また、そのようなケースでは、このステップを実行した方が監視が容易です)。たとえば、ABC Corporation が、
<B>/afs/abc.com/usr</B> ディレクトリー内のユーザー・ボリュームにマウント・ポイントを置くとしましょう。このディレクトリーは、マウント・ポイントというよりは通常のディレクトリーですので、
<B>/afs/abc.com</B> ディレクトリーに取り付けられた
<B>root.cell</B> ボリューム内に常駐します。このボリュームは複写ですので、新規のマウント・ポイントの作成によって変更されたら、管理者は、
<B>vos release</B> コマンドを発行する必要があります。
</TD></TR></TABLE>
</LI><LI><A NAME="LIWQ705"></A>ユーザーがログインできる各マシンのローカル・パスワード・ファイル (<B>/etc/passwd</B> またはそれに相当するもの) にある新規ユーザー用の項目を作成または変更します。
UNIX UID を <A HREF="#LIWQ703">11</A> のステップで確認した AFS UID と同じにし、パスワード・フィールドを適切に埋めます (<A HREF="#HDRWQ688">ローカル・パスワード・ファイルにパスワードを指定</A> を参照してください)。
<P>
<P><B>パッケージ</B>・ユーティリティーを使用して、パスワード・ファイルの共通バージョンをすべてのクライアント・マシンに配布する場合、共通バージョンだけを変更する必要があります。<A HREF="auagd016.htm#HDRWQ566">パッケージ・プログラムを使用したクライアント・マシンの構成</A>を参照してください。
</LI></OL>
<A NAME="IDX7757"></A>
<A NAME="IDX7758"></A>
<A NAME="IDX7759"></A>
<A NAME="IDX7760"></A>
<HR><H2><A NAME="HDRWQ706" HREF="auagd002.htm#ToC_584">パスワードおよび認証セキュリティーの改善</A></H2>
<P>AFS では、非認証アクセスに対してセルのファイル・スペースを保護するための助けとなる、いくつかのオプション機能を提供します。以下のリストでは、それらの機能について要約します。
<UL>
<LI>ログイン試行の連続失敗数を制限する。
<P>認証されていないユーザーがファイル・スペースにアクセスする最も一般的な方法の 1つは、認証済みユーザーのパスワードを憶測することです。このハッキング・メソッドは、ハッカーが複数のログイン・プロセスを並列して使用できる場合、または RPC インターフェースを直接使用できる場合に、最も危険です。
<P>
<P>このようなタイプの攻撃に対抗して保護するために、<B>kas setfields</B> コマンドに <B>-attempts</B> を使用して、ユーザーが AFS 仕様に変更されたログイン・ユーティリティーまたは <B>klog</B> コマンドのどちらを使用しているかにかかわらず、誤ったパスワードを連続して入力できる回数を制限することができます。この制限を超えると、認証サーバーは、<B>kas setfields</B> コマンドの <B>-locktime</B> 引き数に定義された期間、認証データベース項目をロックします(認証試行を不許可にします)。必要な場合、システム管理者は、<B>kas unlock</B> コマンドを使用して、ロックアウト時間が完全に経過する前にロックを解除することができます。
<P>
<P>特定の状況では、失敗した認証試行回数の制限に使用したメカニズムは、失敗した試行数が <B>-attempts</B> 引き数によって設定した制限の範囲内であっても、ロックアウトを発生させる場合があります。<B>klog</B> および AFS 変更済みログイン・ユーティリティーなどの認証プログラムは、通常、認証試行に対して、認証サーバーをランダムに選択します。そして、認証に失敗した場合は、次の試行のために別の認証サーバーを選択します。さまざまなデータベース・サーバー・マシン上で実行される認証データベースは、ユーザーが正しいパスワードの提供に失敗した回数を相互に通知しません。代わりに、各認証サーバーは、補助データベース・ファイル <B>kaserverauxdb</B> (デフォルトでは <B>/usr/afs/local</B> ディレクトリーにある) の独自の個別コピーを保守します。このコピーには、各ユーザー・アカウントごとの連続失敗回数および最近の失敗の時刻が記録されています。この実装は、平均的には各認証サーバーは、失敗試行の合計数の少数部分に関してしかわからないことを意味します。<B>-attempts</B> 引き数で設定された試行回数以上の許可しないようにする唯一の方法は、各認証サーバーは合計の小数部の一部だけを許可するという方法です。具体的に説明すると、失敗試行の限界回数が <I>f</I> で、認証サーバーの数が <I>S</I> であるとすると、各認証サーバーが許可できる試行回数は、<I>f</I> を <I>S</I> で割った数にしかなりません (認証サーバーのための Ubik 同期サイトでは、剰余数 <I>fmodS</I> が追跡されます)。
<P>
<P>通常、このメカニズムが許可される試行数を構成済みの限界 (<I>f</I>) 以下に削減することはありません。1 つの認証サーバーが試行を拒否しても、クライアントはサーバーの別のインスタンスにアクセスして、認証が正常に行われるまで、またはサーバーの全インスタンスにアクセスが完了するまで継続します。ただし、1 つ以上の認証サーバー・プロセスが使用不可の場合、事実上、数量 <I>U</I> を <I>S</I> で割った数に等しいパーセンテージだけ限界回数が少なくなります。ここで、<I> U</I> は使用不可のサーバー数で、<I>S</I> は、正常に使用可能なサーバー数です。
<P>
<P>失敗した認証試行の限界数設定について、望ましくない結果を避けるため、次の推奨処置に注意してください。
<UL>
<LI><B>-attempts</B> 引き数(失敗認証試行の限度) を極端に低く設定しないでください。平均ユーザー・アカウントにお勧めする失敗試行回数の限界は、9 回です。3 つのデータベース・サーバー・マシンを使用するとして、1 つのセルで認証サーバーごとに 3 回試行できます。
</LI><LI><B>-locktime</B> 引き数を組み込む場合は、短めのロックアウト時間を設定してください。パスワードを推測することは、ハッキングの共通の手口であっても、それほど高度なものではありません。ロックアウト時間の設定は、ハッカーの侵入を思いとどまらせる助けにはなりますが、あまり長いと潜在的ハッカーより許可されているユーザーに負担がかかってしまいます。通常ユーザー・アカウントにお勧めするロックアウト時間は、25 分です。
</LI><LI>特に重大な理由がない限り、アカウントに無制限のロックアウト時間 (<B>-locktime</B> 引き数を<B>0</B> [ゼロ] にする) を割り当てないでください。このようなアカウントは、ほとんど必然的にある時点でロックされます。なぜなら、各認証サーバーは、<B>kaauxdb</B> ファイルのコピーにあるアカウントの障害カウンターをリセットしないからです (反対に、ロックアウト時間が無制限ではない場合、その認証サーバーに対して最後に試行に失敗してから、指定した時間が経過するとカウンターはリセットされます)。さらに、無制限ロックアウト時間を持つアカウントのロックを解除する唯一の方法は、管理者が、
<B>kas unlock</B> コマンドを発行することです。特に危険なのは、管理者のアカウントに無制限のロックアウト回数を設定することです。すべての管理者のアカウントがロックされてしまった場合、ロックを解除する方法は、認証サーバーの全インスタンスを終了し、<B>kaauxdb</B> ファイルを消去することしかありません。
</LI></UL>
<P>
<P>要約すると、お勧めする認証試行の制限回数は 9 回、ロックアウト時間は
25 分です。
</LI><LI>パスワードの有効期間を制限する。
<P>
<P>使用するパスワードが長いほど、ハッカーはそのパスワードを知るのに時間がかかります。このタイプのハッキングから保護するには、
<B>-pwexpires</B> 引き数を <B>kas setfields</B> コマンドに使用して、ユーザーのパスワードの有効日数を制限します。パスワードが失効すると、ユーザーは AFS を使って認証できなくなりますが、
30 日以内に <B>kpasswd</B> コマンドを使用すれば、新規パスワードを設定できます。30 日間が経過した後は、認証データベース項目に関する <TT>ADMIN</TT> フラグを持つ管理者だけが、パスワードを変更することができます。
<P>
<P>パスワードの有効期間を設定すると、多くの AFS 仕様に変更されたログイン・ユーティリティー (ただし、
<B>klog</B> コマンドではない) は、
PASSWORD_EXPIRES 環境変数に、パスワードが失効するまで残っている日数を設定します。ゼロを設定すると、パスワードの失効日は今日になります。必要な場合、ユーザーのログイン・スクリプトをカスタマイズして、パスワードが失効するまでの残りの日数を表示し、あとわずかの日数で失効するときにはプロンプトを出すことさえできます。
</LI><LI>パスワードの再利用を禁止する。
<P>
<P>ユーザーが現在の値に新規パスワードを単に設定するだけの場合、新規パスワードの定期的な選択をユーザーに強制するのは効果的ではありません。ユーザーが、最近の 20 のパスワードのいずれかに類似する文字列を新規パスワードとして設定するのを防ぐには、
<B>kas setfields</B> コマンドに <B>-reuse</B> 引き数を使用します。
<P>
<P>パスワードの再値用を禁止しているのに、ユーザーが非常に類似するパスワードを指定した場合、認証サーバーは、以下のメッセージを生成し、そのパスワードを拒否します。
<P>
<PRE>   Password was not changed because it seems like a reused password
</PRE>
<P>
<P>持続ユーザーは、クィック継続 （またはそれを実行するスクリプトの実行）で、このパスワードを 20 回変更することによって、この制限のう回を試行することができます。これが問題になると思う場合は、<B>-minhours</B> 引き数を、
<B>kaserver</B> 初期設定コマンドに組み込みます (詳しくは、
<I>AFS Administration Reference</I> 内のコマンド解説のページを参照してください)。ユーザーが頻繁にパスワードを変更しようとすると、次のメッセージが表示されます。
<P>
<PRE>   Password was not changed because you changed it too recently; see 
   your systems administrator
</PRE>
</LI><LI>新規パスワードの品質を検査する
<P>
<P>パスワードに対して、最小限の品質基準を課すことができます。それには、
<B>kpwvalid</B> というスクリプトまたはプログラムを作成します。<B>kpwvalid</B> ファイルが既にある場合は、
<B>kpasswd</B> および <B>kas setpassword</B> コマンド・インタープリターがこれを呼び出して、新規パスワードをチェックします。パスワードが品質基準に準拠していない場合、
<B>kpwvalid</B> プログラムは適切なコードを返し、コマンド・インタープリターはそのパスワードを拒否します。
<P>
<P><B>kpwvalid</B> ファイルは、実行可能ファイルでなければなりません。また、
<B>kpasswd</B> および <B>kas</B> バイナリーと同じ AFS ディレクトリーになければなりません。このファイルのディレクトリーの ACLは、<B>w</B> (<B>書き込み</B>) アクセス権を、
<B>system:administrators</B> グループだけに許可していなければなりません。
<P>
<P><B>kpwvalid</B> プログラムを作成する場合は、次のような規定を設けることを考慮してください。
<UL>
<LI>最小限の長さ
</LI><LI>ディレクトリー内の禁止語
</LI><LI>文字とともに表示される必要のある、数字、句読点、またはその両方
</LI></UL>
<P>
<P>AFS の配布には、<B>kpwvalid</B> プログラムが例として組み込まれています。<I>AFS Administration Reference</I>の <B>kpwvalid</B> コマンドの参照ページを参照してください。
</LI></UL>
<A NAME="IDX7761"></A>
<A NAME="IDX7762"></A>
<P><H3><A NAME="Header_585" HREF="auagd002.htm#ToC_585">ログイン試行の連続失敗数を制限する</A></H3>
<OL TYPE=1>
<LI><B>kas setfields</B> コマンドを、<B>-attempts</B> および <B>-locktime</B> 引き数と共に発行します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas setfields</B> &lt;<VAR>name of user</VAR>> \
                   <B>-admin</B> &lt;<VAR>admin principal to use for authentication</VAR>>  \
                   <B>-attempts</B> &lt;<VAR>maximum successive failed login tries ([0..254])</VAR>>  \
                   <B>-locktime</B> &lt;<VAR>failure penalty [hh:mm or minutes]</VAR>>
    Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B><VAR>name of user</VAR>
</B><DD>編集する認証データベース項目を指定します。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> アカウントなど)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
<P><DT><B>-attempts
</B><DD>認証プロセス中 (<B>klog</B> コマンドまたは AFS 仕様に変更されたログイン・ユーティリティーなどを介して)、<B>-locktime</B>引き数によって指定された時間範囲に対し、それ以上の試行を認証サーバーが拒否する前に、各ユーザー・アカウントが正しいパスワードの入力を連続して失敗することが許される最大回数を指定します。有効な値の範囲は、<B>0</B> (ゼロ) から <B>254</B> までです。この引き数を省略するかまたは <B>0</B> を指定した場合、認証サーバーは無制限の試行を許可します。
<P><DT><B><B>-locktime</B>
</B><DD><B>-attempts</B> 引き数により指定した失敗の制限回数をユーザーが超過した後、そのユーザーからの認証試行を認証サーバーがどれほど長く拒絶するかということを指定します。
<P>
<P>時間と分の (<VAR>hh</VAR>:<VAR>mm</VAR>) または分だけ (<VAR>mm</VAR>) の時間数を、
<B>01</B> (1 分) から <B> 36:00</B> (36 時間) の範囲から指定します。<B>kas</B> コマンド・インタープリターは、自動的に、36:00 よりも大きいすべての値を 36:00 に削減し、また、非ゼロ値を 8.5 分の倍数で次に高い最初の値にそれぞれ切り上げます。
<P>
<P>値の <B>0</B> (ゼロ) は、無限のロックアウト時間を設定するので、管理者のアカウントに指定しない方がよいでしょう。管理者は、このようなアカウントをロック解除するために、常に<B>kas</B> コマンドを発行しなければなりません。
</DL>
</LI></OL>
<P><H3><A NAME="Header_586" HREF="auagd002.htm#ToC_586">ロックされたユーザー・アカウントのロックを解除する</A></H3>
<OL TYPE=1>
<LI><B>kas</B> コマンドを発行して対話モードに入ります。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas -admin</B> &lt;<VAR>admin principal to use for authentication</VAR>>  
    Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
   ka>
</PRE>
<P>
<P><B>-admin</B> は、認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します (<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
</LI><LI><B>(kas) examine</B> を発行して、次のメッセージに示されるように、ユーザーのアカウントが実際にロックされていることを確認します。
<PRE>   ka> <B>examine</B> &lt;<VAR>name of user</VAR>>
   User is locked until <VAR>time</VAR>
</PRE>
<A NAME="IDX7763"></A>
<A NAME="IDX7764"></A>
</LI><LI><B>(kas) unlock</B> コマンドを発行して、アカウントのロックを解除します。
<P>
<PRE>   ka> <B>unlock</B> &lt;<VAR>authentication ID</VAR>> 
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>u
</B><DD>は、<B>unlock</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>authentication ID</VAR>
</B><DD>ロックが解除される認証データベース項目を指定します。
</DL>
</LI></OL>
<A NAME="IDX7765"></A>
<A NAME="IDX7766"></A>
<A NAME="IDX7767"></A>
<P><H3><A NAME="Header_587" HREF="auagd002.htm#ToC_587">パスワードの存続時間を設定する</A></H3>
<OL TYPE=1>
<LI><B>kas setfields</B> コマンドを <B>-pwexpires</B> 引き数と共に発行します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas setfields</B> &lt;<VAR>name of user</VAR>> \
                   <B>-pwexpires</B> &lt;<VAR>number days password is valid  [0..254])</VAR>>  \
                   <B>-admin</B> &lt;<VAR>admin principal to use for authentication</VAR>> 
    Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B><VAR>name of user</VAR>
</B><DD>パスワード有効期限を課す認証データベース項目を指定します。
<P><DT><B>-pwexpires
</B><DD>ユーザーのパスワードが変更された後、それが有効であり続ける日数を設定します。
<B>1</B> から <B>254</B> の範囲から整数を与えて、有効期限までの日数を指定します。
<P>パスワードが無効になる (有効期限切れになる) と、ユーザーは、認証できなくなりますが、その後 30 日間は、
<B>kpasswd</B> コマンドまたは <B>kas setpassword</B> コマンドを発行してパスワードを変更できます (それ以降は、パスワードを変更できるのは、管理者だけです)。時計は、<B>kas setfields</B> コマンドを発行したときではなく、パスワードを最後に変更したときに開始することに注意してください。そ及的な期限切れを避けるために、ユーザーは、コマンドを発行する直前にパスワードを変更するようにします。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
</DL>
</LI></OL>
<A NAME="IDX7768"></A>
<A NAME="IDX7769"></A>
<P><H3><A NAME="Header_588" HREF="auagd002.htm#ToC_588">パスワードの再利用を禁止する</A></H3>
<OL TYPE=1>
<LI><B>kas setfields</B> コマンドを <B>-reuse</B>引き数と共に発行します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas setfields</B> &lt;<VAR>name of user</VAR>> <B>-reuse</B> &lt;<VAR> permit password reuse (yes/no)</VAR>>  \
                   <B>-admin</B> &lt;<VAR>admin principal to use for authentication</VAR>> 
    Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B><VAR>name of user</VAR>
</B><DD>パスワード再利用ポリシーを設定する認証データベース項目を指定します。
<P><DT><B>-reuse
</B><DD>認証サーバーが、最後の 20 のパスワードに類似するパスワードの再利用を許可するかどうかを指定します。再利用を禁止する場合は、値を<B>いいえ</B>に、またはパスワードの再利用を許可するデフォルトを復権させる場合は、値を<B>はい</B>に指定します。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
</DL>
</LI></OL>
<A NAME="IDX7770"></A>
<A NAME="IDX7771"></A>
<A NAME="IDX7772"></A>
<HR><H2><A NAME="HDRWQ707" HREF="auagd002.htm#ToC_589">AFS パスワードの変更</A></H2>
<P>アカウントの作成時に初期パスワードを設定した後は、通常ユーザー・パスワードの変更は不要です。<I>AFS 使用者の手引き</I> の説明に従うことにより、ユーザーが <B>kpasswd</B> コマンドを使用して各自で変更できるからです。まれに、ユーザーがパスワードを忘れた場合またはそれ以外でログインできない場合、
<B>kas setpassword</B> コマンドを使用して、新規パスワードを設定することができます。
<P>ローカル・パスワード・ファイル (<B>/etc/passwd</B>、またはそれに相当するもの) 内の項目が、パスワード・フィールド内に、順序を変えた実パスワードを持っている場合は、そのパスワードも変更することを忘れないでください。詳しくは、<A HREF="#HDRWQ688">ローカル・パスワード・ファイルにパスワードを指定</A> を参照してください。
<A NAME="IDX7773"></A>
<A NAME="IDX7774"></A>
<P><H3><A NAME="Header_590" HREF="auagd002.htm#ToC_590">AFS パスワードを変更する</A></H3>
<OL TYPE=1>
<LI>パスワードを変更するには、<B>kas setpassword</B> コマンドを発行します。ユーザーの新規パスワードが画面にエコーされて表示されるのを防ぐには、
<B>-new_password</B> 引き数を省略します。その代わりに、引き数を省略する際に表示されるプロンプトに対して、次のようにパスワードを入力します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas setpassword</B> &lt;<VAR>name of user</VAR>> \
                     <B>-admin</B> &lt;<VAR>admin principal to use for authentication</VAR>> 
   Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
   new_password: <VAR>new_password</VAR>
   Verifying, please re-enter new_password: <VAR>new_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>sp
</B><DD><B>setpassword</B> の受け入れ可能な別名です
(<B>setp</B> は受け入れ可能な最も短い省略形です)。
<P><DT><B><VAR>name of user</VAR>
</B><DD>パスワードを設定する認証データベース項目を指定します。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
<P><DT><B><VAR>new_password</VAR>
</B><DD>ユーザーの新規パスワードを指定します。<B>kpwvalid</B> プログラムを使用する場合は、プログラムにより課される制限に従います。
</DL>
</LI></OL>
<HR><H2><A NAME="HDRWQ708" HREF="auagd002.htm#ToC_591">ユーザー・ボリュームに対する割り当て量の表示および設定</A></H2>
<P>ユーザー・ボリュームは、割り当て量に関しては、他のすべてのボリュームと似ています。<B>vos create</B> コマンドに <B>-maxquota</B> 引き数を使用して、異なる割り当て量を割り当てない限り、新規 AFSボリュームには、5000 KB のデフォルト割り当て量があります。また、以下のコマンドのいずれかを使用して、いつでも割り当て量を変更することができます。
<UL>
<LI><B>fs setquota</B>
</LI><LI><B>fs setvol</B>
</LI></UL>
<P>
次の 3 つのコマンドのいずれかを使用して、ボリュームの割り当てを表示することができます。
<UL>
<LI><B>fs quota</B>
</LI><LI><B>fs listquota</B>
</LI><LI><B>fs examine</B>
</LI></UL>
<P>説明については、<A HREF="auagd010.htm#HDRWQ320">ボリューム割り当て量および現行サイズの設定および表示</A>を参照してください。
<A NAME="IDX7775"></A>
<A NAME="IDX7776"></A>
<A NAME="IDX7777"></A>
<A NAME="IDX7778"></A>
<A NAME="IDX7779"></A>
<HR><H2><A NAME="HDRWQ709" HREF="auagd002.htm#ToC_592">ユーザー名の変更</A></H2>
<P>規則では、アカウントのコンポーネントの多くには、ユーザー名、保護および認証データベース項目、ボリューム名、ホーム・ディレクトリー名などが組み込まれています。ユーザー名を変更する場合には、整合性を維持するためにすべてのコンポーネントの名前を変更するのが最適の方法です。したがって、ユーザー名を変更する手順には、新規ユーザー・アカウントを作成する手順とほとんど同じくらい多くのステップがあります。
<P><H3><A NAME="Header_593" HREF="auagd002.htm#ToC_593">ユーザー名を変更する</A></H3>
<OL TYPE=1>
<A NAME="IDX7780"></A>
<A NAME="IDX7781"></A>
<LI>以下の特権のすべてを持つ AFS ID として認証します。標準構成では、<B>admin</B> ユーザー・アカウントがこれらすべての特権を持っています。または、またはユーザーが個人的な管理アカウントを持っている可能性があります (セルのセキュリティーを向上させるには、管理手順を実行するときだけ、特別な特権アカウントを作成して使用するとよいでしょう。詳細は、
<A HREF="auagd021.htm#HDRWQ807">管理権限の概要</A> を参照してください)。必要な場合、認証するために <B>klog</B> コマンドを発行します。
<P>
<PRE>   % <B>klog</B> <VAR>admin_user</VAR>
   Password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>次のリストは、必要な特権を指定し、それらの特権を所有しているかどうかを検査する方法を示しています。
<UL>
<LI><B>system:administrators</B> グループのメンバーシップ。必要な場合には、<B>pts membership</B> コマンドを発行してください。このコマンドの詳細は、<A HREF="auagd021.htm#HDRWQ810">system:administrators グループのメンバーの表示</A> を参照してください。
<P>
<PRE>   % <B>pts membership system:administrators</B>
   
</PRE>
</LI><LI><B>/usr/afs/etc/UserList</B> ファイルに組み込まれていること。必要な場合には、<B>bos listusers</B> コマンドを発行します。このコマンドについては、
<A HREF="auagd021.htm#HDRWQ816">UserList ファイルのユーザーの表示</A>で詳しく説明しています。
<P>
<PRE>   % <B>bos listusers</B> &lt;<VAR>machine name</VAR>>
</PRE>
</LI><LI>認証データベース項目の <TT>ADMIN</TT> フラグ。ただし、認証サーバーは独自の認証を実行するので、以下の説明では、
<B>kas</B> コマンド行自体に管理 ID を指定します。
</LI><LI>現行のマウント・ポイントまたは新規マウント・ポイントを削除するディレクトリーの ACL 上の<B>a</B> (<B>管理</B>)、<B>d</B> (<B>削除</B>)、および <B>i</B> (<B>挿入</B>) アクセス権。必要に応じて、<B>fs listacl</B> コマンドを発行します。これについては、<A HREF="auagd020.htm#HDRWQ788">ACL の表示</A> で詳しく説明しています。
<P>
<PRE>   % <B>fs listacl</B> [&lt;<VAR>dir/file path</VAR>>]
</PRE>
<P>
<P><B>system:administrators</B> グループのメンバーは、<B>a</B> (<B>管理</B>)、および、デフォルトで <B>l</B> (<B>検索</B>) アクセス権を、常にすべての ACL に暗黙的に持っています。また、必要に応じて <B>fs setacl</B> コマンドを使用して、他の権限を付与することができます。
</LI></UL>
</LI><LI><A NAME="LIWQ710"></A><B>pts listowned</B> を発行して、ユーザーが所有する任意のグループを表示する。
<A HREF="#LIWQ711">3</A> のステップで保護データベースのユーザー名を変更した後、
<B>pts rename</B> コマンドを発行して、各グループの所有者の接頭部を新しい名前に合わせて変更する必要があります。これは、保護サーバーが名前の変更を自動的に行わないためです。<B>pts listowned</B> コマンドの詳細な説明については、<A HREF="auagd019.htm#HDRWQ747">保護データベースからの情報の表示</A>を参照してください。
<P>
<PRE>   % <B>pts listowned</B> &lt;<VAR>user or group name or id</VAR>>
</PRE>
</LI><LI><A NAME="LIWQ711"></A><B>pts rename</B> コマンドを発行して、保護データベースのユーザー名を変更します。
<P>
<PRE>   % <B>pts rename</B> &lt;<VAR>old name</VAR>> &lt;<VAR>new name</VAR>>
</PRE>
</LI><LI><B>pts rename</B> コマンドを発行して、<A HREF="#LIWQ710">2</A> のステップでメモしたグループ名を変更し、グループの所有者の接頭部
(コロンの前のグループ名の一部) が所有者の新しい名前を正確に反映するようにします。
<P>
<P>各グループごとにコマンドを繰り返します。その構文についての説明は、
<A HREF="#LIWQ711">3</A> のステップにあります。
<P>
<PRE>   % <B>pts rename</B> &lt;<VAR>old name</VAR>> &lt;<VAR>new name</VAR>>
</PRE>
</LI><LI><B>kas</B> コマンドを発行して対話モードに入ります。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas -admin</B> &lt;<VAR>admin principal to use for authentication</VAR>>  
   Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
   ka>
</PRE>
<P>
<P><B>-admin</B> は、認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します (<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
<A NAME="IDX7782"></A>
<A NAME="IDX7783"></A>
</LI><LI><B>(kas) delete</B> コマンドを発行して、ユーザーの既存の認証データベース項目を削除します。
<P>
<P>
<PRE>   ka> <B>delete</B> &lt;<VAR>name of user</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>del
</B><DD><B>delete</B> の受け入れ可能な省略形です。または別名 <B>rm</B> を使用することもできます。
<P><DT><B><VAR>name of user</VAR>
</B><DD>削除する認証データベース項目を指定します。
</DL>
<A NAME="IDX7784"></A>
<A NAME="IDX7785"></A>
</LI><LI><B>(kas) create</B> コマンドを発行して、新規ユーザー名の認証データベース項目を作成します。ユーザーの新規パスワードが画面に表示されるのを防ぐには、<B>-initial_password</B> 引き数を組み込まないでください。代わりに、以下の構文仕様に示すように、プロンプトが表示されたときにパスワードを入力します。
<P>
<PRE>   ka> <B>create</B>  &lt;<VAR>name of user</VAR>>
   initial_password: <VAR>password</VAR>
   Verifying, please re-enter initial_password: <VAR>password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>cr
</B><DD>は、<B>create</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>name of user</VAR>
</B><DD>新規ユーザー名を指定します。
<P><DT><B><VAR>password</VAR>
</B><DD>新規ユーザー・アカウントのパスワードを指定します。ユーザーが現行パスワードをユーザーに通知する場合は、それを保存することができます。通知しない場合は、いくつかアプリケーションで課される長さの制限に準拠するように、8 文字以下の文字列を与えます。初期パスワードには、ユーザー名、社会保障番号などの個人 ID 番号からの数字の文字列、または <B>changeme</B> などの標準文字列を使用することができます。しかし、<I>AFS 使用者の手引き</I> に説明されるように <B>kpasswd</B> コマンドを使用して、できるだけ早くこの文字列を本当の秘密のパスワードに変更させるようにユーザーに指示して下さい。
</DL>
</LI><LI><B>quit</B> コマンドを発行して、対話モードを終了します。
<P>
<PRE>   ka> <B>quit</B>
</PRE>
<A NAME="IDX7786"></A>
<A NAME="IDX7787"></A>
<A NAME="IDX7788"></A>
<A NAME="IDX7789"></A>
<A NAME="IDX7790"></A>
</LI><LI><A NAME="LIWQ712"></A><B>vos rename</B> コマンドを発行して、ユーザーのボリュームの名前を変更します。完全な構文については、<A HREF="auagd010.htm#HDRWQ332">ボリュームの名前変更</A> を参照してください。
<P>
<PRE>   % <B>vos rename</B>  &lt;<VAR>old volume name</VAR>>  &lt;<VAR>new volume name</VAR>>
</PRE>
<A NAME="IDX7791"></A>
<A NAME="IDX7792"></A>
<A NAME="IDX7793"></A>
<A NAME="IDX7794"></A>
<A NAME="IDX7795"></A>
</LI><LI><A NAME="LIWQ713"></A><B>fs rmmount</B> コマンドを発行して、既存のマウント・ポイントを削除します。<VAR>directory</VAR> 引き数の場合、マウント・ポイントに読み取り / 書き込みパスを指定して、読み取り専用ボリューム内からマウント・ポイントを削除しようとするときに障害が発生するのを防ぎます。
<PRE>   % <B>fs rmmount</B> &lt;<VAR>directory</VAR>>
</PRE>
<A NAME="IDX7796"></A>
<A NAME="IDX7797"></A>
<A NAME="IDX7798"></A>
</LI><LI><A NAME="LIWQ714"></A><B>fs mkmount</B> コマンドを発行して、ボリュームの新規名に対するマウント・ポイントを作成します。前のステップに従って、<VAR>directory</VAR> 引き数のマウント・ポイントに対して、読み取り / 書き込みパスを指定します。完全な構文については、<A HREF="#HDRWQ694">個別のコマンドを使用して単一ユーザー・アカウントを作成する</A> 内の <A HREF="#LIWQ700">6</A> のステップを参照してください。
<PRE>   % <B>fs mkmount</B> &lt;<VAR>directory</VAR>> &lt;<VAR>volume name</VAR>>
</PRE>
</LI><LI><A HREF="#LIWQ713">10</A> のステップと <A HREF="#LIWQ714">11</A> のステップで行われた変更が、複写されたボリューム内に常駐しているマウント・ポイントに対する変更の場合は、
<A HREF="auagd010.htm#HDRWQ280">読み取り / 書き込みボリュームの複写 (読み取り専用ボリュームの作成)</A> で説明しているように、
<B>vos release</B> コマンドを使用してそのボリュームを解放します。
<PRE>   
   % <B>vos release</B> &lt;<VAR>volume name or ID</VAR>>
   
</PRE>
<P>
<TABLE><TR><TD ALIGN="LEFT" VALIGN="TOP"><B>注:</B></TD><TD ALIGN="LEFT" VALIGN="TOP">このステップは、ホーム・ディレクトリーの親ディレクトリーが、複写されたボリュームのマウント・ポイントではなくても、必要な場合があります
(また、そのようなケースでは、このステップを実行した方が監視が容易です)。たとえば、ABC Corporation テンプレートは、
<B>/afs/abc.com/usr</B> ディレクトリー内のユーザー・ボリュームにマウント・ポイントを置きます。このディレクトリーは、マウント・ポイントというよりは通常のディレクトリーですので、
<B>/afs/abc.com</B> ディレクトリーに取り付けられた
<B>root.cell</B> ボリューム内に常駐します。このボリュームは複写ですので、変更されたら、管理者は <B>vos release</B> コマンドを発行する必要があります。
</TD></TR></TABLE>
</LI></OL>
<HR><H2><A NAME="HDRWQ715" HREF="auagd002.htm#ToC_594">ユーザー・アカウントの削除</A></H2>
<A NAME="IDX7799"></A>
<A NAME="IDX7800"></A>
<P>アカウントを削除する前に、テープなどの永久媒体上にユーザーのホーム・ボリュームのバックアップ・コピーを作成するのが最適の方法です。複数のアカウントを削除する必要がある場合は、おそらく、
<B>uss delete</B> コマンドを代わりに使用する方がより効率的です。<A HREF="auagd017.htm#HDRWQ658">uss delete コマンドによる個別アカウントの削除</A> を参照してください。
<P><H3><A NAME="Header_595" HREF="auagd002.htm#ToC_595">ユーザー・アカウントを削除する</A></H3>
<OL TYPE=1>
<LI>以下の特権のすべてを持つ AFS ID として認証します。標準構成では、<B>admin</B> ユーザー・アカウントがこれらすべての特権を持っています。または、またはユーザーが個人的な管理アカウントを持っている可能性があります (セルのセキュリティーを向上させるには、管理手順を実行するときだけ、特別な特権アカウントを作成して使用するとよいでしょう。詳細は、
<A HREF="auagd021.htm#HDRWQ807">管理権限の概要</A> を参照してください)。必要な場合、認証するために <B>klog</B> コマンドを発行します。
<P>
<PRE>   % <B>klog</B> <VAR>admin_user</VAR>
   Password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>次のリストは、必要な特権を指定し、それらの特権を所有しているかどうかを検査する方法を示しています。
<UL>
<LI><B>system:administrators</B> グループのメンバーシップ。必要な場合には、<B>pts membership</B> コマンドを発行してください。このコマンドの詳細は、<A HREF="auagd021.htm#HDRWQ810">system:administrators グループのメンバーの表示</A> を参照してください。
<P>
<PRE>   % <B>pts membership system:administrators</B>
   
</PRE>
</LI><LI><B>/usr/afs/etc/UserList</B> ファイルに組み込まれていること。必要な場合には、<B>bos listusers</B> コマンドを発行します。このコマンドについては、
<A HREF="auagd021.htm#HDRWQ816">UserList ファイルのユーザーの表示</A>で詳しく説明しています。
<P>
<PRE>   % <B>bos listusers</B> &lt;<VAR>machine name</VAR>>
</PRE>
</LI><LI>認証データベース項目の <TT>ADMIN</TT> フラグ。ただし、認証サーバーは独自の認証を実行するので、以下の説明では、
<B>kas</B> コマンド行自体に管理 ID を指定します。
</LI><LI>ユーザー・ボリュームのマウント・ポイントを削除する予定のディレクトリーの ACL 上での <B>d</B> (<B>削除</B>) アクセス権。必要に応じて、<B>fs listacl</B> コマンドを発行します。これについては、<A HREF="auagd020.htm#HDRWQ788">ACL の表示</A> で詳しく説明しています。
<P>
<PRE>   % <B>fs listacl</B> [&lt;<VAR>dir/file path</VAR>>]
</PRE>
<P>
<P><B>system:administrators</B> グループのメンバーは、<B>a</B> (<B>管理</B>)、および、デフォルトで <B>l</B> (<B>検索</B>) アクセス権を、常にすべての ACL に暗黙的に持っています。また、必要に応じて <B>fs setacl</B> コマンドを使用して、他の権限を付与することができます。
</LI></UL>
</LI><LI><B>(オプション)</B>。ユーザーのアカウントの復元を将来必要とする可能性がある場合は、ユーザー名と AFS UID を、できればその目的専用に指定したファイルにメモしておきます。将来、そのアカウントを、元の AFS UID に復元することができます。
AFS UID.
</LI><LI><B>(オプション)</B>。ユーザーのボリューム内容をテープに保管します。
<A HREF="auagd010.htm#HDRWQ326">ボリュームのダンプおよび復元</A> で説明されている <B>vos dump</B> コマンドか、
<A HREF="auagd012.htm#HDRWQ412">データのバックアップ</A> で説明されている AFS バックアップ・システムを使用することができます。
</LI><LI><A NAME="LIWQ716"></A><B>(オプション)</B>。ユーザーの項目を削除した後で、ユーザーが所有するグループを保護データベースから削除したい場合は、
<B>pts listowned</B> コマンドを発行して、それらのグループを表示します。詳しい手順については、
<A HREF="auagd019.htm#HDRWQ747">保護データベースからの情報の表示</A>を参照してください。
<P>
<PRE>   % <B>pts listowned</B> &lt;<VAR>user or group name or id</VAR>>
</PRE>
</LI><LI><A NAME="LIWQ717"></A>(<B>オプション)</B>。<B>pts delete</B> コマンドを発行して、ユーザーが所有するグループを削除します。ただし、ほかのユーザーが、所有するディレクトリーの ACL 上にそのグループを配置することを予定している場合、そのグループを削除しない方がよいでしょう。
<P>
<PRE>   % <B>pts delete</B> &lt;<VAR>user or group name or id</VAR>><SUP>+</SUP>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>del
</B><DD>は、<B>delete</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>user or group name or id</VAR>
</B><DD><A HREF="#LIWQ716">4</A> のステップからの出力に表示される各グループの名前または AFS UID を指定します。
</DL>
<A NAME="IDX7801"></A>
<A NAME="IDX7802"></A>
<A NAME="IDX7803"></A>
</LI><LI><B>kas delete</B> コマンドを発行して、ユーザーの認証データベース項目を削除します。
<P>
<P>認証サーバーは、既存の AFS トークンを受け入れるのではなく、独自の認証を実行します。デフォルトでは、認証サーバーは、管理者のローカル (UNIX) 識別を認証します。この識別は AFS 特権管理者に対応しません。
<B>-admin</B> 引き数を組み込み、認証データベース項目に <TT>ADMIN</TT> フラグを持つ識別を指定します。項目にフラグがあることを確認するには、
<A HREF="auagd021.htm#HDRWQ813">ADMIN フラグがオンになっていることを確認する</A>で説明するように、<B>kas  examine</B> コマンドを発行します。
<P>
<PRE>   % <B>kas delete</B> &lt;<VAR>name of user</VAR>> \
                <B>-admin</B>  &lt;<VAR>admin principal to use for authentication</VAR>>  
   Administrator's (<VAR>admin_user</VAR>) password: <VAR>admin_password</VAR>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>d
</B><DD>は、<B>delete</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>name of user</VAR>
</B><DD>削除する認証データベース項目を指定します。
<P><DT><B>-admin
</B><DD>認証データベース項目に <TT>ADMIN</TT> フラグを持つ管理アカウントを指定します
(<B>admin</B> など)。password プロンプトはアカウントを <VAR>admin_user</VAR> として表示します。適切なパスワードを、<VAR>admin_password</VAR> として入力します。
</DL>
</LI><LI><A NAME="LIWQ718"></A><B>vos listvldb</B> コマンドを発行して、ユーザーのホーム・ボリュームのサイトを削除に備えて表示します。規則では、ユーザー・ボリュームは、<B>user</B>.<VAR>username</VAR> と命名されています。
<P>
<PRE>   % <B>vos listvldb</B> &lt;<VAR>volume name or ID</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>listvl
</B><DD>は、<B>listvldb</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>volume name or ID</VAR>
</B><DD>ボリューム名またはボリューム ID を指定します。
</DL>
<A NAME="IDX7804"></A>
<A NAME="IDX7805"></A>
<A NAME="IDX7806"></A>
<A NAME="IDX7807"></A>
</LI><LI><A NAME="LIWQ719"></A><B>vos remove</B> コマンドを発行し、ユーザーのボリュームを削除します。バックアップが存在する場合、このコマンドは自動的にバックアップ・バージョンを削除します。ユーザー・ボリュームを複写するのは標準的方法ではないので、このコマンドは、通常、ボリュームの項目をボリューム・ロケーション・データベース (VLDB) から完全に削除します。ボリュームの読み取り専用レプリカがある場合、<B>vos remove</B> コマンドを繰り返し実行して、１つずつ順番に削除する必要があります。
<P>
<PRE>   % <B>vos remove</B> &lt;<VAR>machine name</VAR>> &lt;<VAR>partition name</VAR>> &lt;<VAR>volume name or ID</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>remo
</B><DD>は、<B>remove</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>machine name</VAR>
</B><DD><A HREF="#LIWQ718">7</A> のステップからの出力で指定されるように、ボリュームが存在するファイル・サーバー・マシンを指定します。
<P><DT><B><VAR>partition name</VAR>
</B><DD><A HREF="#LIWQ718">7</A> のステップからの出力で指定されるように、ボリュームが存在するパーティションを指定します。
<P><DT><B><VAR>volume name or ID</VAR>
</B><DD>ボリューム名またはボリューム ID を指定します。
</DL>
<A NAME="IDX7808"></A>
<A NAME="IDX7809"></A>
<A NAME="IDX7810"></A>
<A NAME="IDX7811"></A>
</LI><LI><A NAME="LIWQ720"></A><B>fs rmmount</B> コマンドを発行して、ボリュームのマウント・ポイントを削除します。
<P>
<P>ユーザーのバックアップ・ボリュームがホーム・ディレクトリーのサブディレクトリーとして取り付けられている場合、そのバックアップ・バージョンも同時に取り付け解除されます。バックアップ・バージョンを、ファイル・スペースと関係のない位置に取り付けている場合は、バックアップ・バージョン用に <B>fs rmmount</B> コマンドを繰り返し実行します。
<P>
<PRE>   % <B>fs rmmount</B> &lt;<VAR>directory</VAR>>
</PRE>
<P>
<P>ここで、
<P>
<DL>
<P><DT><B>rmm
</B><DD>は、<B>rmmount</B> の受け入れ可能な省略形です。
<P><DT><B><VAR>directory</VAR>
</B><DD>前のボリューム名に対するマウント・ポイント (つまり、前のホーム・ディレクトリー) を指定します。パス名の一部は、現行作業ディレクトリーとの関連で解釈されます。
<P>
<P>マウント・ポイントに読み取り / 書き込みパスを指定して、読み取り専用ボリューム内からマウント・ポイントを削除しようとするときに障害が発生するのを防ぎます。規則では、パス名の第 2 レベルのセル名の前にピリオドを付けて、読み取り / 書き込みパスを指定します (たとえば、
<B>/afs/.abc.com</B>)。ファイル・スペースの読み取り / 書き込みパス、および読み取り専用パスの概念についての詳細は、
<A HREF="auagd010.htm#HDRWQ294">ボリュームの取り付け</A> を参照してください
</DL>
<A NAME="IDX7812"></A>
<A NAME="IDX7813"></A>
<A NAME="IDX7814"></A>
<A NAME="IDX7815"></A>
</LI><LI><A NAME="LIWQ721"></A><B>pts delete</B> コマンドを発行して、ユーザーの保護データベース項目を削除します。このコマンドについての詳細な説明は、<A HREF="#LIWQ717">5</A> のステップにあります。
<P>
<PRE>   % <B>pts delete</B> &lt;<VAR>user or group name or id</VAR>>
</PRE>
</LI><LI>削除されたユーザー・ホーム・ディレクトリーが複写されたボリューム内に常駐していた場合は、
<A HREF="auagd010.htm#HDRWQ280">読み取り / 書き込みボリュームの複写 (読み取り専用ボリュームの作成)</A> で説明しているように、
<B>vos release</B> コマンドを使用してそのボリュームを解放します。
<P>
<PRE> 
      % <B>vos release</B> &lt;<VAR>volume name or ID</VAR>>
 
</PRE>
<P>
<TABLE><TR><TD ALIGN="LEFT" VALIGN="TOP"><B>注:</B></TD><TD ALIGN="LEFT" VALIGN="TOP">このステップは、ホーム・ディレクトリーの親ディレクトリーが、複写されたボリュームのマウント・ポイントではなくても、必要な場合があります
(また、そのようなケースでは、このステップを実行した方が監視が容易です)。たとえば、ABC Corporation テンプレートは、
<B>/afs/abc.com/usr</B> ディレクトリー内のユーザー・ボリュームにマウント・ポイントを置きます。このディレクトリーは、マウント・ポイントというよりは通常のディレクトリーですので、
<B>/afs/abc.com</B> ディレクトリーに取り付けられた
<B>root.cell</B> ボリューム内に常駐します。このボリュームは複写ですので、マウント・ポイントの削除によって変更されたら、管理者は、
<B>vos release</B> コマンドを発行する必要があります。
</TD></TR></TABLE>
</LI></OL>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auagd017.htm">前ページ</A> &#124; <A HREF="auagd019.htm">次ページ</A> &#124; <A HREF="auagd002.htm#ToC">目次</A> &#124; <A HREF="auagd026.htm#HDRINDEX">索引</A> &#93;</B> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved<!-- 991224 --> 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
