<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRVOS_DELENTRY" HREF="auarf002.htm#ToC_273">vos delentry</A></H2>
<A NAME="IDX5638"></A>
<A NAME="IDX5639"></A>
<A NAME="IDX5640"></A>
<A NAME="IDX5641"></A>
<P><STRONG>目的</STRONG>
<P>VLDB からボリューム項目を削除します。
<P><STRONG>構文</STRONG>
<PRE><B>vos delentry</B> [<B>-id</B> &lt;<VAR>volume name or ID</VAR>><SUP>+</SUP>]
             [<B>-prefix</B> &lt;<VAR>prefix of volume whose VLDB entry is to be deleted</VAR>>] 
             [<B>-server</B> &lt;<VAR>machine name</VAR>>]  [<B>-partition</B> &lt;<VAR>partition name</VAR>>]  
             [<B>-cell</B> &lt;<VAR>cell name</VAR>>]  [<B>-noauth</B>]  [<B>-localauth</B>]  [<B>-verbose</B>]  [<B>-help</B>]
     
<B>vos de</B> [<B>-i</B> &lt;<VAR>volume name or ID</VAR>><SUP>+</SUP>]
       [<B>-pr</B> &lt;<VAR>prefix of volume whose VLDB entry is to be deleted</VAR>>]  
       [<B>-s</B> &lt;<VAR>machine name</VAR>>]  [<B>-pa</B> &lt;<VAR>partition name</VAR>>]  [<B>-c</B> &lt;<VAR>cell name</VAR>>] 
       [<B>-n</B>]  [<B>-l</B>]  [<B>-v</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>vos delentry</B> コマンドは、指定されたボリュームの項目をボリューム・ロケーション・データベース (VLDB) から削除します。指定されるボリュームは、3 つのタイプ (読み取り / 書き込み、読み取り専用、またはバックアップ) を取り得ますが、そのタイプに関係なく、項目全体が削除されます。このコマンドを実行しても、ファイル・サーバー・マシンに実際にあるボリュームには影響を及ぼしません。
<P>ボリュームを削除しても VLDB が更新されず (<B>vos zap</B> コマンドが使用された可能性があるため)、システム管理者が <B>vos syncserv</B> および <B>vos syncvldb</B> コマンドを使用して、ファイル・サーバー・マシン全体の同期化を行う必要がある場合に、このコマンドは有効です。
<P>単一ボリュームの項目を VLDB から削除する場合には、<B> -id</B> 引き数を使用してください。ボリュームのグループを削除する場合には、<B> -prefix</B>、<B>-server</B>、および <B>-partition</B> 引き数を組み合わせて使用してください。次のリストでは、指示されたグループのボリュームについて、VLDB 項目を削除する方法を説明します。
<UL>
<LI>名前が特定の文字列 (たとえば、<B>sys.</B> または <B>user.</B> など) で始まるすべてのボリュームの場合。
<B>-prefix</B> 引き数を使用します。
</LI><LI>VLDB で特定のファイル・サーバー・マシン上のサイトがリストされているすべてのボリューム。
<B>-server</B> 引き数でファイル・サーバーの名前を指定します。
</LI><LI>VLDB で同じ名前の区画 (たとえば、任意のファイル・サーバー・マシンの <B>/vicepa</B> 区画) のサイトがリストされているすべてのボリューム。
<B>-partition</B> 引き数で区画名を指定します。
</LI><LI>VLDB で 1 つのファイル・サーバー・マシンの特定の区画にあるサイトがリストされているすべてのボリューム。
<B>-server</B> 引き数と <B>-partition</B> 引き数の両方を指定します。
</LI><LI>名前が特定の接頭部で始まり、VLDB でファイル・サーバー・マシンのサイトがリストされているすべてのボリューム。
<B> -prefix</B> および <B>-server</B> 引き数を組み合わせます。
<B>-prefix</B> 引き数を <B>-partition</B> 引き数と組み合わせたり、
<B>-server</B> および <B>-partition</B> の両方の引き数と組み合わせて、特定のボリューム・グループを削除することができます。
</LI></UL>
<P><STRONG>注意</STRONG>
<P>通常の状況では、このコマンドを使用してボリュームを削除しないでください。このコマンドは、ファイル・サーバー・マシンからボリュームを削除しないので、サーバー・マシンのボリュームの状況と VLDB が一致しなくなる可能性があります。ボリュームおよびボリュームの VLDB 項目の両方を削除する場合には、<B>vos remove</B> コマンドを使用してください。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-id
</B><DD>VLDB から項目を削除するボリュームの完全名およびボリューム ID 番号を指定します。このコマンドは、読み取り / 書き込み、読み取り専用、またはバックアップ・バージョンのいずれが指定されているのかにかかわらず、項目全体を削除します。この引き数は、<B>-prefix</B>、<B>-server</B>、および <B>-partition</B> 引き数と組み合わせて使用することができます。
<P><DT><B>-prefix
</B><DD>任意の長さの文字列を指定します。名前がこの文字列で始まるボリュームの項目が VLDB から削除されます。必要であれば、フィールド区切り記号 (ピリオドなど) を入れてください。この引き数は、<B> -server</B> 引き数または <B>-partition</B> 引き数 (あるいはその両方) と一緒に使用してください。
<P><DT><B>-server
</B><DD>ファイル・サーバー・マシンを指定します。ボリュームの VLDB 項目に、このマシンのサイトがリストされていると、この項目が削除されます。マシンの IP アドレスまたはホスト名 (完全修飾名またはあいまいでない省略形) を指定します。詳細については、<B>vos</B> コマンド・セットの解説ページを参照してください。
<P>
<P>この引き数は、<B>-prefix</B> 引き数または <B>-partition</B> 引き数 (あるいはその両方) と一緒に使用してください。
<P><DT><B>-partition
</B><DD>区画を指定します。ボリュームの VLDB 項目に、この区画のサイトがリストされていると、この項目が削除されます。名前の前にスラッシュを付けて完全な区画名を指定するか (たとえば、<B>/vicepa</B>)、または使用可能な 3 つの省略形のいずれかを使用してください。詳細については、<B>vos</B> コマンド・セットの解説ページを参照してください。
<P>
<P>この引き数は、<B>-prefix</B> 引き数または <B>-server</B> 引き数 (あるいはその両方) と一緒に使用してください。
<P><DT><B>-cell
</B><DD>コマンドを実行するセルを指定します。この引き数は、
<B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-noauth
</B><DD>コマンドの発行側に非特権 ID <B>anonymous</B> を割り当てます。このフラグは <B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-localauth
</B><DD>ローカルの <B>/usr/afs/etc/KeyFile</B> ファイルのキーを使用して、サーバー・チケットを構成します。相互認証の間、<B>vos</B> コマンド・インタープリターは、ボリューム・サーバーおよびボリューム・ロケーション・サーバーに、このチケットを提供します。このフラグは、<B>-cell</B> 引き数、または <B>-noauth</B> フラグと一緒に使用してはなりません。詳細については、<B>vos</B> の解説ページを参照してください。
<P><DT><B>-verbose
</B><DD>標準出力ストリームに、コマンド実行の詳細なトレースを出力します。この引き数を省略すると、警告およびエラー・メッセージだけが表示されます。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>出力</STRONG>
<P>次のメッセージにより、削除された VLDB 項目数が示され、コマンドが成功したことが確認できます。
<PRE>   Deleted <VAR>number</VAR> VLDB entries
   
</PRE>
<P><STRONG>例</STRONG>
<P>次のコマンドは、ボリューム <B> user.temp</B> の項目を VLDB から削除しています。
<PRE>   % <B>vos delentry user.temp</B>
   
</PRE>
<P>次のコマンドは、VLDB でファイル・サーバー・マシン <B>fs3.abc.com</B> のサイトがリストされ、名前が <B>test</B> で始まるボリュームの項目を VLDB から削除しています。
<PRE>   % <B>vos delentry -prefix test -server fs3.abc.com</B>
   
</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行側は、<B>-server</B> 引き数に指定されたマシン、および各データベース・サーバー・マシン上の <B>/usr/afs/etc/UserList</B> ファイルにリストされていなければなりません。<B>-localauth</B> フラグを使用する場合には、コマンドの発行側が、ローカル・スーパーユーザー <B>root</B> として、サーバー・マシンにログオンする必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf252.htm#HDRVOS_INTRO">vos</A>
<P><A HREF="auarf271.htm#HDRVOS_REMOVE">vos remove</A>
<P><A HREF="auarf276.htm#HDRVOS_SYNCSERV">vos syncserv</A>
<P><A HREF="auarf277.htm#HDRVOS_SYNCVLDB">vos syncvldb</A>
<P><A HREF="auarf280.htm#HDRVOS_ZAP">vos zap</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf258.htm">前ページ</A> &#124; <A HREF="auarf260.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
