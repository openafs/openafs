<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRBOS_LISTKEYS" HREF="auarf002.htm#ToC_121">bos listkeys</A></H2>
<A NAME="IDX4563"></A>
<A NAME="IDX4564"></A>
<A NAME="IDX4565"></A>
<A NAME="IDX4566"></A>
<A NAME="IDX4567"></A>
<A NAME="IDX4568"></A>
<A NAME="IDX4569"></A>
<P><STRONG>目的</STRONG>
<P><B>/usr/afs/etc/KeyFile</B> ファイルのサーバー暗号化キーを表示します。
<P><STRONG>構文</STRONG>
<PRE><B>bos listkeys -server</B> &lt;<VAR>machine name</VAR>>  [<B>-showkey</B>]  [<B>-cell</B> &lt;<VAR>cell name</VAR>>]  
             [<B>-noauth</B>]  [<B>-localauth</B>]  [<B>-help</B>]
   
<B>bos listk -se</B> &lt;<VAR>machine name</VAR>>  [<B>-sh</B>]  [<B>-c</B> &lt;<VAR>cell name</VAR>>]  [<B>-n</B>]  [<B>-l</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>構文</STRONG>
<P><B>bos listkeys</B> コマンドは、<B>-server</B> 引き数に指定されたサーバー・マシンの <B>/usr/afs/etc/KeyFile</B> ファイルのサーバー暗号化キーのリストを書式化して、表示します。
<P>キーのリストを編集する場合には、<B>bos addkey</B> および <B>bos removekey</B> コマンドを使用してください。
<P><STRONG>注意</STRONG>
<P>(<B>-showkey</B> フラグを指定すると)、標準出力ストリームに実際のキーが表示されるため、セキュリティーが公開されます。たいていの目的には、チェックサムの表示で十分です。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B><B>-server</B>
</B><DD><B>KeyFile</B> ファイルを表示するサーバー・マシンを指定します。
IP アドレスまたはホスト名 (完全修飾名または省略形) によってマシンを識別します。詳細については、<B>bos</B> コマンド・セットの概要の解説ページを参照してください。
<P>
<P>セル内のパフォーマンスを一定にするには、どのサーバー・マシンでも出力が同じになっていなければなりません。マシンを同期化する方法については、<B>bos addkey</B> の解説ページを参照してください。
<P><DT><B><B>-showkey</B>
</B><DD>それぞれのキーを構成する 8 進数を表示します。
<P><DT><B><B>-cell</B>
</B><DD>コマンドを実行するセルを指定します。この引き数は、
<B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>bos</B> の解説ページを参照してください。
<P><DT><B><B>-noauth</B>
</B><DD>コマンドの発行側に非特権 ID <B>anonymous</B> を割り当てます。このフラグは <B>-localauth</B> フラグと一緒に使用してはなりません。詳細については、<B>bos</B> の解説ページを参照してください。
<P><DT><B><B>-localauth</B>
</B><DD>ローカルの <B>/usr/afs/etc/KeyFile</B> ファイルのキーを使用して、サーバー・チケットを構成します。
<B>bos</B> コマンド・インタープリターは、相互認証中に、このチケットを BOS サーバーに渡します。このフラグは、<B>-cell</B> 引き数または <B>-noauth</B> フラグと一緒に使用してはなりません。詳細については、<B>bos</B> の解説ページを参照してください。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>出力</STRONG>
<P>出力には、<B>KeyFile</B> ファイルにある、キー・バージョン番号で識別される各サーバー暗号化キーが、それぞれ 1 行に表示されます。
<P><B>-showkey</B> フラグが組み込まれている場合には、キーを構成する実際の 8 桁の 8 進数文字列が表示されます。それぞれの 8 進数は、バックスラッシュと 3 桁の 10 進の数字です。
<P><B>-showkey</B> フラグが組み込まれていない場合には、各キーはチェックサム として表示されます。チェックサムは、キーを定数として暗号化して得られた 10 進数です。
<P>キーまたはチェックサムのリストの後に、<TT>Keys last changed</TT> という文字列が続き、キーが最後に <B>KeyFile</B> ファイルに追加された時刻が示されます。
<TT>All done</TT> という文字は、出力の最後を示しています。
<P>相互認証を正しく機能させるには、<B>kas examine afs</B> コマンドの出力のキーまたはチェックサムと、このコマンドの出力の同じキー・バージョン番号が一致していなければなりません。
<P><STRONG>例</STRONG>
<P>次の例は、マシン <B>fs3.abc.com</B> の <B>KeyFile</B> ファイルに格納されているキーのチェックサムを示しています。
<PRE>   % <B>bos listkeys fs3.abc.com</B>
   key 1 has cksum 972037177
   key 3 has cksum 2825175022
   key 4 has cksum 260617746
   key 6 has cksum 4178774593
   Keys last changed on Mon Apr 12 11:24:46 1999.
   All done.
    
</PRE>
<P>次の例では、マシン <B>fs6.abc.com</B> の <B>KeyFile</B> ファイルにある実際のキーが表示されています。
<PRE>   % <B>bos listkeys fs6.abc.com -showkey</B>
   key 0 is '\040\205\211\241\345\002\023\211'
   key 1 is '\343\315\307\227\255\320\135\244'
   key 2 is '\310\310\255\253\326\236\261\211'
   Keys last changed on Wed Mar 31 11:24:46 1999.
   All done.
   
</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行側は、<B>-server</B> 引き数で指定されたマシンの <B>/usr/afs/etc/UserList</B> ファイルにリストされているか、または <B>-localauth</B> フラグが使用されている場合は、ローカル・スーパーユーザー <B>root</B> としてサーバー・マシンにログオンしている必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf023.htm#HDRKEYFILE">KeyFile</A>
<P><A HREF="auarf035.htm#HDRUSERLIST">UserList</A>
<P><A HREF="auarf095.htm#HDRBOS_ADDKEY">bos addkey</A>
<P><A HREF="auarf111.htm#HDRBOS_REMOVEKEY">bos removekey</A>
<P><A HREF="auarf115.htm#HDRBOS_SETAUTH">bos setauth</A>
<P><A HREF="auarf185.htm#HDRKAS_EXAMINE">kas examine</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf106.htm">前ページ</A> &#124; <A HREF="auarf108.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
