<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRUP" HREF="auarf002.htm#ToC_253">up</A></H2>
<A NAME="IDX5493"></A>
<A NAME="IDX5494"></A>
<A NAME="IDX5495"></A>
<P><STRONG>目的</STRONG>
<P>送信元ディレクトリーの内容をあて先ディレクトリーに再帰的にコピーします。
<P><STRONG>構文</STRONG>
<PRE><B>up</B> [<B>-v</B>]  [<B>-1</B>]  [<B>-f</B>]  [<B>-r</B>]  [<B>-x</B>]  &lt;<VAR>source directory</VAR>>  &lt;<VAR>destination directory</VAR>>
</PRE>
<P>このコマンドは、AFS コマンド・セットの構文規則に準拠していません。コマンド名およびすべてのオプション名は省略せずにすべて指定してください。
<P><STRONG>構文</STRONG>
<P><B>up</B> コマンドは、指定された送信元ディレクトリーのファイルおよびサブディレクトリーを、指定されたあて先ディレクトリーに繰り返しコピーします。コマンド・インタープリターは、次の方法で、あて先ディレクトリーおよびあて先ディレクトリーのファイルおよびサブディレクトリーを変更します。
<UL>
<LI>送信元ディレクトリーのアクセス制御リスト (ACL) をあて先ディレクトリーまたはそのサブディレクトリーにコピーします。このとき、既存の ACL は上書きされます。
</LI><LI>発行側がローカル・スーパーユーザー <B>root</B> としてログオンし、
<B>system:administrators</B> グループのメンバーとしての AFS トークンを持つ場合は、送信元ディレクトリーの所有者 (<B>ls -ld</B> コマンドで表示される)は、あて先ディレクトリーおよびあて先ディレクトリーのすべてのファイルおよびサブディレクトリーの所有者になります。そうでない場合には、発行側のユーザー名は所有者として記録されます。
</LI><LI>ファイルまたはディレクトリーが、送信元とあて先の両方のディレクトリーに存在する場合、送信元のバージョンであて先のバージョンが上書きされます。上書きオペレーションは、<B>-f</B> フラグが指定されていなければ、最初 (ユーザー) の <B>w</B> (<B>write</B>) モード・ビットが、あて先ディレクトリーのバージョンでオフになると失敗します。
</LI><LI>送信元ディレクトリーにあるファイルの修正タイム・スタンプ (<B>ls -l</B> コマンドで表示される) は、あて先ディレクトリーにある同名のファイルのタイム・スタンプを上書きしますが、あて先ディレクトリーに存在するサブディレクトリーのタイム・スタンプは変更されません。このコマンドであて先ディレクトリーに新規サブディレクトリーを作成する場合、新規サブディレクトリーのタイム・スタンプには、コピー操作ではなく、送信元ディレクトリーのサブディレクトリーのタイム・スタンプが設定されます。
</LI></UL>
<P><B>up</B> コマンドは再現性があります。コマンドの実行中にネットワーク、サーバー・マシン、またはプロセスが停止して中断すると、次にコマンドを発行したときに、中断した地点から処理が再開されます。これにより、類似する機能を持つ UNIX コマンドと比較して、時間を節約することができ、ネットワーク通信量を削減できます。
<P><B>up</B> コマンドは、成功した場合にのみ <B>0</B> (ゼロ) を戻します。そうでない場合は、状況コード <B>1</B> を戻します。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-v
</B><DD>コマンド実行時に、標準出力ストリームに詳細トレースを出力します。
<P><DT><B>-1
</B><DD>最上位の送信元ディレクトリーのファイルだけをあて先ディレクトリーにコピーします。サブディレクトリーのファイルはコピーされません。送信元ディレクトリーの ACL は、あて先ディレクトリー 1 の ACL を上書きします。
(これは番号の 1 であり、文字の <B>l</B> ではありません。)
<P><DT><B>-f
</B><DD>最初 (ユーザー) の <B>w</B> (<B>write</B>) モード・ビットが、あて先ディレクトリーのバージョンでオフであっても、既存のディレクトリー、サブディレクトリー、およびファイルを上書きします。
<P><DT><B>-r
</B><DD>あて先ディレクトリーおよびサブディレクトリーに上書きされたすべてのファイルのバックアップ・コピーを作成し、ファイル名に <B>.old</B> という拡張子を追加します。
<P><DT><B>-x
</B><DD>各ファイルの修正タイム・スタンプにコピー操作の時間を設定します。
<P><DT><B><VAR>source directory</VAR>
</B><DD>再帰的コピーをするディレクトリー名を指定します。
<P><DT><B><VAR>destination directory</VAR>
</B><DD>コピーするディレクトリー名を指定します。既存のものである必要はありません。
</DL>
<P><STRONG>例</STRONG>
<P>次のコマンドで、ディレクトリー <VAR>dir1</VAR> の内容をディレクトリー <VAR>dir2</VAR> にコピーします。
<PRE>   % <B>up dir1 dir2</B>
   
</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>発行側は、送信元とあて先の両方のディレクトリーの ACL で <B>a</B> (<B>管理</B>) のアクセス権を所有している必要があります。
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf238.htm">前ページ</A> &#124; <A HREF="auarf240.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
