<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>管理解説書</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- C:\IDWB\TEMP\idwt1068\AUARF000.SCR converted by idb2h R4.2 (359) -->
<!-- ID Workbench Version (OS2) on 24 Dec 1999 at 21:46:04            -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<META HTTP-EQUIV="updated" CONTENT="Fri, 24 Dec 1999 21:46:02">
<META HTTP-EQUIV="review" CONTENT="Sun, 24 Dec 2000 21:46:02">
<META HTTP-EQUIV="expires" CONTENT="Mon, 24 Dec 2001 21:46:02">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>管理解説書</H1>
<P>
<H2><A NAME="HDRKDB" HREF="auarf002.htm#ToC_213">kdb</A></H2>
<A NAME="IDX5173"></A>
<A NAME="IDX5174"></A>
<A NAME="IDX5175"></A>
<P><STRONG>目的</STRONG>
<P>認証サーバーが実行するログまたは特権アクションを表示します。
<P><STRONG>構文</STRONG>
<PRE><B>kdb</B> [<B>-dbmfile</B> &lt;<VAR>dbmfile to use (default /usr/afs/logs/AuthLog)</VAR>>]  
    [<B>-key</B> &lt;<VAR>extract entries that match specified key</VAR>>]  [<B>-help</B>]
  
</PRE>
<P><STRONG>構文</STRONG>
<P><B>kdb</B> コマンドは、
<B>AuthLog.dir</B> および、
<B>AuthLog.pag</B> ファイルの内容を表示します。これらのファイルは、ローカル・ディスク上に常駐する <B>AuthLog</B> ファイルに関連し、デフォルトでは、<B>/usr/afs/logs</B> ディレクトリーにあります。この両ファイルは上記ディレクトリーに存在していなければなりません。存在していれば通常、認証サーバーがそのマシン上で稼働していることになります。これらのファイルには、認証サーバーが実行する特権アクションに関する情報が含まれています。
<P><STRONG>注意</STRONG>
<P>AFS がそれ以外をサポートする一部のオペレーティング・システムでは、認証サーバーが <B>/usr/afs/logs/AuthLog.dir</B>、および <B>/usr/afs/logs/AuthLog.pag</B> ファイルを作成することができず、このコマンドが作動不能になる可能性があります。詳細は、<I>AFS リリース情報</I> を参照してください。
<P><STRONG>オプション </STRONG>
<DL>
<P><DT><B>-dbmfile
</B><DD>ファイルのパス名を表示するよう指定します。完全パス名、
<B>/usr/afs/logs</B> ディレクトリーに対する相対パス名、あるいはファイル名のみのいずれかを提供してください。ファイル名のみの場合は、そのファイルが、
<B>/usr/afs/logs</B> ディレクトリーに常駐している必要があります。
<B>/usr/afs/logs</B> ディレクトリーの、
<B>AuthLog.dir</B> および、
<B>AuthLog.pag</B> ファイルからの情報を表示する場合は、この引き数は省略してください。
<P><DT><B>-key
</B><DD>指示されたファイルから表示される項目を指定します。
<P><DT><B>-help
</B><DD>このコマンドのオンライン・ヘルプを出力します。これ以外の有効なオプションはすべて無視されます。
</DL>
<P><STRONG>出力</STRONG>
<P>出力の 1 行目は、それ以降の情報の元となっているファイルの場所を示しています。
<PRE><VAR>file_location</VAR> で検索されるすべての項目を印刷します。
</PRE>
<P>項目ごとに次の 2 つのフィールドが組み込まれ、コロンで区切られます。
<DL>
<P><DT><B><TT>user/server</TT>
</B><DD>対応するサービスを要求するユーザーと、そのサービスを実行したサーバーを、識別します。直接関与しているユーザーがない場合には、サーバーだけが表示されます。直接関与しているサーバーがない場合には、ユーザーだけが表示されます。
<P><DT><B><TT>service</TT>
</B><DD>ユーザーまたはサーバー・プロセスが実行した、以下のアクションまたはサービスのいずれか 1 つを識別します。
<UL>
<LI><TT>auth</TT>: チケット獲得チケットを取得した
</LI><LI><TT>chp</TT>: ユーザー・パスワードを変更した
</LI><LI><TT>cruser</TT>: 認証データベースにユーザー項目を作成した
</LI><LI><TT>delu</TT>: 認証データベースからユーザー項目を削除した
</LI><LI><TT>gtck</TT>: チケット獲得チケット以外のチケットを取得した
</LI><LI><TT>setf</TT>: 認証データベース項目にフィールドを設定した
</LI><LI><TT>unlok</TT>: 認証データベース項目のロックを解除した
</LI></UL>
</DL>
<P>出力の最終行は、項目の合計数です。
<P><STRONG>例</STRONG>
<P>次の例は、ABC コーポレーション・セル (<B>abc.com</B>) における、
<B>kdb</B> コマンドの出力を示したものです。
<PRE>   % <B>kdb</B>
   Printing all entries found in /usr/afs/logs/AuthLog
   admin,krbtgt.ABC.COM:auth
   admin,afs:gtck
   admin:cruser
   admin:delu
   4 entries were found
   
</PRE>
<P><STRONG>必要となる特権</STRONG>
<P>コマンドの発行者は、ローカル・スーパーユーザー <B>root</B> としてログインする必要があります。
<P><STRONG>関連情報 </STRONG>
<P><A HREF="auarf013.htm#HDRWQ6">AuthLog.dir、AuthLog.pag</A>
<P><A HREF="auarf102.htm#HDRBOS_GETLOG">bos getlog</A>
<P><A HREF="auarf198.htm#HDRKASERVER">kaserver</A>
<P>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">ページのトップ</A> &#124; <A HREF="auarf198.htm">前ページ</A> &#124; <A HREF="auarf200.htm">次ページ</A> &#124; <A HREF="auarf002.htm#ToC">目次</A> &#124; <A HREF="auarf284.htm#HDRINDEX">索引</A> &#93;</B> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>(C) <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
