.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VOLDUMP 8"
.TH VOLDUMP 8 "2006-10-10" "OpenAFS" "AFS Command Reference"
.SH "NAME"
voldump \- Dump an AFS volume without using the Volume Server
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBvoldump\fR \fB\-part\fR\ <\fIpartition\fR> \fB\-volumeid\fR\ <\fIvolume\ id\fR>
    [\fB\-file\fR\ <\fIdump\ file\fR>] [\fB\-verbose\fR] [\fB\-help\fR]
.PP
\&\fBvoldump\fR \fB\-p\fR\ <\fIpartition\fR> \fB\-vo\fR\ <\fIvolume\ id\fR>
    [\fB\-f\fR\ <\fIdump\ file\fR>] [\fB\-ve\fR] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBvoldump\fR dumps an \s-1AFS\s0 volume in the format used by \fBvos dump\fR without
using the Volume Server.  It must be run on the file server machine and
usually must be run as the superuser \f(CW\*(C`root\*(C'\fR to have permissions to read
the file server data.  It's primary use is to recover data from a file
server machine where the Volume Server cannot be started for some reason.
.PP
The dump output will go to standard output, or to a file if \fB\-file\fR is
specified.  \fBvos restore\fR can be used to load the resulting dump into a
new \s-1AFS\s0 volume.  \fBvoldump\fR always does a full dump.
.SH "CAUTIONS"
.IX Header "CAUTIONS"
Normally, use \fBvos dump\fR instead of this command.  \fBvoldump\fR is a tool
of last resort to try to extract data from the raw data structures stored
on the file server machine and is not as regularly tested or used as the
normal \fBvos dump\fR implementation.
.PP
If the \s-1AFS\s0 volume being dumped changes while \fBvoldump\fR is running, the
results may be inconsistent.  If the File Server and Volume Server are
running, stop them with \fBbos shutdown\fR or a similar method before running
this command.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-part\fR <\fIpartition\fR>" 4
.IX Item "-part <partition>"
Names the partition on which the volume to be dumped is located.
\&\fBvoldump\fR does not take the normal full range of ways of specifying a
partition.  Instead, \fIpartition\fR must be either a single letter between
\&\f(CW\*(C`a\*(C'\fR and \f(CW\*(C`z\*(C'\fR, corresponding to \fI/vicepa\fR through \fI/vicepz\fR, or the full
path to the file server partition.  \f(CW\*(C`aa\*(C'\fR is not recognized; use
\&\fI/vicepaa\fR instead.
.IP "\fB\-volumeid\fR <\fIvolume id\fR>" 4
.IX Item "-volumeid <volume id>"
Specifies the \s-1ID\s0 of the volume to dump.  The volume must be specified by
numeric \s-1ID\s0, not by name.
.IP "\fB\-file\fR <\fIdump file\fR>" 4
.IX Item "-file <dump file>"
Specifies the output file for the dump.  If this option is not given, the
volume will be dumped to standard output.
.IP "\fB\-verbose\fR" 4
.IX Item "-verbose"
Asks for a verbose trace of the dump process.  This trace information will
be sent to standard error.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following command dumps the volume 1936964939 on the \fI/vicepb\fR
partition to the file \fI/tmp/volume.dump\fR:
.PP
.Vb 1
\&    % voldump \-part /vicepb \-volumeid 1936964939 \-file /tmp/volume.dump
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must have read access to the file server data stored in the
specified partition.  Usually, this means that the issuer must be the
local superuser \f(CW\*(C`root\*(C'\fR on the file server machine.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIbos_shutdown\fR\|(8),
\&\fIvolserver\fR\|(8),
\&\fIvos_dump\fR\|(1),
\&\fIvos_restore\fR\|(1)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright 2005 Russ Allbery <rra@stanford.edu>
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  This
man page was written by Russ Allbery for OpenAFS.
