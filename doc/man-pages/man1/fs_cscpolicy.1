.\" Automatically generated by Pod::Man 2.12 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "FS_CSCPOLICY 1"
.TH FS_CSCPOLICY 1 "2009-07-31" "OpenAFS" "AFS Command Reference"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
fs_cscpolicy \- Change client side caching policy for AFS shares [Windows only]
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBfs cscpolicy\fR [\fB\-share\fR\ \fIsharename\fR\ [\fB\-manual\fR|\fB\-programs\fR|\fB\-documents\fR|\fB\-disable\fR]\ ]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The fs cscpolicy command sets the client side caching policy for a
particular \s-1AFS\s0 share, or displays a list of policies.
.PP
This command can change the policy of only one share at a time.
.PP
Only one of the policy options \fB\-manual\fR, \fB\-programs\fR, \fB\-documents\fR, or
\&\fB\-disable\fR, may be selected.  The default policy is \fB\-manual\fR.
.PP
After changing the policy for a share, you must close all applications
that accessed files on this share, or restart \s-1AFS\s0 Client, for the change
to take effect.
.SH "CAUTIONS"
.IX Header "CAUTIONS"
This command is only available on Windows.
.PP
Use of this functionality is not recommended.  Windows Offline Folders do
not work well with \s-1AFS\s0 since the \s-1AFS\s0 server is always present.  When this
functionality was contributed and incorporated, it was believed to be safe
for the \s-1AFS\s0 cache manager to return \s-1BADNETPATH\s0 errors when a single file
server or volume was inaccessible.  It is now known that returning such
errors causes the Microsoft \s-1SMB\s0 redirector to drop the connection to the
\&\s-1AFS\s0 server resulting in serious side effects.
.PP
This functionality is specific to use with the Microsoft \s-1SMB\s0 redirector.
Client Side Caching (Offline Folders) is built into that driver and will
not be present in the native \s-1AFS\s0 redirector, so this functionality will be
removed at a future date.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-share\fR \fIsharename\fR" 4
.IX Item "-share sharename"
The name of the share whose policy is to be changed.  (If omitted, no
share policy is changed.)
.IP "\fB\-manual\fR" 4
.IX Item "-manual"
Specifies manual caching of documents.
.IP "\fB\-programs\fR" 4
.IX Item "-programs"
Specifies automatic caching of programs and documents.
.IP "\fB\-documents\fR" 4
.IX Item "-documents"
Specifies automatic caching of documents.
.IP "\fB\-disable\fR" 4
.IX Item "-disable"
Disables caching.
.SH "OUTPUT"
.IX Header "OUTPUT"
When changing the policy of a share, the output is:
.PP
.Vb 2
\&   CSC policy on share "share" changed to "policy".
\&   Close all applications that accessed files on this share or restart AFS Client for the change to take effect.
.Ve
.PP
When displaying policies, the output is:
.PP
.Vb 1
\&   policyname = policy
.Ve
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following command disables all caching on the share \*(L"\s-1AFS1\s0\*(R":
.PP
.Vb 1
\&   % fs cscpolicy \-share AFS1 \-disable
.Ve
.PP
The following command displays all policies currently in effect:
.PP
.Vb 1
\&   % fs cscpolicy
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must be have \s-1AFS\s0 Client Administrator access, either to display
or to set policies.
.PP
In addition, to change policies, the issuer must be a Windows
Administrator, since policy information is stored in a protected area of
the Windows Registry.
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
This document was written by Mike Robinson, and is released under the \s-1IBM\s0
Public License Version 1.0.  Jeffrey Altman made several corrections,
clarifications, and additions.
