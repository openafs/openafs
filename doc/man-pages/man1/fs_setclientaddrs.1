.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "FS_SETCLIENTADDRS 1"
.TH FS_SETCLIENTADDRS 1 "2006-10-10" "OpenAFS" "AFS Command Reference"
.SH "NAME"
fs setclientaddrs \- Sets the client interfaces to register with the File Server
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBfs setclientaddrs\fR [\fB\-address\fR\ <\fIclient\ network\ interfaces\fR>+] [\fB\-help\fR]
.PP
\&\fBfs setcl\fR [\fB\-a\fR\ <\fIclient\ network\ interfaces\fR>+] [\fB\-h\fR]
.PP
\&\fBfs sc\fR [\fB\-a\fR\ <\fIclient\ network\ interfaces\fR>+] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBfs setclientaddrs\fR command defines the \s-1IP\s0 addresses of the
interfaces that the local Cache Manager registers with a File Server when
first establishing a connection to it.
.PP
The File Server uses the addresses when it initiates a remote procedure
call (\s-1RPC\s0) to the Cache Manager (as opposed to responding to an \s-1RPC\s0 sent
by the Cache Manager). There are two common circumstances in which the
File Server initiates RPCs: when it breaks callbacks and when it pings the
client machine to verify that the Cache Manager is still accessible.
.PP
The list of interfaces specified with this command replaces the list that
the Cache Manager constructs and records in kernel memory as it
initializes. At that time, if the file \fI/usr/vice/etc/NetInfo\fR exists on
the client machine's local disk, the Cache Manager uses its contents as
the basis for the list of interfaces addresses. If the file does not
exist, the Cache Manager instead uses the network interfaces configured
with the operating system. It then removes from the list any address
included in the local \fI/usr/vice/etc/NetRestrict\fR file. It records the
final list in kernel memory. (An administrator must create the \fINetInfo\fR
and \fINetRestrict\fR files; there are no default versions of them.)
.PP
If an \s-1RPC\s0 to that interface fails, the File Server simultaneously sends
RPCs to all of the other interfaces in the list, to learn which of them
are still available. Whichever interface replies first is the one to which
the File Server then sends pings and RPCs to break callbacks.
.PP
To list the interfaces that the Cache Manager is currently registering
with File Servers, use the \fBfs getclientaddrs\fR command.
.SH "CAUTIONS"
.IX Header "CAUTIONS"
The list specified with this command persists in kernel memory only until
the client machine reboots. To preserve it across reboots, either list the
interfaces in the local \fI/usr/vice/etc/NetInfo\fR file, or place the
appropriate \fBfs setclientaddrs\fR command in the machine's \s-1AFS\s0
initialization script.
.PP
Changes made with this command do not propagate automatically to File
Servers to which the Cache Manager has already established a
connection. To force such File Servers to use the revised list, either
reboot each file server machine, or change the \fINetInfo\fR file and reboot
the client machine.
.PP
The fs command interpreter verifies that each of the addresses specified
as a value for the \fB\-address\fR argument is actually configured with the
operating system on the client machine. If it is not, the command fails
with an error message that marks the address as a \f(CW\*(C`Nonexistent
interface\*(C'\fR.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-address\fR <\fIclient network interfaces\fR>+" 4
.IX Item "-address <client network interfaces>+"
Specifies each \s-1IP\s0 address to place in the list of interfaces, in dotted
decimal format. Hostnames are not acceptable. Separate each address with
one or more spaces.
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "OUTPUT"
.IX Header "OUTPUT"
The message
.PP
.Vb 1
\&   Adding <interface>
.Ve
.PP
confirms that each new interface was added to the Cache Manager's
list. The address appears in hexadecimal format to match the notation used
in the File Server log, \fI/usr/afs/logs/FileLog\fR.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following example sets the two interfaces that the Cache Manager
registers with File Servers.
.PP
.Vb 3
\&   % fs setclientaddrs 191.255.105.68 191.255.108.84
\&   Adding 0xbfff6944
\&   Adding 0xbfff6c54
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must be logged in as the local superuser root.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fINetInfo\fR\|(5),
\&\fINetRestrict\fR\|(5),
\&\fIfileserver\fR\|(8),
\&\fIfs_getclientaddrs\fR\|(1)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
