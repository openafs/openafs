.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VOS_REMOVE 1"
.TH VOS_REMOVE 1 "2006-10-10" "OpenAFS" "AFS Command Reference"
.SH "NAME"
vos remove \- Removes a volume from a site
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBvos remove\fR [\fB\-server\fR\ <\fImachine\ name\fR>]
    [\fB\-partition\fR\ <\fIpartition\ name\fR>]
    \fB\-id\fR\ <\fIvolume\ name\ or\ \s-1ID\s0\fR> [\fB\-cell\fR\ <\fIcell\ name\fR>]
    [\fB\-noauth\fR] [\fB\-localauth\fR] [\fB\-verbose\fR] [\fB\-help\fR]
.PP
\&\fBvos remo\fR [\fB\-s\fR\ <\fImachine\ name\fR>] [\fB\-p\fR\ <\fIpartition\ name\fR>]
    \fB\-i\fR\ <\fIvolume\ name\ or\ \s-1ID\s0\fR> [\fB\-c\fR\ <\fIcell\ name\fR>] [\fB\-n\fR] [\fB\-l\fR]
    [\fB\-v\fR] [\fB\-h\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBvos remove\fR command removes the indicated volume from the partition
on which it resides. The Volume Location Database (\s-1VLDB\s0) record is altered
appropriately, as described in the following paragraphs. Use this command
to remove any of the three types of volumes; the effect depends on the
type.
.IP "\(bu" 4
If the \fB\-id\fR argument names the read/write volume (that is, specifies the
volume's base name), both it and the associated backup volume are removed
from the partition that houses them. The \fB\-server\fR and \fB\-partition\fR
arguments are optional, because there can be only one read/write
site. When the volume is removed, the site information is also removed
from the \s-1VLDB\s0 entry. The read/write and backup volume \s-1ID\s0 numbers no longer
appear in the output from the \fBvos listvldb\fR or \fBvos examine\fR commands,
but they are preserved internally. Read-only sites, if any, are not
affected, but cannot be changed unless a read/write site is again
defined. The site count reported by the \fBvos examine\fR and \fBvos listvldb\fR
commands as \f(CW\*(C`number of sites\*(C'\fR decrements by one. The entire \s-1VLDB\s0 entry is
removed if there are no read-only sites.
.IP "\(bu" 4
If the \fB\-id\fR argument names a read-only volume, it is removed from the
partition that houses it, and the corresponding site information is
removed from the \s-1VLDB\s0 entry. The site count reported by the \fBvos examine\fR
and \fBvos listvldb\fR commands as \f(CW\*(C`number of sites\*(C'\fR decrements by one for
each volume you remove. If there is more than one read-only site, the
\&\fB\-server\fR argument (and optionally \fB\-partition\fR argument) must be used
to specify the site from which to remove the volume. If there is only one
read-only site, the \fB\-id\fR argument is sufficient; if there is also no
read/write volume in this case, the entire \s-1VLDB\s0 entry is removed.
.IP "\(bu" 4
If the \fB\-id\fR argument names a backup volume, it is removed from the
partition that houses it. The \fB\-server\fR and \fB\-partition\fR arguments are
optional, because there can be only one backup site. The backup volume \s-1ID\s0
number no longer appears in the output from the \fBvos listvldb\fR command or
in the corresponding portion of the output from the \fBvos examine\fR
command, but is preserved internally.
.PP
This command is the most appropriate one for removing volumes in almost
all cases. Other commands that remove only volumes or only \s-1VLDB\s0 entries
(such as the \fBvos delentry\fR, \fBvos remsite\fR and \fBvos zap\fR commands) by
definition can put the volumes and \s-1VLDB\s0 out of sync. Use them only in the
special circumstances mentioned on their reference pages. Like the \fBvos
delentry\fR command, this command can remove a \s-1VLDB\s0 entry when no
corresponding volumes exist on the file server machine. Like the \fBvos
zap\fR command, this command can remove a volume that does not have a \s-1VLDB\s0
entry, as long as the volume is online, \fB\-server\fR and \fB\-partition\fR
arguments are provided, and the \fB\-id\fR argument specifies the volume's \s-1ID\s0
number.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-server\fR <\fIserver name\fR>" 4
.IX Item "-server <server name>"
Identifies the file server machine that houses the volume to remove. It is
necessary only when the \fB\-id\fR argument names a read-only volume that
exists at multiple sites. Provide the machine's \s-1IP\s0 address or its host
name (either fully qualified or using an unambiguous abbreviation). For
details, see \fIvos\fR\|(1).
.IP "\fB\-partition\fR <\fIpartition name\fR>" 4
.IX Item "-partition <partition name>"
Identifies the partition (on the file server machine specified by the
\&\fB\-server\fR argument) that houses the volume to remove. Provide the
partition's complete name with preceding slash (for example, \f(CW\*(C`/vicepa\*(C'\fR)
or use one of the three acceptable abbreviated forms. For details, see
\&\fIvos\fR\|(1).
.Sp
Including this argument is necessary only when the \fB\-id\fR argument names a
read-only volume that exists at multiple sites. Provide the \fB\-server\fR
argument along with this one.
.IP "\fB\-id\fR <\fIvolume name or id\fR>" 4
.IX Item "-id <volume name or id>"
Identifies the volume to remove, either by its complete name or volume \s-1ID\s0
number. If identifying a read-only or backup volume by name, include the
appropriate extension (\f(CW\*(C`.readonly\*(C'\fR or \f(CW\*(C`.backup\*(C'\fR).
.IP "\fB\-cell\fR <\fIcell name\fR>" 4
.IX Item "-cell <cell name>"
Names the cell in which to run the command. Do not combine this argument
with the \fB\-localauth\fR flag. For more details, see \fIvos\fR\|(1).
.IP "\fB\-noauth\fR" 4
.IX Item "-noauth"
Assigns the unprivileged identity \f(CW\*(C`anonymous\*(C'\fR to the issuer. Do not
combine this flag with the \fB\-localauth\fR flag. For more details, see
\&\fIvos\fR\|(1).
.IP "\fB\-localauth\fR" 4
.IX Item "-localauth"
Constructs a server ticket using a key from the local
\&\fI/usr/afs/etc/KeyFile\fR file. The \fBvos\fR command interpreter presents it
to the Volume Server and Volume Location Server during mutual
authentication. Do not combine this flag with the \fB\-cell\fR argument or
\&\fB\-noauth\fR flag. For more details, see \fIvos\fR\|(1).
.IP "\fB\-verbose\fR" 4
.IX Item "-verbose"
Produces on the standard output stream a detailed trace of the command's
execution. If this argument is omitted, only warnings and error messages
appear.
.IP "\fB\-help\fR" 4
.IX Item "-help"
Prints the online help for this command. All other valid options are
ignored.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
The following example removes the read/write volume \f(CW\*(C`user.terry\*(C'\fR and its
backup version, if any.
.PP
.Vb 1
\&   % vos remove  \-id user.terry
.Ve
.PP
The following example removes the read-only volume \f(CW\*(C`root.afs.readonly\*(C'\fR
from one of its sites, the \fI/vicepa\fR partition on the file server machine
\&\f(CW\*(C`fs1.abc.com\*(C'\fR.
.PP
.Vb 1
\&   % vos remove fs1.abc.com  a  root.afs.readonly
.Ve
.SH "PRIVILEGE REQUIRED"
.IX Header "PRIVILEGE REQUIRED"
The issuer must be listed in the \fI/usr/afs/etc/UserList\fR file on the
machine specified with the \fB\-server\fR argument and on each database server
machine. If the \fB\-localauth\fR flag is included, the issuer must instead be
logged on to a server machine as the local superuser \f(CW\*(C`root\*(C'\fR.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIvos\fR\|(1),
\&\fIvos_delentry\fR\|(1),
\&\fIvos_remsite\fR\|(1),
\&\fIvos_zap\fR\|(1)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
\&\s-1IBM\s0 Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the \s-1IBM\s0 Public License Version 1.0.  It was
converted from \s-1HTML\s0 to \s-1POD\s0 by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
